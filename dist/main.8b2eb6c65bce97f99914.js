/*! For license information please see main.8b2eb6c65bce97f99914.js.LICENSE.txt */
(()=>{var e,t,n,a,o={51:(e,t,n)=>{"use strict";var a,o,r,i,s,c,l,d,u;n.d(t,{Gi:()=>a,Nn:()=>i,gH:()=>o}),function(e){e.Aztec="AZTEC",e.Codabar="CODABAR",e.Code39="CODE_39",e.Code93="CODE_93",e.Code128="CODE_128",e.DataMatrix="DATA_MATRIX",e.Ean8="EAN_8",e.Ean13="EAN_13",e.Itf="ITF",e.Pdf417="PDF_417",e.QrCode="QR_CODE",e.UpcA="UPC_A",e.UpcE="UPC_E"}(a||(a={})),function(e){e.CalendarEvent="CALENDAR_EVENT",e.ContactInfo="CONTACT_INFO",e.DriversLicense="DRIVERS_LICENSE",e.Email="EMAIL",e.Geo="GEO",e.Isbn="ISBN",e.Phone="PHONE",e.Product="PRODUCT",e.Sms="SMS",e.Text="TEXT",e.Url="URL",e.Wifi="WIFI",e.Unknown="UNKNOWN"}(o||(o={})),function(e){e[e["640x480"]=0]="640x480",e[e["1280x720"]=1]="1280x720",e[e["1920x1080"]=2]="1920x1080",e[e["3840x2160"]=3]="3840x2160"}(r||(r={})),function(e){e.Front="FRONT",e.Back="BACK"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.CANCELED=3]="CANCELED",e[e.COMPLETED=4]="COMPLETED",e[e.FAILED=5]="FAILED",e[e.INSTALLING=6]="INSTALLING",e[e.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"}(s||(s={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(c||(c={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(l||(l={})),function(e){e[e.FAX=0]="FAX",e[e.HOME=1]="HOME",e[e.MOBILE=2]="MOBILE",e[e.UNKNOWN=3]="UNKNOWN",e[e.WORK=4]="WORK"}(d||(d={})),function(e){e[e.OPEN=1]="OPEN",e[e.WEP=2]="WEP",e[e.WPA=3]="WPA"}(u||(u={}))},251:(e,t)=>{t.read=function(e,t,n,a,o){var r,i,s=8*o-a-1,c=(1<<s)-1,l=c>>1,d=-7,u=n?o-1:0,m=n?-1:1,p=e[t+u];for(u+=m,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-l;else{if(r===c)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),r-=l}return(p?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,s,c,l=8*r-o-1,d=(1<<l)-1,u=d>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:r-1,f=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+u>=1?m/c:m*Math.pow(2,1-u))*c>=2&&(i++,c/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(t*c-1)*Math.pow(2,o),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[n+p]=255&i,p+=f,i/=256,l-=8);e[n+p-f]|=128*h}},398:(e,t,n)=>{"use strict";n.d(t,{CF:()=>c,QQ:()=>l,UH:()=>i,nI:()=>s});var a=n(31481),o=n(48805);o.z.RM=0,o.z.NE=-1e5,o.z.PE=1e5;const r=(0,o.z)(10);function i(e,t){return BigInt((0,o.z)(e).mul(r.pow(t??a.Tu9.decimals)).round().toString())}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(e,t??a.Tu9.decimals,n).toString()}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.z)(e.toString()).div(r.pow(t)).round(t,n?o.z.roundHalfUp:void 0)}function l(e,t){return(0,o.z)(e).round(t).toString()}},809:(e,t,n)=>{"use strict";n.d(t,{UA:()=>u,_O:()=>d,bk:()=>i,fC:()=>c,m1:()=>l,tH:()=>r,wg:()=>s});var a=n(31481),o=n(398);n(59121);const r="bigint:";function i(e,t){return"string"==typeof t&&t.startsWith(r)?BigInt(t.slice(7)):t}function s(e){return-0n===e||e<0n?-e:e}function c(e,t){return e*a.X1K/(0,o.UH)(t)}function l(e,t){return e*(0,o.UH)(t)/a.X1K}function d(e,t){return e>t?e:t}function u(e,t){return e<t?e:t}},5130:(e,t,n)=>{"use strict";n.d(t,{U$:()=>s});var a=n(24082),o=n(14235),r=n(55029);class i{requestStates=new Map;requestStatesByCallback=new Map;constructor(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.shouldUseJson=a,this.targetOrigin=o}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,a=(0,o.A)(),r={type:"callMethod",messageId:a,...e},i={messageId:a},s=new Promise((e,t)=>{Object.assign(i,{resolve:e,reject:t})});if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();i.callback=e,n.set(e,i)}return t.set(a,i),s.catch(()=>{}).finally(()=>{t.delete(a),i.callback&&n.delete(i.callback)}),this.postMessage(r),s}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){try{e=(0,a.d$)(e)}catch(e){return void(0,r.SJ)("PostMessageConnector: Failed to parse message",e)}const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject((0,a.lB)(e.error)):n.resolve(e.response))}else if("methodCallback"===e.type){var o;const n=t.get(e.messageId);null==n||null===(o=n.callback)||void 0===o||o.call(n,...e.callbackArgs)}else if("unhandledError"===e.type)throw(0,a.lB)(e.error)}postMessage(e){e.channel=this.channel;let t=e;this.shouldUseJson&&(t=(0,a.HE)(e)),"open"in this.target?this.target.postMessage(t,this.targetOrigin):this.target.postMessage(t)}}function s(e,t,n,a){const o=new i(e,t,n,void 0,a);function r(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",r),o.destroy=()=>{e.removeEventListener("message",r)},o}},9705:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});class a{promise;reject;resolve;constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}static resolved(e){const t=new a;return t.resolve(e),t}}},10309:(e,t,n)=>{"use strict";n.d(t,{CS:()=>g,GS:()=>f,N5:()=>d,TK:()=>u,UX:()=>s,YG:()=>l,Z2:()=>o,d_:()=>i,fU:()=>p,mf:()=>m,pY:()=>r});var a=n(19314);const o=1e3,r=60*o,i=60*r*24,s=365*i,c=(0,a.A)(function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hourCycle:"h23"})});function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),i=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}return i.join(" ")}function d(e,t){return function(e){return g(new Date)===g(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),g(t)===g(new Date(e))}(t)?e("Yesterday"):u(e.code,t)}function u(e,t){const n=new Date(t),a=g(n),o=h(new Date),r=n.getFullYear()===o.getFullYear();return c(e,a,r,"long")}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=g(o),i=h(new Date),s=g(i),l=n&&r===s,d=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||=o.getFullYear()===i.getFullYear(),c(e,d,a,!l&&"short",l,n)}function p(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function f(e){const t=new Date,n=e instanceof Date?e:new Date(e);return Math.ceil((n.getTime()-t.getTime())/i)}function h(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function g(e){return h(e).getTime()}},14235:(e,t,n)=>{"use strict";function a(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>a})},16546:(e,t,n)=>{"use strict";var a;n.d(t,{$c:()=>a,EA:()=>u,E_:()=>s,F3:()=>i,I9:()=>o,Ii:()=>r}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(a||(a={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const r=(e=>e.Capacitor=(e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),s=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},c=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=i,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==i(),n.isPluginAvailable=e=>{const t=c.get(e);return!!(null==t?void 0:t.platforms.has(i()))||!!s(e)},n.registerPlugin=(e,l={})=>{const d=c.get(e);if(d)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),d.proxy;const u=i(),m=s(e);let p;const f=r=>{let i;const s=(...s)=>{const c=(async()=>(!p&&u in l?p=p="function"==typeof l[u]?await l[u]():l[u]:null!==t&&!p&&"web"in l&&(p=p="function"==typeof l.web?await l.web():l.web),p))().then(t=>{const c=((t,r)=>{var i,s;if(!m){if(t)return null===(s=t[r])||void 0===s?void 0:s.bind(t);throw new o(`"${e}" plugin is not implemented on ${u}`,a.Unimplemented)}{const a=null==m?void 0:m.methods.find(e=>r===e.name);if(a)return"promise"===a.rtype?t=>n.nativePromise(e,r.toString(),t):(t,a)=>n.nativeCallback(e,r.toString(),t,a);if(t)return null===(i=t[r])||void 0===i?void 0:i.bind(t)}})(t,r);if(c){const e=c(...s);return i=null==e?void 0:e.remove,e}throw new o(`"${e}.${r}()" is not implemented on ${u}`,a.Unimplemented)});return"addListener"===r&&(c.remove=async()=>i()),c};return s.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(s,"name",{value:r,writable:!1,configurable:!1}),s},h=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=h({eventName:e},t),a=async()=>{const a=await n;g({eventName:e,callbackId:a},t)},o=new Promise(e=>n.then(()=>e({remove:a})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},o},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return m?v:h;case"removeListener":return g;default:return f(t)}}});return r[e]=y,c.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(l),...m?[u]:[]])}),y},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),i=r.registerPlugin;class s{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new r.Exception(e,a.Unimplemented)}unavailable(e="not available"){return new r.Exception(e,a.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),l=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends s{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=l(n).trim(),a=l(a).trim(),t[n]=a}),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${o}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}i("CapacitorCookies",{web:()=>new d});const u=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,a,o)=>(n[a]=e[t[o]],n),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class m extends s{async request(e){const t=u(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce((e,n)=>{const[a,o]=n;let r,i;return Array.isArray(o)?(i="",o.forEach(e=>{r=t?encodeURIComponent(e):e,i+=`${a}=${r}&`}),i.slice(0,-1)):(r=t?encodeURIComponent(o):o,i=`${a}=${r}`),`${e}&${i}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,o=await fetch(a,t),r=o.headers.get("content-type")||"";let i,s,{responseType:c="text"}=o.ok?e:{};switch(r.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":s=await o.blob(),i=await(async e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)}))(s);break;case"json":i=await o.json();break;default:i=await o.text()}const l={};return o.headers.forEach((e,t)=>{l[t]=e}),{data:i,headers:l,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}i("CapacitorHttp",{web:()=>new m})},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const a=new WeakMap;function o(e){return function(){let t=a.get(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const i=o.map(String).join("_");if(t){const e=t.get(i);if(e)return e}else t=new Map,a.set(e,t);const s=e(...o);return t.set(i,s),s}}},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>s,ZM:()=>c,i0:()=>o,iT:()=>r,qM:()=>i});var a=n(66644);function o(e,t){t(()=>{e()&&o(e,t)})}function r(e,t){e()&&t(()=>{r(e,t)})}const i={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function s(e){let{timing:t=i.linear,onUpdate:n,duration:o,onEnd:s,from:c,to:l}=e;const d=Date.now();let u=!1;return r(()=>{if(u)return!1;const e=Date.now(),a=Math.min((e-d)/o,1),r=t(a);if("number"==typeof c&&"number"==typeof l)n(c+(l-c)*r);else if(Array.isArray(c)&&Array.isArray(l)){const e=c.map((e,t)=>e+(l[t]-e)*r);n(e)}return 1===a&&(null==s||s()),a<1},a.YS),()=>{u=!0,null==s||s(!0)}}function c(e,t){Object.assign(e.style,t)}},23693:(e,t,n)=>{"use strict";var a,o;n.d(t,{_:()=>o,k:()=>a}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},24082:(e,t,n)=>{"use strict";n.d(t,{HE:()=>s,TK:()=>l,d$:()=>c,lB:()=>d});var a=n(809);const o="undefined:";function r(e,t){return void 0===t?`${o}marker`:t}function i(e,t){return"string"==typeof t&&t.startsWith(a.tH)?BigInt(t.slice(a.tH.length)):"string"==typeof t&&t.startsWith(o)?void 0:t}function s(e){return JSON.stringify(e,r)}function c(e){return"string"==typeof e?JSON.parse(e,i):e}function l(e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:{name:"Error",message:String(e)}}function d(e){let{name:t,message:n,stack:a}=e;const o=new Error(n);return o.name=t,a&&(o.stack=a),o}},31481:(e,t,n)=>{"use strict";n.d(t,{AIK:()=>ve,AuB:()=>En,Avc:()=>In,B9l:()=>x,BZS:()=>We,Ba4:()=>bn,Bqy:()=>bt,Bx3:()=>Tn,C39:()=>i,CV:()=>Ke,Czf:()=>Ht,Dde:()=>X,Dj5:()=>Bn,DvZ:()=>I,F9m:()=>ze,FHx:()=>L,FgL:()=>Te,Fgn:()=>xt,Fkn:()=>ge,Fmr:()=>Nt,GKQ:()=>xn,GX2:()=>ft,Guj:()=>o,HOw:()=>nt,HWN:()=>Me,I04:()=>pe,Ia6:()=>Be,JDR:()=>Ce,JWy:()=>He,JhS:()=>Rt,Jxt:()=>De,K_I:()=>qt,Kfi:()=>Jt,Kih:()=>ce,KmP:()=>nn,Kq_:()=>Re,LaL:()=>S,MS3:()=>J,MVx:()=>u,NEx:()=>D,NFS:()=>Ye,OKZ:()=>rn,OZB:()=>Mt,Oig:()=>d,OuE:()=>je,PKm:()=>_e,PcM:()=>U,Pcx:()=>Kt,QSz:()=>gt,RB:()=>wt,RTV:()=>y,S7e:()=>$t,SKs:()=>me,ScF:()=>Wt,Svl:()=>vn,TI6:()=>r,Tu9:()=>ut,UAn:()=>Ze,UMQ:()=>b,USn:()=>wn,UuV:()=>te,V3_:()=>B,VIF:()=>$,VL7:()=>E,Vxu:()=>fe,W1_:()=>T,W75:()=>h,WHY:()=>an,WJk:()=>Ne,WUE:()=>kt,WVU:()=>on,Wvq:()=>Ve,X1K:()=>Ge,X6R:()=>rt,X7T:()=>mt,Xr6:()=>Oe,Xv2:()=>Se,YDh:()=>yn,YO8:()=>q,YnH:()=>se,Yyb:()=>R,ZYg:()=>cn,_J8:()=>le,_bq:()=>_t,aD4:()=>M,aEZ:()=>sn,b2d:()=>it,bOf:()=>Z,bUn:()=>Ae,c2m:()=>H,dCY:()=>kn,dL4:()=>et,dby:()=>ht,dlH:()=>m,dmC:()=>be,dnp:()=>ae,dqR:()=>Qe,eZ2:()=>Zt,eec:()=>Ee,eoU:()=>Vt,fPM:()=>An,fSo:()=>ye,gR8:()=>tn,gSB:()=>qe,gY_:()=>tt,gbw:()=>hn,gmk:()=>k,gpw:()=>Pe,gs5:()=>Sn,h4K:()=>Ie,hL1:()=>g,hUJ:()=>at,hUs:()=>Yt,hkI:()=>O,hl5:()=>s,hnd:()=>$e,i11:()=>ie,iAh:()=>F,iLw:()=>yt,iX4:()=>Pt,igk:()=>G,jht:()=>w,jt9:()=>Et,jzp:()=>j,k9U:()=>ee,kuH:()=>gn,kuw:()=>Ue,lHX:()=>de,lWW:()=>Y,lfO:()=>Ot,lk4:()=>K,lnc:()=>ln,lsx:()=>Ct,mEK:()=>Cn,n3s:()=>Le,nQN:()=>ct,nj6:()=>jt,o$d:()=>Fe,oR5:()=>Lt,oUU:()=>pt,ow1:()=>W,p8S:()=>f,pLj:()=>Je,pV9:()=>Xt,pge:()=>ne,pyN:()=>un,pyR:()=>ue,q5n:()=>ot,qL:()=>st,qsd:()=>pn,rFA:()=>c,rKC:()=>Ut,reE:()=>Q,rkj:()=>_,sml:()=>dn,tCm:()=>Ft,tI4:()=>dt,tKX:()=>C,tOu:()=>zt,tpB:()=>ke,twH:()=>p,uPU:()=>Bt,uSm:()=>en,uyj:()=>N,v5B:()=>v,vOV:()=>l,vdF:()=>he,vsz:()=>vt,wOb:()=>Gt,wbd:()=>lt,wg4:()=>z,wln:()=>xe,wpN:()=>It,xA_:()=>P,xB5:()=>V,xFF:()=>mn,yR2:()=>Qt,yq6:()=>A,zHL:()=>oe,zP3:()=>re,zTb:()=>fn});var a=n(65606);const o="production",r=!1,i="Dps Wallet",s="4.2.9",c="55c77869034f6decae1fd4552eaa735f98377f64",l="staging"===o?"Beta":"development"===o?"Dev":void 0,d="production"!==o&&"perf"!==o&&"test"!==o,u=!1,m=!1,p=!1,f="production"===o,h="test"===o,g=!1,v=!1,y="1"===a.env.IS_OPERA_EXTENSION,w=!1,b=!1,E=!1,k=!1,C=!1,N="https://dumb-host",S="[Inactive]",A="https://walletdps.netlify.app",I=r?"https://beta.wallet.ton.org":"https://beta.mytonwallet.app",T="https://walletdps.netlify.app",B="https://github.com/mytonwallet-org",x="DPStoken_bot",_=d&&!w,L="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",D=4,O=r?"TonWallet":"MyTonWallet",M=r?"https://wallet.ton.org":"https://mytonwallet.app",F=!r,P=24,R=F?[12,24]:[24],U=64,W=3,H=700,$="active-view-transition",V=50,z=16,K=30,q=70,j=110,Y=120,G=156,Q=192,X=0,Z=2,J=" ",ee=1,te=!1,ne=r?"tonwallet-global-state":"mytonwallet-global-state",ae=0,oe=1,re=2,ie=re,se="system",ce="0-ton-mainnet",le="https://toncenter.com",de="https://tonapi.io",ue="https://testnet.toncenter.com",me="https://testnet.tonapi.io",pe=9,fe=4,he=3,ge="Zyflex",ve={en:"dps_wallets",ru:"@dps_wallets"},ye={getgems:"Getgems",fragment:"Fragment"},we="https://static.mytonwallet.org",be=`${we}/cards/`,Ee=`${we}/mint-cards/`,ke="https://dpsmult.netlify.app",Ce="https://dpsmult.netlify.app",Ne={en:"https://mytonwallet.io/en/blog/",ru:"https://mytonwallet.io/ru/blog/"},Se="https://mytonwallet.io/terms-of-use",Ae="https://mytonwallet.io/privacy-policy",Ie="https://web.telegram.org/a/",Te="https://getgems.io/nft/EQDCUj2OLyLazbeh648aO2Sj5yQGS0_VsxDFOdoGfoQCBN63",Be=ye.getgems,xe="https://getgems.io/",_e="https://testnet.getgems.io/",Le="NOHASH",De=["http://localhost:*","https://tonscan.org"],Oe="https://*.netlify.app",Me="zyflexhub@gmail.com",Fe="https://changelly.com/",Pe="security@changelly.com",Re="https://changelly.com/terms-of-use",Ue="https://changelly.com/privacy-policy",We="https://changelly.com/aml-kyc",He=108e5,$e="tonproxy.io:38080 tonproxy.io:38081 tonproxy.io:38082",Ve=.01,ze="mtw-image",Ke="mtw-lang-240",qe=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"简体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1},{langCode:"tr",name:"Turkish",nativeName:"Türkçe",rtl:!1},{langCode:"de",name:"German",nativeName:"Deutsch",rtl:!1},{langCode:"th",name:"Thai",nativeName:"ไทย",rtl:!1},{langCode:"uk",name:"Ukrainian",nativeName:"Українська",rtl:!1},{langCode:"pl",name:"Polish",nativeName:"Polski",rtl:!1}],je=!1,Ye=65536e3,Ge=1000000000n,Qe=15000000n,Xe=("EQB4ugVrUUV7ySLfQFgvohiMHKE3i5ma_U6CixUd3aAk3U1A".split(" "),"EQB4ugVrUUV7ySLfQFgvohiMHKE3i5ma_U6CixUd3aAk3U1A"),Ze=Ge,Je=10000n*Ge,et=100000000n,tt=2,nt=r?"tonwallet":"mytonwallet",at="embedded-dapp-bridge",ot=["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"],rt="super:telegram-gifts",it="https://cards.mytonwallet.io",st="EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM",ct="EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",lt=14,dt=30,ut={name:"Toncoin",symbol:"TON",slug:"toncoin",decimals:9,chain:"ton",cmcSlug:"toncoin"},mt={name:"TRON",symbol:"TRX",slug:"trx",decimals:6,chain:"tron",cmcSlug:"tron"},pt={name:"MyTonWallet Coin",symbol:"MY",slug:"ton-eqcfvnlrbn",decimals:9,chain:"ton",minterAddress:"EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w"},ft={...pt,slug:"ton-kqawlxpebw",minterAddress:"kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ"},ht={[ut.slug]:"icon-chain-ton",[mt.slug]:"icon-chain-tron"},gt="tron-tr7nhqjekq",vt="tron-tg3xxyexbk",yt="ton-eqcxe6mutq",wt="ton-kqd0gkbm8z",bt="ton-eqcqc6ehrj",Et="TGfgtSZJjXaYpCfGtB4Khuii1HR9bHP56M",kt=1e6,Ct="https://t.me/DPSwallet_bot/?startapp",Nt=(new Set([ut.slug,yt,mt.slug,gt]),"ton-eqcm3b12qk"),St={name:"Tether USD",symbol:"USDT",decimals:6,chain:"tron"},At={name:"Tether USD",symbol:"USD₮",chain:"ton",slug:yt,decimals:6,tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"},It={name:"Ethena USDe",symbol:"USDe",chain:"ton",tokenAddress:"EQAIb6KmdfdDR7CN1GBqVJuP25iCnLKCvBlJ07Evuu2dzP5f",slug:"ton-eqaib6kmdf",decimals:6,image:"https://imgproxy.toncenter.com/binMwUmcnFtjvgjp4wSEbsECXwfXUwbPkhVvsvpubNw/pr:small/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvVVNEZS5wbmc"},Tt={name:"Ethena tsUSDe",symbol:"tsUSDe",chain:"ton",tokenAddress:"EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr",slug:"ton-eqdq5uuyph",decimals:6,image:"https://cache.tonapi.io/imgproxy/vGZJ7erwsWPo7DpVG_V7ygNn7VGs0szZXcNLHB_l0ms/rs:fill:200:200:1/g:no/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvdHNVU0RlLnBuZw.webp"},Bt=[Xe,"EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5","EQChGuD1u0e7KUWHH5FaYh_ygcLXhsdG2nSHPXHW8qqnpZXW",Tt.tokenAddress],xt={mainnet:[ut.slug,yt,mt.slug,gt],testnet:[ut.slug,wt,mt.slug,vt]},_t=xt.mainnet.length,Lt=[ut.slug,yt,mt.slug],Dt={isFromBackend:!0,priceUsd:0,percentChange24h:0},Ot={toncoin:{...ut,isFromBackend:!0,priceUsd:5.8,percentChange24h:0},trx:{...mt,...Dt},[gt]:{...St,slug:gt,tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",...Dt},[vt]:{...St,slug:vt,tokenAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs",...Dt},[yt]:{...At,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",slug:yt,...Dt},[pt.slug]:{...pt,image:"https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp",...Dt},[It.slug]:{...It,...Dt},[Tt.slug]:{...Tt,...Dt}},Mt={[gt]:"TRC-20",[vt]:"TRC-20",[yt]:"TON"},Ft={toncoin:{name:"Toncoin",symbol:ut.symbol,chain:ut.chain,slug:ut.slug,decimals:ut.decimals,priceUsd:0,isPopular:!0},[yt]:{name:"Tether USD",symbol:"USD₮",chain:"ton",slug:yt,decimals:9,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",priceUsd:0,isPopular:!0}},Pt=ut.slug,Rt=ut.slug,Ut=yt,Wt=ut.slug,Ht=gt,$t={dedust:"DeDust",ston:"STON.fi"},Vt=r?"tw-multitab":"mtw-multitab",zt=r?"tw-active-tab":"mtw-active-tab",Kt="windowProvider",qt=r,jt=4,Yt=6,Gt="USD",Qt={USD:{name:"US Dollar",decimals:2,shortSymbol:"$"},EUR:{name:"Euro",decimals:2,shortSymbol:"€"},RUB:{name:"Russian Ruble",decimals:2,shortSymbol:"₽"},CNY:{name:"Chinese Yuan",decimals:2,shortSymbol:"¥"},BTC:{name:"Bitcoin",decimals:9},[ut.symbol]:{name:"Toncoin",decimals:9}},Xt="UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ",Zt=["v3R1","v3R2","v4R2","W5"],Jt=["1D","7D","1M","3M","1Y","ALL"],en=10,tn=4,nn="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW",an=30,on=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"],rn="EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash",sn=30000000n,cn="claim",ln="EQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrPWv",dn="Mint card",un="Refund",mn="⭐️",pn="https://giveaway.mytonwallet.io",fn=[{value:"never",name:"Disabled",selectedName:"Disabled",period:0},{value:"1",name:"30 seconds",selectedName:"If away for 30 sec",period:3e4},{value:"2",name:"3 minutes",selectedName:"If away for 3 min",period:18e4},{value:"3",name:"10 minutes",selectedName:"If away for 10 min",period:6e5}],hn=5,gn=new Set(["173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1","ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818","eb9d9891a32ec94425c09735f6ade73f4c171da0091f874d6e9d25247d583990","f66c149de251ffd031bdb34b79abe43a062ba16b815433691e3ec40a77f01d71","bca42dbdcbc0d885aaffb1eeeb027d9f338c2dd68701a05641c1d1c3171a7400"]),vn=new Set([bt,"ton-eqcbzvsfwq",Tt.slug]),yn=.875,wn={type:"liquid",id:"liquid",tokenSlug:ut.slug,annualYield:5.5,yieldType:"APY",balance:0n,pool:Xe,tokenBalance:0n,unstakeRequestAmount:0n,instantAvailable:0n,start:0,end:0},bn={type:"nominators",id:"nominators",tokenSlug:ut.slug,annualYield:7.5,yieldType:"APY",balance:0n,pool:"Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_",start:0,end:0},En=3,kn="https://jvault.xyz",Cn={home:{en:"https://t.me/dps_wallets",ru:"https://t.me/dps_wallets"},domainScam:{en:"https://help.mytonwallet.io/intro/scams/.ton-domain-scams",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/moshennichestvo-s-ispolzovaniem-domenov-.ton"},seedScam:{en:"https://help.mytonwallet.io/intro/scams/leaked-seed-phrases",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/slitye-sid-frazy"},ethenaStaking:{en:"https://help.mytonwallet.io/intro/staking/what-is-usde-how-does-usde-staking-work",ru:"https://help.mytonwallet.io/ru/baza-znanii/steiking/chto-takoe-usde-kak-rabotaet-steiking-usde"}},Nn=[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",collectionName:"TON DNS Domains"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0,collectionName:"Telegram Usernames"},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS",collectionName:"VIP DNS Domains",isUnofficial:!0},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ",collectionName:"GRAM DNS Domains",isUnofficial:!0}],Sn=r?Nn.filter(e=>{let{isUnofficial:t}=e;return!t}):Nn,An="3",In=2,Tn={symbol:"[Unknown]",decimals:6},Bn={USD:"1",EUR:"0.85233500",RUB:"84.49824600",CNY:"7.11865000",BTC:"0.00000866",TON:"0.31360000"},xn="ton"},36791:(e,t,n)=>{"use strict";function a(){const{userAgent:e,platform:t}=window.navigator;return/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":void 0}n.d(t,{u:()=>a})},37448:(e,t,n)=>{"use strict";var a,o;n.d(t,{Wi:()=>o,__:()=>a}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(a||(a={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},37836:(e,t,n)=>{"use strict";n.d(t,{Fe:()=>i,Gf:()=>E,IJ:()=>p,fm:()=>b,kI:()=>y,nF:()=>r,nb:()=>s,sg:()=>o,v7:()=>a,yu:()=>w});const a=e=>new Promise(t=>{setTimeout(()=>t(),e)});function o(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n?(clearTimeout(n),n=void 0):a&&e(...i),n=self.setTimeout(()=>{o&&e(...i),n=void 0},t)}}function r(e,t){let n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!1;async function i(){await("function"==typeof t?t():a(t)),s()}async function s(){if(n)try{const t=n;n=void 0,await e(...t)}finally{i()}else r=!1}return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=t,r||(r=!0,o?s():i())}}function i(e){return s(f,e)}function s(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=r,a||(a=!0,e(()=>{a=!1,t(...n)}))}}const c=35;let l,d,u,m;function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l?l.add(e):(l=new Set([e]),requestAnimationFrame(()=>{const e=l;l=void 0,d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach(e=>e())})),t&&(d?d.add(e):d=new Set([e]),u||(u=window.setTimeout(()=>{const e=d;l&&e.forEach(l.delete,l),d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach(e=>e())},c)))}function f(e){m?m.push(e):(m=[e],Promise.resolve().then(()=>{const e=m;m=void 0,e.forEach(e=>e())}))}const h=500;let g,v;function y(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback(e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(y))},{timeout:h})):f(e)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v||(v=[],self.addEventListener("beforeunload",()=>{v.forEach(e=>e())})),t?v.push(e):v.unshift(e),()=>{v=v.filter(t=>t!==e)}}async function b(e,t,n){let o=0,r=e();for(;!r&&o<n;)await a(t),o++,r=e();return r}function E(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}},41074:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,M1:()=>c,bP:()=>r});var a=n(31481),o=n(5130);const r=Math.min(navigator.hardwareConcurrency||4,4);let i;function s(){return a.W75?[]:(i||(i=new Array(r).fill(void 0).map(()=>{const e=new Worker(new URL(n.p+n.u(524),n.b));return{worker:e,connector:(0,o.U$)(e)}})),i)}function c(e,t){return s()[t].connector.request(e)}},48217:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(31481),o=n(10309);const r=a.hL1&&!["chrome-extension:","moz-extension:"].includes(self.location.protocol);var i=n(55029),s=n(37836);const c=("development"===a.Guj||"staging"===a.Guj)&&"object"==typeof window&&!r,l=(0,s.nF)(e=>window.alert(e),10*o.Z2);function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function u(e){(0,i.SJ)("handleError",e);const t="string"==typeof e?e:e.message,n="object"==typeof e?e.stack:void 0;t.endsWith("Failed to import rlottie-wasm.js")||c&&l(`${a.FHx}\n\n${t||e}\n${n}`)}self.addEventListener("error",d),self.addEventListener("unhandledrejection",d)},48287:(e,t,n)=>{"use strict";const a=n(67526),o=n(251),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let a=s(n);const o=a.write(e,t);return o!==n&&(a=a.slice(0,o)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return c.from(a,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?s(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|f(e))}function m(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,c.prototype),a}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return a?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function y(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,a,o){let r,i=1,s=e.length,c=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,n/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let a=-1;for(r=n;r<s;r++)if(l(e,r)===l(t,-1===a?0:r-a)){if(-1===a&&(a=r),r-a+1===c)return a*i}else-1!==a&&(r-=r-a),a=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){let n=!0;for(let a=0;a<c;a++)if(l(e,r+a)!==l(t,a)){n=!1;break}if(n)return r}return-1}function b(e,t,n,a){n=Number(n)||0;const o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;const r=t.length;let i;for(a>r/2&&(a=r/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(Q(a))return i;e[n+i]=a}return i}function E(e,t,n,a){return Y(q(t,e.length-n),e,n,a)}function k(e,t,n,a){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function C(e,t,n,a){return Y(j(t),e,n,a)}function N(e,t,n,a){return Y(function(e,t){let n,a,o;const r=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,o=n%256,r.push(o),r.push(a);return r}(t,e.length-n),e,n,a)}function S(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const a=[];let o=t;for(;o<n;){const t=e[o];let r=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,a,s,c;switch(i){case 1:t<128&&(r=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(r=c));break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(c=(15&t)<<12|(63&n)<<6|63&a,c>2047&&(c<55296||c>57343)&&(r=c));break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(r=c))}}null===r?(r=65533,i=1):r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r),o+=i}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=I));return n}(a)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))o+t.length>a.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(a,o)):Uint8Array.prototype.set.call(a,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,o)}o+=t.length}return a},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,n,a,o){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let r=(o>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const s=Math.min(r,i),l=this.slice(a,o),d=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==d[e]){r=l[e],i=d[e];break}return r<i?-1:i<r?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let r=!1;for(;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function B(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function x(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let o="";for(let a=t;a<n;++a)o+=X[e[a]];return o}function _(e,t,n){const a=e.slice(t,n);let o="";for(let e=0;e<a.length-1;e+=2)o+=String.fromCharCode(a[e]+256*a[e+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,a,o,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function O(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function M(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function F(e,t,n,a,o,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,a,r){return t=+t,n>>>=0,r||F(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function R(e,t,n,a,r){return t=+t,n>>>=0,r||F(e,0,n,8),o.write(e,t,n,a,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,c.prototype),a},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return a},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e+--t],o=1;for(;t>0&&(o*=256);)a+=this[e+--t]*o;return a},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))}),c.prototype.readBigUInt64BE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(o)}),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let a=t,o=1,r=this[e+--a];for(;a>0&&(o*=256);)r+=this[e+--a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||D(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||D(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z(function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Z(function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}let o=0,r=1,i=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}let o=n-1,r=1,i=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z(function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Z(function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,a){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const o=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),o},c.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const r=c.isBuffer(e)?e:c.from(e,a),i=r.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%i]}return this};const U={};function W(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,a,o,r){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(r+1)}${a}`:`>= -(2${a} ** ${8*(r+1)-1}${a}) and < 2 ** ${8*(r+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(a,o,r)}function V(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),W("ERR_OUT_OF_RANGE",function(e,t,n){let a=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=H(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),a+=` It must be ${t}. Received ${o}`,a},RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const a=e.length;let o=null;const r=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function j(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,a){let o;for(o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let o=0;o<16;++o)t[a+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},48805:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var a=1e6,o="[big.js] ",r=o+"Invalid ",i=r+"decimal places",s=r+"rounding mode",c=o+"Division by zero",l={},d=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,a){var o=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(s);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==d))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==d||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function p(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,i=e.s,s=n.e,c=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,s!=c)return s>c^t?1:-1;for(i=(s=a.length)<(c=o.length)?s:c,r=-1;++r<i;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return s==c?0:s>c^t?1:-1},l.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>a)throw Error(i);if(!r[0])throw Error(c);if(!o[0])return e.s=s,e.c=[e.e=0],e;var u,p,f,h,g,v=r.slice(),y=u=r.length,w=o.length,b=o.slice(0,u),E=b.length,k=e,C=k.c=[],N=0,S=l+(k.e=t.e-e.e)+1;for(k.s=s,s=S<0?0:S,v.unshift(0);E++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(E=b.length))h=u>E?1:-1;else for(g=-1,h=0;++g<u;)if(r[g]!=b[g]){h=r[g]>b[g]?1:-1;break}if(!(h<0))break;for(p=E==u?r:v;E;){if(b[--E]<p[E]){for(g=E;g&&!b[--g];)b[g]=9;--b[g],b[E]+=10}b[E]-=p[E]}for(;!b[0];)b.shift()}C[N++]=h?f:++f,b[0]&&h?b[E]=o[y]||0:b=[o[y]]}while((y++<w||b[0]!==d)&&s--);return C[0]||1==N||(C.shift(),k.e--,S--),N>S&&m(k,S,n.RM,b[0]!==d),k},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return this.cmp(e)<0},l.lte=function(e){return this.cmp(e)<1},l.minus=l.sub=function(e){var t,n,a,o,r=this,i=r.constructor,s=r.s,c=(e=new i(e)).s;if(s!=c)return e.s=-c,r.plus(e);var l=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new i(r):e.s=1,e;if(s=d-m){for((o=s<0)?(s=-s,a=l):(m=d,a=u),a.reverse(),c=s;c--;)a.push(0);a.reverse()}else for(n=((o=l.length<u.length)?l:u).length,s=c=0;c<n;c++)if(l[c]!=u[c]){o=l[c]<u[c];break}if(o&&(a=l,l=u,u=a,e.s=-e.s),(c=(n=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>s;){if(l[--n]<u[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=u[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--m;return l[0]||(e.s=1,l=[m=0]),e.c=l,e.e=m,e},l.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(c);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var i=o.e,s=o.c,c=e.e,l=e.c;if(!s[0]||!l[0])return l[0]||(s[0]?e=new r(o):e.s=o.s),e;if(s=s.slice(),t=i-c){for(t>0?(c=i,a=l):(t=-t,a=s),a.reverse();t--;)a.push(0);a.reverse()}for(s.length-l.length<0&&(a=l,l=s,s=a),t=l.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+l[t]+n)/10|0;for(n&&(s.unshift(n),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},l.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(r+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},l.prec=function(e,t){if(e!==~~e||e<1||e>a)throw Error(r+"precision");return m(new this.constructor(this),e,t)},l.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(i);return m(new this.constructor(this),e+this.e+1,t)},l.sqrt=function(){var e,t,n,a=this,r=a.constructor,i=a.s,s=a.e,c=new r("0.5");if(!a.c[0])return new r(a);if(i<0)throw Error(o+"No square root");0===(i=Math.sqrt(a+""))||i===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=c.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(r.DP-=4)+e.e+1,r.RM)},l.times=l.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,i=o.length,s=r.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=c+l,i<s&&(t=o,o=r,r=t,l=i,i=s,s=l),t=new Array(l=i+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=i+c;l>c;)s=t[l]+r[c]*o[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},l.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!o)},l.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!o)},l[Symbol.for("nodejs.util.inspect.custom")]=l.toJSON=l.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},l.toNumber=function(){var e=Number(p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},l.toPrecision=function(e,t){var n=this,o=n.constructor,i=n.c[0];if(e!==d){if(e!==~~e||e<1||e>a)throw Error(r+"precision");for(n=m(new o(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!i)},l.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(o+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var f=function e(){function t(n){var a=this;if(!(a instanceof t))return n===d?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(r+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!u.test(t))throw Error(r+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(31481),o=n(48217);const r=!a.MVx;function i(e,t){if(!r)return e();const{rescue:n,always:a,shouldIgnoreError:i}=t??{};try{return e()}catch(e){return null==n||n(e),void(i||(0,o.H)(e))}finally{null==a||a()}}},51915:(e,t,n)=>{"use strict";n.d(t,{i6:()=>c,jT:()=>a,ks:()=>s,nm:()=>r,rt:()=>i});const a="#detached";let o;function r(){return async function(){const e=await chrome.tabs.create({url:`index.html${a}`,active:!0});return await chrome.windows.update(e.windowId,{focused:!0}),o=e.id,o}()}function i(){o&&chrome.tabs.query({active:!0},()=>{o&&chrome.tabs.remove(o)})}async function s(){const e=await chrome.tabs.getCurrent();null!=e&&e.id&&await chrome.tabs.remove(e.id)}function c(e,t){const n=a=>{a===e&&(o=void 0,chrome.tabs.onRemoved.removeListener(n),t())};chrome.tabs.onRemoved.addListener(n)}},55029:(e,t,n)=>{"use strict";n.d(t,{MD:()=>u,SJ:()=>d,ao:()=>l,ef:()=>p,kJ:()=>m});var a=n(31481),o=n(59288);const r=999,i=[];function s(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,metadata:t instanceof o.p?t.metadata:void 0}:t}function c(e){i.length>r&&i.shift(),i.push({...e,args:e.args.map(e=>JSON.stringify(e,s)),time:Date.now()})}function l(){return i}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debugError",args:n}),a.Oig&&console.error(`[DEBUG][${e}]`,...n)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debug",args:n}),a.Oig&&console.log(`[DEBUG] ${e}`,...n)}function m(e,t,n){a.dlH&&(console.debug(`[DEBUG] ${e}`),t&&console.dir(t),n&&console.dir(n))}function p(){const e={en:"WARNING! This console can be a way for bad people to take over your crypto wallet through something called a Self-XSS attack. So, don't put in or paste code you don't understand. Stay safe!",ru:"ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!",es:"¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, no introduzca ni pegue código que no comprenda. ¡Cuídese!",zh:"警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！"},t=e[navigator.language.split("-")[0]]||e.en;console.log("%c%s","color: red; background: yellow; font-size: 18px;",t)}},59121:(e,t,n)=>{"use strict";function a(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(e){return self.crypto.getRandomValues(new Uint8Array(e))}n.d(t,{po:()=>o,yT:()=>a}),n(48287).Buffer},59288:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});class a extends Error{constructor(e,t){super(e),this.metadata=t}}},65606:e=>{var t,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,d=-1;function u(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&m())}function m(){if(!l){var e=i(u);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>m,Uz:()=>p,YS:()=>u,bo:()=>r.bo,gm:()=>f});var a=n(50110),o=n(37836),r=n(75357);let i=[],s=[],c=[];const l=(d=()=>{const e=i;i=[],e.forEach(e=>{(0,a.A)(e)}),Promise.resolve().then(()=>{(0,r.A)("mutate");const e=s;s=[],e.forEach(e=>{(0,a.A)(e)})}).then(()=>{(0,r.A)("measure");const e=[];for(const t of c)(0,a.A)(()=>{const n=t();n&&e.push(n)});return c=[],e}).then(e=>{(0,r.A)("mutate");for(const t of e)(0,a.A)(t)}).then(()=>{(0,r.A)("measure")})},(0,o.nb)(e=>{(0,o.IJ)(e,!0)},d));var d;function u(e){i.push(e),l()}function m(e){s.push(e),l()}function p(e){u(()=>{m(e)})}function f(e){c.push(e),l()}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=s(e),i=r[0],c=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,c)),d=0,u=c>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===c&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,l[d++]=255&t),1===c&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,a=e.length,o=a%3,r=[],i=16383,s=0,c=a-o;s<c;s+=i)r.push(l(e,s,s+i>c?c:s+i));return 1===o?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=r[i],a[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,n){for(var a,o=[],r=t;r<n;r+=3)a=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),o.push(c(a));return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},75357:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>d,Uj:()=>u,dL:()=>p,A:()=>l,bo:()=>f});const a={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const r=new Map;let i,s="measure",c=!1;function l(e){s=e}function d(){c||(c=!0,Object.entries(a).forEach(e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach(e=>{var n;const a=null===(n=Object.getOwnPropertyDescriptor(o,e))||void 0===n?void 0:n.get;a&&(r.set(`${t}#${e}`,a),Object.defineProperty(o,e,{get(){return h(e),a.call(this)}}))}),"methods"in n&&n.methods.forEach(e=>{const n=o[e];r.set(`${t}#${e}`,n),o[e]=function(){h(e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.apply(this,a)}})}),i=new MutationObserver(e=>{"mutate"!==s&&e.forEach(e=>{let{target:t,type:n,attributeName:a}=e;document.contains(t)&&(m.has(t)||"childList"===n&&t instanceof HTMLElement&&t.contentEditable||null!=a&&a.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===n?a:n}\``)))}),m.clear()}),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function u(e){if("mutate"!==s)throw new Error("The current phase is 'measure'");s="measure";const t=e();return s="mutate",t}const m=new Set;function p(e,t){if("measure"!==s)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach(e=>{m.add(e)}):m.add(t)),e()}function f(e){if(!c)return e();var t;c&&(null===(t=i)||void 0===t||t.disconnect(),i=void 0,Object.entries(a).forEach(e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach(e=>{const n=r.get(`${t}#${e}`);n&&Object.defineProperty(o,e,{get:n})}),"methods"in n&&n.methods.forEach(e=>{o[e]=r.get(`${t}#${e}`)})}),r.clear(),c=!1);const n=e();return d(),n}function h(e){"measure"!==s&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},82393:(e,t,n)=>{"use strict";n.d(t,{$:()=>R,$q:()=>S,By:()=>v,ED:()=>D,Et:()=>P,Fe:()=>T,H8:()=>m,KI:()=>_,Kc:()=>W,Lv:()=>A,MP:()=>u,Ni:()=>h,TF:()=>b,XS:()=>U,Yw:()=>g,ZH:()=>O,_7:()=>l,bA:()=>x,bs:()=>L,cp:()=>k,iF:()=>E,ig:()=>p,ir:()=>F,pr:()=>y,pz:()=>f,sC:()=>I,u2:()=>C,uh:()=>B,v3:()=>H,vj:()=>N,xy:()=>M});var a,o=n(31481),r=n(66644),i=n(51915),s=n(36791);const c=new Set(["android","android_x","ios"]),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),d=(0,s.u)(),u="macOS"===d,m="Windows"===d,p="Linux"===d,f="iOS"===d,h="Android"===d,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),v=navigator.userAgent.includes(" OPR/"),y=navigator.userAgent.includes(" Edg/"),w=navigator.userAgent.includes("Firefox/"),b=window.matchMedia("(pointer: coarse)").matches,E=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),k=Boolean(window.electron),C=!(o.UMQ||k||o.hL1||o.tKX),N="en",S=function(){if(o.TI6)return"en";const{language:e}=navigator,t=e.startsWith("zh")?e.endsWith("TW")||e.endsWith("HK")?"zh-Hant":"zh-Hans":e.substring(0,2);return o.gSB.some(e=>{let{langCode:n}=e;return n===t})?t:"en"}(),A=window.devicePixelRatio||1,I=o.UMQ||!(o.TI6||f||o.v5B||o.tKX),T=n.g.location.hash.startsWith(i.jT),B=Boolean(!o.UMQ&&!o.tKX&&window.navigator.credentials&&(!k||u)),x=o.UMQ&&n.g.location.search.startsWith("?bottom-sheet"),_=o.UMQ&&f&&!x&&!function(){const{userAgent:e,platform:t}=window.navigator;return"iPad"===t||e.includes("iPad")||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}(),L="BroadcastChannel"in window&&!T,D=o.hL1||k||o.UMQ,O=f&&o.UMQ,M=h&&o.UMQ,F="function"==typeof document.startViewTransition,P=!(w||o.v5B||o.tKX),R=parseInt(getComputedStyle(document.documentElement).fontSize,10),U=-3*R;function W(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e),(0,r.gm)(()=>{const t=e.offsetWidth-e.clientWidth;return()=>{document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.remove()}})}function H(){var e;return o.tKX&&c.has((null===(e=window.Telegram)||void 0===e?void 0:e.WebApp.platform)??"")}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>r[e]=()=>n[e]);return r.default=()=>n,i.d(o,r),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((t,n)=>(i.f[n](e,t),t),[])),i.u=e=>e+"."+{88:"4985142c604a144893fc",104:"bb1ab719579fbb1c0009",106:"894f23e3291d0b5a43b0",148:"e4446e8df91685d432f1",168:"626e45d940051fa1675d",196:"f7edcc3c3ca57a2f3d33",201:"85f463789409d5640035",215:"87a7b125b0cb3e269085",235:"8bd28cb9d71221897504",283:"93c1914b1a5b88cfea52",408:"a7916f0bd4aa64b4a932",411:"3831f7d083a75b0eb34b",477:"0c14a43c925a945740e5",513:"16c8ce158538c27217f9",524:"f6dbf227c818993905a2",542:"6cc49aa27a88b0c1df4c",564:"301820f50ccca9068a7d",576:"0a6e65dc8ff4c6b60dfa",580:"a9f5ee2736fabd743cb5",642:"72a7b14cb4f2b49d3145",789:"4fad575ad5a2af7770cd",884:"be44614f2811e2d12a9a",895:"03efacd262e2ae59af81",897:"e049e8c8ceaa79d5af31",941:"cea85c820b6e20872aa1",949:"16fb6c433947772cf2a3",956:"13ee569cd4b5a9815c59",988:"ccc622480db3a28adb82"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="mytonwallet:",i.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+o){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+o),s.src=e),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(a)),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={792:0,840:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise((n,o)=>a=e[t]=[n,o]);n.push(a[2]=o);var r=i.p+i.u(t),s=new Error;i.l(r,n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var a,o,[r,s,c]=n,l=0;if(r.some(t=>0!==e[t])){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);c&&c(i)}for(t&&t(n);l<r.length;l++)o=r[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};i.r(e),i.d(e,{capacitorStorageClear:()=>b,capacitorStorageGetItem:()=>v,capacitorStorageKeys:()=>E,capacitorStorageRemoveItem:()=>w,capacitorStorageSetItem:()=>y,exchangeWithLedger:()=>W,getLedgerDeviceModel:()=>H,init:()=>g,localStorageClear:()=>q,localStorageGetAll:()=>j,localStorageGetItem:()=>V,localStorageGetMany:()=>Y,localStorageRemoveItem:()=>K,localStorageSetItem:()=>z,localStorageSetMany:()=>G});var t=i(16546);const n=(0,t.F3)("AirAppLauncher");var a=i(31481),o=i(55029),r=i(82393),s=i(5130),c=i(37836),l=i(24082);const d=new Map;function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function a(e,a){e.channel=t,a?n.postMessage(e,a):n.postMessage(e)}function r(n){var o;(null===(o=n.data)||void 0===o?void 0:o.channel)===t&&m(e,n.data,a)}return(arguments.length>3?arguments[3]:void 0)||function(e){self.addEventListener("error",t=>{const n=t.error||{name:"Error",message:"Uncaught exception in worker"};(0,o.SJ)(n.message,t.error),e({type:"unhandledError",error:(0,l.TK)(n)})}),self.addEventListener("unhandledrejection",t=>{const n=t.reason||{name:"Error",message:"Unhandled rejection in worker"};(0,o.SJ)(n.message,t.reason),e({type:"unhandledError",error:(0,l.TK)(n)})})}(a),n.addEventListener("message",r),()=>{n.removeEventListener("message",r)}}async function m(e,t,n,a,r){switch(a||(a=e=>{n({type:"update",update:e})}),t.type){case"init":{var i;const{args:n}=t,o="function"==typeof e?e("init",r,a,...n):null===(i=e.init)||void 0===i?void 0:i.call(e,a,...n);await o;break}case"callMethod":{const{messageId:a,name:i,args:s,withCallback:c}=t;try{if("function"!=typeof e&&!e[i])return;if(a&&c){const e=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];const r=t[t.length-1];var i;n({type:"methodCallback",messageId:a,callbackArgs:t},(i=r)instanceof ArrayBuffer||i instanceof ImageBitmap?[r]:void 0)};d.set(a,e),s.push(e)}const t="function"==typeof e?await e(i,r,...s):await e[i](...s),{arrayBuffer:o}="object"==typeof t&&t&&"arrayBuffer"in t||{};a&&n({type:"methodResponse",messageId:a,response:t},o?[o]:void 0)}catch(e){(0,o.SJ)(i,e),a&&n({type:"methodResponse",messageId:a,error:(0,l.TK)(e)})}a&&d.delete(a);break}case"cancelProgress":{const e=d.get(t.messageId);e&&(e.isCanceled=!0);break}}}let p,f;const h=new Promise(e=>{f=e});async function g(){a.UMQ&&!p&&(({SecureStoragePlugin:p}=await i.e(201).then(i.bind(i,5054))),f())}async function v(e){var t;return await h,null===(t=await p.get({key:e}).catch(e=>{if(!("string"==typeof e?e:e.message).includes("key does not exist"))throw e}))||void 0===t?void 0:t.value}async function y(e,t){return await h,p.set({key:e,value:t})}async function w(e){return await h,p.remove({key:e})}async function b(){return await h,p.clear()}async function E(){return await h,p.keys()}function k(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function C(e,t){return Object.keys(e).reduce((n,a,o)=>(n[a]=t(e[a],a,o,e),n),{})}function N(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}function S(e,t){return t.reduce((t,n)=>(e[n]&&(t[n]=e[n]),t),{})}function A(e,t){const n=new Set(t.map(String));return N(e,Object.keys(e).filter(e=>!n.has(e)))}function I(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return o===r?0:(a?o>r:o<r)?1:-1}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[i,s]=t,c="asc"===o,l="asc"===r;return e.sort((e,t)=>a(e,t,i,c)||a(e,t,s,l))}const o="asc"===n;return e.sort((e,n)=>a(e,n,t,o))}function T(e){return Array.from(new Set(e))}function B(e){return e.filter(Boolean)}function x(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}function _(e){return D(e)?Array.isArray(e)?e.map(_):Object.keys(e).reduce((t,n)=>(t[n]=_(e[n]),t),{}):e}function L(e){return D(e)&&!Array.isArray(e)}function D(e){return"object"==typeof e&&null!==e}function O(e,t){return e.map(e=>e[t])}function M(e,t){const n=new Set(t),a=[];for(const t of e)n.has(t)||a.push(t);return a}function F(e){const t={};for(const[n,a]of Object.entries(e))t[a]=n;return t}function P(e,t,n){if(1===e.length)return[...e[0]];let a=e;for(;a.length>1;){const e=[];for(let t=0;t<a.length;t+=2)e.push(t+1<a.length?o(a[t],a[t+1]):a[t]);a=e}return a[0]??[];function o(e,a){let o=0,r=0;const i=[];for(;o<e.length&&r<a.length;){const s=t(e[o],a[r]);0===s?(i.push(e[o]),n||i.push(a[r]),o++,r++):s<0?i.push(e[o++]):i.push(a[r++])}return i.push(...e.slice(o)),i.push(...a.slice(r)),i}}function R(e){let t,n=e.length;for(;0!==n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e}var U=i(48287).Buffer;async function W(e){const t=await $(),n=U.from(e,"base64");return(await t.exchange(n)).toString("base64")}async function H(){const{deviceModel:e}=await $();return e&&N(e,["id","productName"])}async function $(){const{getTransportOrFail:e}=await Promise.all([i.e(235),i.e(576)]).then(i.bind(i,87576));return e()}function V(e){return localStorage.getItem(e)}function z(e,t){return localStorage.setItem(e,t)}function K(e){return localStorage.removeItem(e)}function q(){return localStorage.clear()}function j(){return{...localStorage}}function Y(e){return N(localStorage,e)}function G(e){Object.assign(localStorage,e)}let Q,X,Z,J=!1;async function ee(e){if(Z)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const r=await Z.request({name:e,args:n});return(0,o.kJ)(`callApi: ${e}`,n,r),r}catch(e){return}else(0,o.SJ)("API is not initialized when calling",e)}function te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Z.request({name:e,args:n})}const ne=Date.now();async function ae(){let e=!1;try{await Promise.race([te("ping"),(0,c.v7)(150).then(()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT")))])}catch(e){var t;(0,o.SJ)("ensureWorkerPing",e),Date.now()-ne>=5e3&&(null===(t=X)||void 0===t||t.terminate(),X=void 0,Z=void 0,Q({type:"requestReconnectApi"}))}finally{e=!0}}function oe(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function re(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach(n=>{e[n]!==t[n]&&console.log(a,n,":",e[n],"=>",t[n])})):console.log(`${n} LENGTH`)}var ie=i(48217),se=i(19822);const ce=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let le={};const de=(0,c.nF)(function(){ue||function(){ue=document.createElement("div"),ue.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 12px; color: black;",document.body.appendChild(ue);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",()=>{le={},de()}),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(le).reduce((e,t)=>{let[n,{value:a}]=t;return ce.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e},[0,0]);ue.innerHTML="",Object.entries(le).filter(e=>{let[t,{value:n}]=e;return!ce.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)}).sort((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt).forEach(a=>{let[o,{value:r,lastUpdateAt:i}]=a;const s=document.createElement("span");s.style.background=i>e?"lightgreen":"",s.textContent=`${o}: ${Math.round(r)}`;const c=document.createElement("div");var l;c.style.background=`#ff0000${l=r/(o.includes("renders")?t:n),Math.round(255*l).toString(16).padStart(2,"0")}`,c.append(s),ue.append(c)})},500,!1);let ue;function me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();le[e]?(le[e].value+=t,le[e].lastUpdateAt=n):le[e]={value:t,lastUpdateAt:n},de()}var pe=i(50110);function fe(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach(e=>{e(...n)})},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}const he=Symbol("SIGNAL_MARK");function ge(e){return"function"==typeof e&&he in e}const ve=new Map;function ye(e){const t={value:e,effects:fe()};function n(e){const n=t.effects.addCallback(e);return ve.has(e)?ve.get(e).add(n):ve.set(e,new Set([n])),()=>{n();const t=ve.get(e);t.delete(n),t.size||ve.delete(e)}}return[Object.assign(function(){return t.value},{[he]:he,subscribe:n,once:function(e){const t=n(()=>{t(),e()});return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}var we=i(66644);let be=0,Ee=0;const[ke,Ce]=ye(!1),[Ne,Se]=ye(!1),Ae=ke;function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];be++,1===be&&Ce(!0),t&&(Ee++,1===Ee&&Se(!0));const n=window.setTimeout(o,e);let a=!1;function o(){a||(a=!0,clearTimeout(n),be--,0===be&&Ce(!1),t&&(Ee--,0===Ee&&Se(!1)))}return o}function Te(e){(0,c.kI)(()=>{ke()?(0,we.YS)(()=>{Te(e)}):e()})}let Be=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),xe=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const _e=Symbol("Fragment"),Le=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let De,Oe=0;function Me(e){return e.type===Be.Tag||e.type===Be.Component||e.type===Be.Fragment}function Fe(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===_e?function(e){return{type:Be.Fragment,children:Re(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:xe.Unmounted};return a.$element=Pe(a),a.$element}(e,t||{},a):function(e,t,n){return{type:Be.Tag,tag:e,props:t,children:Re(n)}}(e,t||{},a)}function Pe(e,t){return{type:Be.Component,componentInstance:e,props:e.props,children:t?Re(t,!0):[]}}function Re(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&Ue(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(...Re(o,t)):a.push(We(o))}return a}function Ue(e){return!e&&0!==e}function We(e){return Ue(e)?{type:Be.Empty}:Me(e)?e:{type:Be.Text,value:String(e)}}const He={TOTAL:{name:"TOTAL",renders:0}},$e={};document.addEventListener("dblclick",()=>{console.warn("COMPONENTS",I(Object.values(He).map(e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}}),"renders","desc")),console.warn("MEMOS",I(Object.values($e).filter(e=>{let{calls:t}=e;return t>=20}).map(e=>({...e,hitRate:Number(e.hitRate.toFixed(2))})),"hitRate","asc"))});let Ve=new Set,ze=new Set,Ke=new Map,qe=new Map,je=new Map,Ye=new Map,Ge=!1;const Qe=(0,c.nb)(we.YS,()=>{if(Ne())return void Ne.once(Qe);const e=Xe();ze=new Set;const t=Array.from(Ve).sort((e,t)=>e.id-t.id);Ve=new Set;const n=qe;qe=new Map,n.forEach(e=>e());const a=Ke;Ke=new Map,a.forEach(e=>e()),(0,we.RK)(()=>{t.forEach(nt),t.forEach(e=>{ze.has(e.id)||function(e){if(e.mountState===xe.Unmounted||!e.onUpdate)return;const t=e.$element;Je(e),e.$element!==t&&e.onUpdate()}(e)}),null==e||e()})});function Xe(){if(!Ge)return Ge=!0,Ze}function Ze(){const e=Ye;Ye=new Map,e.forEach(e=>e());const t=je;je=new Map,t.forEach(e=>e()),Ge=!1}function Je(e){ze.add(e.id);const{Component:t,props:n}=e;let o;if((0,pe.A)(()=>{let r;if(De=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),a.Oig){const e=mt(t);He[e]||(He[e]={name:e,renders:0,avgRenderTime:0}),a.MVx&&(Le.has(e)||console.log(`[Teact] Render ${e}`)),r=performance.now()}if(o=t(n),a.Oig){const e=performance.now()-r,n=mt(t);e>7&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:o,avgRenderTime:i}=He[n];He[n].avgRenderTime=(i*o+e)/(o+1),He[n].renders++,He.TOTAL.renders++,a.MVx&&(me(`${n} renders`),me(`${n} duration`,e))}},{rescue:()=>{console.error(`[Teact] Error while rendering component ${e.name}`,e),o=e.renderedValue}}),e.mountState===xe.Mounted&&o===e.renderedValue)return e.$element;e.renderedValue=o;const r=Array.isArray(o)?o:[o];return e.$element=Pe(e,r),e.$element}function et(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===Be.Text&&t.type===Be.Text?e.value!==t.value:e.type===Be.Tag&&t.type===Be.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===Be.Component&&t.type===Be.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function tt(e){var t;if(e.mountState!==xe.Unmounted){if(ze.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,pe.A)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=xe.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function nt(e){var t;if(e.mountState!==xe.Unmounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function at(e,t){De.hooks||(De.hooks={}),De.hooks.state||(De.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:o}=De.hooks.state,r=De;return void 0===o[n]&&(o[n]={value:e,nextValue:e,setter:e=>{r.mountState!==xe.Unmounted&&("function"==typeof e&&(e=e(o[n].nextValue)),o[n].nextValue!==e&&(o[n].nextValue=e,Ve.add(r),Qe(),a.MVx&&console.log("[Teact.useState]",mt(r.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,o[n].nextValue)))}}),De.hooks.state.cursor++,[o[n].value,o[n].setter]}function ot(e,t,n,o){De.hooks||(De.hooks={}),De.hooks.effects||(De.hooks.effects={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=De.hooks.effects,s=i[r],c=De;function l(){!function(e,t,n,o){var r;const{byCursor:i}=e.hooks.effects,s=null===(r=i[t])||void 0===r?void 0:r.cleanup,c=o?Ye:qe,l=o?je:Ke,d=`${e.id}_${t}`;if(s){const n=()=>(0,pe.A)(()=>{if(e.mountState===xe.Unmounted)return;let n;if(a.Oig&&(n=performance.now()),s(),a.Oig){const a=performance.now()-n,o=mt(e.Component);a>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${t}: ${o}, ${Math.round(a)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${t} in ${e.name}`,e)},always:()=>{i[t].cleanup=void 0}});c.set(d,n)}l.set(d,()=>(0,pe.A)(()=>{if(e.mountState===xe.Unmounted)return;let o;a.Oig&&(o=performance.now());const r=n();if("function"==typeof r&&(i[t].cleanup=r),a.Oig){const n=performance.now()-o,a=mt(e.Component);n>7&&console.warn(`[Teact] Slow effect at cursor #${t}: ${a}, ${Math.round(n)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${t} in ${e.name}`,e)}})),Qe()}(c,r,t,e)}if(n&&null!=s&&s.dependencies){if(n.some((e,t)=>e!==s.dependencies[t])){if(a.Oig&&o){const e=n.reduce((e,t,n)=>{const a=s.dependencies[n];return t!==a&&e.push(`${n}: ${String(a)} => ${String(t)}`),e},[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}l()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),l();s&&(s.schedule=void 0),i[r]={...s,dependencies:n,schedule:l},s||(i[r].releaseSignals=function(){const e=null==n?void 0:n.filter(ge).map((e,t)=>e.subscribe(()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[r].schedule()}));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),De.hooks.effects.cursor++}function rt(e,t,n){return ot(!1,e,t,n)}function it(e,t,n){return ot(!0,e,t,n)}function st(e,t,n,o){De.hooks||(De.hooks={}),De.hooks.memos||(De.hooks.memos={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=De.hooks.memos;let s,{value:c}=i[r]||{};if(a.Oig&&o){const e=`${o}#${De.id}`;s=$e[e],s||(s={key:e,calls:0,misses:0,hitRate:0},$e[e]=s),s.calls++,s.hitRate=(s.calls-s.misses)/s.calls}if(void 0===i[r]||t.length!==i[r].dependencies.length||t.some((e,t)=>e!==i[r].dependencies[t])){if(a.Oig){if(n){const e=`[Teact.useMemo] ${De.name} (${n}): Update is caused by:`;i[r]?re(i[r].dependencies,t,e,n):console.log(`${e} [first render]`)}s&&(s.misses++,s.hitRate=(s.calls-s.misses)/s.calls,s.calls%10==0&&s.calls>=20&&s.hitRate<.25&&console.warn(`[Teact] ${s.key}: Hit rate is ${s.hitRate.toFixed(2)} for ${s.calls} calls`))}c=e()}return i[r]={value:c,dependencies:t},De.hooks.memos.cursor++,c}function ct(e,t,n){return st(()=>e,t,n)}function lt(e){De.hooks||(De.hooks={}),De.hooks.refs||(De.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=De.hooks.refs;return n[t]||(n[t]={current:e}),De.hooks.refs.cursor++,n[t]}function dt(e){const t=lt();return t.current??=ye(e),t.current}function ut(e,t){function n(n){return st(()=>Fe(e,n),Object.values(n),t,a.MVx?mt(De.Component):void 0)}return n.DEBUG_contentComponentName=mt(e),n}function mt(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const pt={createElement:Fe,Fragment:_e},ft=()=>{const[,e]=at(!1);return ct(()=>{e(e=>!e)},[])};var ht=i(14235);const gt=function(e){rt(e,[])},vt=function(e,t){const n=lt(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function yt(e,t){const n=vt(t),a=lt();var o;n&&!t.some((e,t)=>e!==n[t])||(null===(o=a.current)||void 0===o||o.call(a),a.current=e(n||[])??void 0),gt(()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)})}function wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=lt();return yt(()=>{t.current=e+(0,ht.A)()},[e]),t.current}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bt.apply(null,arguments)}const Et=pt;let kt,Ct={isInited:!1};const Nt=(0,c.Fe)(()=>{kt=Math.random()}),St={},At=[function(){let e;a.Oig&&(e=performance.now());for(const e of Tt.values()){const{mapStateToProps:t,ownProps:n,mappedProps:o,forceUpdate:r}=e;if(!Rt(e,Ct,n))continue;let i;try{i=t(Ct,n)}catch(e){return void(0,ie.H)(e)}a.Oig&&Object.values(i).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(i).length&&!oe(o,i)&&(a.MVx&&re(o,i,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=i,e.DEBUG_updates++,r())}if(a.Oig){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],It={},Tt=new Map,Bt=(0,c.Fe)(_t);let xt=!0;function _t(){if(xt)xt=!1;else if(Ae())return void Ae.once(Bt);At.forEach(e=>e(Ct))}function Lt(e,t){if("object"==typeof e&&e!==Ct){if(a.Oig){if((null==t||!t.forceOutdated)&&e.DEBUG_randomId&&e.DEBUG_randomId!==kt)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");kt=Math.random()}Ct=e,null!=t&&t.forceSyncOnIOs?(xt=!0,_t()):(null!=t&&t.forceOnHeavyAnimation&&(xt=!0),Bt())}}function Dt(){return a.Oig&&(Ct={...Ct,DEBUG_randomId:kt},Nt()),Ct}function Ot(){return It}function Mt(){xt=!0}let Ft=[];function Pt(e){At.push(e)}function Rt(e,t,n){const{activationFn:a,stuckTo:o}=e;return!a||a(t,n,t=>o?o===t:(void 0!==t&&(e.stuckTo=t),!0))}a.Oig&&(window.getGlobal=Dt,window.setGlobal=Lt,window.getActions=Ot,document.addEventListener("dblclick",()=>{console.warn("GLOBAL CONTAINERS",I(Array.from(Tt.values()).map(e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}}),"DEBUG_updates","desc"))}));const Ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({}),t=arguments.length>1?arguments[1]:void 0;return n=>{function a(a){const o=wt(),r=ft();!function(){De.hooks||(De.hooks={}),De.hooks.effects||(De.hooks.effects={cursor:0,byCursor:[]});const{cursor:e,byCursor:t}=De.hooks.effects;t[e]||(t[e]={cleanup:()=>{Tt.delete(o)}}),De.hooks.effects.cursor++}();let i=Tt.get(o);if(i||(i={mapStateToProps:e,activationFn:t,ownProps:a,forceUpdate:r,DEBUG_updates:0,DEBUG_componentName:n.name},Tt.set(o,i)),(!i.mappedProps||!oe(i.ownProps,a))&&Rt(i,Ct,a))try{i.mappedProps=e(Ct,a)}catch(e){(0,ie.H)(e)}return i.ownProps=a,pt.createElement(n,bt({},i.mappedProps,a))}return a.DEBUG_contentComponentName=mt(n),a}},Wt=Dt,Ht=Lt,$t=Ot,Vt=function(e,t){St[e]||(St[e]=[],It[e]=(t,n)=>{!function(e,t,n){if(Ft.push(()=>{var o;null===(o=St[e])||void 0===o||o.forEach(e=>{const o=e(a.Oig?Dt():Ct,It,t);o&&"function"!=typeof o.then&&Lt(o,n)})}),1===Ft.length)try{for(;Ft.length;)Ft[0](),Ft.shift()}finally{Ft=[]}}(e,t,n)}),St[e].push(t)},zt=Ut;var Kt=i(19314);const qt=(0,Kt.A)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return e.length<=t+n+3?e:`${e.slice(0,t)}···${e.slice(-n)}`});function jt(e){const t=e.split("-"),[n,a="mainnet"]=3===t.length?[t[0],t[2]]:t;return{id:Number(n),network:a}}function Yt(e){const{id:t,network:n}=e;return`${t}-${n}`}function Gt(e){var t;return null===(t=e.ton??Object.values(e).find(Boolean))||void 0===t?void 0:t.address}function Qt(e){return e.title||qt(Gt(e.byChain)??"")}function Xt(e){return!Zt(e,0)}function Zt(e,t){if(t<0)return!0;let n=0;for(const a in e)if(e.hasOwnProperty(a)&&(n++,n>t))return!0;return!1}function Jt(e){return!a.twH&&"view"===e}const en=new WeakMap;function tn(e,t){const n=function(){const n=en.get(e),a=Date.now();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n){const e=n.isDisabledUntil&&n.isDisabledUntil>a,o=t&&n.lastTime+1e3*t<a;if(!e&&!o&&x(n.lastArgs,r))return n.lastResult}const s=e(...r);return en.set(e,{...n,lastArgs:r,lastResult:s,lastTime:a}),s};return n.disableCache=t=>{const n=en.get(e);n&&(n.isDisabledUntil=Date.now()+1e3*t)},n}function nn(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const an=tn((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter(t=>{let[n]=t;return jt(n).network===e}))});function on(e){var t;return an(rn(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function rn(e){return e.settings.isTestnet?"testnet":"mainnet"}function sn(e){return cn(e,e.currentAccountId)}function cn(e,t){var n;return null===(n=nn(e))||void 0===n?void 0:n[t]}function ln(e,t){const n=cn(e,t);if(n)return n;for(const n of[e.auth.firstNetworkAccount,e.auth.secondNetworkAccount])if((null==n?void 0:n.accountId)===t)return n}function dn(e){return un(e,e.currentAccountId)}function un(e,t){return e.byAccountId[t]}function mn(e,t){return e.settings.byAccountId[t]}function pn(e){return mn(e,e.currentAccountId)}function fn(e,t){const n=cn(e,t??e.currentAccountId);return Boolean(n)&&function(e){return"hardware"===e.type}(n)}function hn(e){return 1===Object.keys(nn(e)||{}).length}const gn=(0,Kt.A)(e=>tn(e=>(e??[]).filter(e=>{let{isDisabled:t}=e;return!t}).length));function vn(e){return"mnemonic"===e.type}function yn(e){const t=sn(e);return Boolean(t)&&vn(t)}const wn=tn(e=>Object.values(e??{}).some(vn));function bn(e){return wn(nn(e))}function En(e,t){var n;return((null===(n=un(e,t))||void 0===n||null===(n=n.vesting)||void 0===n?void 0:n.info)||[]).reduce((e,t)=>(t.parts.forEach(n=>{"ready"===n.status&&e.push({id:t.id,partId:n.id})}),e),[])}function kn(e,t,n){var a;return null===(a=un(e,t))||void 0===a||null===(a=a.nfts)||void 0===a||null===(a=a.byAddress)||void 0===a?void 0:a[n]}function Cn(e,t){var n;const a=null===(n=cn(e,t))||void 0===n?void 0:n.byChain;return Boolean(a)&&Zt(a,1)}function Nn(e,t,n){var a;const o=cn(e,t);return Boolean(null==o||null===(a=o.byChain[n])||void 0===a?void 0:a.isMultisig)}function Sn(e){const{authConfig:t}=e.settings;return!!t&&"password"!==t.kind}function An(e){const{authConfig:t}=e.settings;return!!t&&"native-biometrics"===t.kind}function In(e,t){const n=mn(e,t);return(null==n?void 0:n.isAllowSuspiciousActions)??!1}function Tn(e){const{type:t}=sn(e)||{};return Jt(t)}const Bn=300000000n,xn=(BigInt(86400),a._J8,a.lHX,a.pyR,a.SKs,1000000000n),_n={stakeNominators:xn,unstakeNominators:xn,stakeLiquid:xn,unstakeLiquid:xn,stakeJettonsForward:Bn,stakeJettons:350000000n,unstakeJettons:340000000n,claimJettons:395000000n,changeDns:15000000n,stakeEthena:150000000n,stakeEthenaForward:100000000n,unstakeEthena:150000000n,unstakeEthenaForward:100000000n,unstakeEthenaLocked:150000000n,unstakeEthenaLockedForward:70000000n},Ln={stakeNominators:1000052853n,unstakeNominators:148337433n,stakeLiquid:20251387n,unstakeLiquid:18625604n,stakeJettons:74879996n,unstakeJettons:59971662n,claimJettons:57053859n,stakeEthena:116690790n,unstakeEthena:113210330n,unstakeEthenaLocked:37612000n};(function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e})({}).BaseChain;let Dn=function(e){return e[e.Transfer=260734629]="Transfer",e[e.TransferNotification=1935855772]="TransferNotification",e[e.InternalTransfer=395134233]="InternalTransfer",e[e.Excesses=3576854235]="Excesses",e[e.Burn=1499400124]="Burn",e[e.BurnNotification=2078119902]="BurnNotification",e}({}),On=function(e){return e[e.Ok=2742684035]="Ok",e}({}),Mn=function(e){return e.Wallet="wallet",e.Staking="staking",e}({});function Fn(e){return"nft:transfer"===(null==e?void 0:e.type)}function Pn(e){return"tokens:transfer"===(null==e?void 0:e.type)||"tokens:transfer-non-standard"===(null==e?void 0:e.type)}Dn.Excesses,On.Ok,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Staking,Mn.Wallet,Mn.Wallet,Mn.Wallet,Mn.Wallet;const Rn=tn(e=>{const t={},n=(e,n)=>{t[e]=(t[e]??0n)+n};let o=!1,r=!1,i=0;for(const t of e??[])t.isScam&&(o=!0),t.isDangerous&&(r=!0),n(a.Tu9.slug,t.amount+t.networkFee),Pn(t.payload)?n(t.payload.slug,t.payload.amount):Fn(t.payload)&&i++;return{amountsBySlug:t,isScam:o,isDangerous:r,nftCount:i}}),Un=tn((e,t,n)=>{if(!t||!n)return;const o=[];for(const[r,i]of Object.entries(e)){const e=n[r]??a.Bx3;if((t[r===a.Fmr?a.Tu9.slug:r]??0n)<i){const t=r===a.Fmr?a.Tu9.symbol:e.symbol;o.push(t)}}return o.length>0?o.join(", "):void 0});function Wn(e){const{transactions:t}=e.currentDappTransfer;return Rn(t)}function Hn(e){var t;const n=dn(e),a=null==n||null===(t=n.balances)||void 0===t?void 0:t.bySlug,o=e.tokenInfo.bySlug,{amountsBySlug:r}=Wn(e);return Un(r,a,o)}var $n=i(48805);function Vn(e,t,n){const a=n[t],o=new $n.z(e),r=new $n.z(a);return o.mul(r).toNumber()}var zn=i(398);function Kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$n.z.roundHalfUp;return new $n.z(e).round(t,n).toNumber()}const qn=(0,Kt.A)(e=>tn(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const c=function(e,t){return Object.keys(e).length===a._bq&&Object.entries(e).every(e=>{let[n,o]=e;const{decimals:r,priceUsd:i}=t.bySlug[n];return(0,zn.CF)(o,r).mul(i??0).lt(a.Wvq)})}(e,t);return Object.entries(e).filter(e=>{var a;let[o]=e;return o in t.bySlug&&!(null!==(a=n.deletedSlugs)&&void 0!==a&&a.includes(o))}).map(e=>{var o,l;let[d,u]=e;const{symbol:m,name:p,image:f,decimals:h,cmcSlug:g,color:v,chain:y,tokenAddress:w,codeHash:b,type:E,percentChange24h:k=0,priceUsd:C}=t.bySlug[d],N=Vn(C??0,i,s),S=(0,zn.CF)(u,h),A=S.mul(N).round(h).toString(),I=S.mul(C??0).gte(a.Wvq),T=a.kuH.has(b)&&u>0n,B=!(c&&Object.values(a.Fgn).some(e=>e.includes(d))||!r||r&&I||T||(null===(o=n.alwaysShownSlugs)||void 0===o?void 0:o.includes(d)))||(null===(l=n.alwaysHiddenSlugs)||void 0===l?void 0:l.includes(d));return{chain:y,symbol:m,slug:d,amount:u,name:p,image:f,price:N,priceUsd:C,decimals:h,change24h:Kn(k/100,4),isDisabled:B,cmcSlug:g,totalValue:A,color:v,tokenAddress:w,codeHash:b,type:E}}).sort((e,t)=>{if(o||!n.orderedSlugs){const n=a.oR5.indexOf(e.slug),o=a.oR5.indexOf(t.slug);return-1!==n&&-1!==o&&e.totalValue===t.totalValue?n-o:-1!==n&&-1===o?-1:-1!==o&&-1===n?1:Number(t.totalValue)-Number(e.totalValue)}return n.orderedSlugs.indexOf(e.slug)-n.orderedSlugs.indexOf(t.slug)})}));function jn(e){return Qn(e,e.currentAccountId)}function Yn(e,t){var n;return(null===(n=dn(e))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug[t])??0n}function Gn(e){return Yn(e,a.Tu9.slug)}function Qn(e,t){var n;const a=null===(n=un(e,t))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug;if(!a||!e.tokenInfo)return;const o=mn(e,t),{areTokensWithNoCostHidden:r,isSortByValueEnabled:i,baseCurrency:s}=e.settings;return qn(t)(a,e.tokenInfo,o,i,r,s,e.currencyRates)}function Xn(e,t){return e.tokenInfo.bySlug[t]}function Zn(e){const{isTestnet:t}=e.settings;return Xn(e,t?a.GX2.slug:a.oUU.slug)}function Jn(e,t){return(jn(e)??[]).filter(e=>e.chain===t).reduce((e,t)=>t.priceUsd*Number(t.amount)>(e?e.priceUsd*Number(e.amount):0)?t:e)}const ea=new Map;function ta(e){return qt(e,a.bOf)}function na(e){const t=ta(e);return ea.get(t)}function aa(e){e.forEach(e=>{"transaction"!==e.kind||Ua(e)||function(e){const{fromAddress:t,toAddress:n,isIncoming:a,amount:o,timestamp:r}=e,i=a?t:n,s=na(i);(!s||s.timestamp>r||s.timestamp===r&&s.amount<o)&&function(e,t,n){const a=ta(e);ea.set(a,{address:e,amount:t,timestamp:n})}(i,o,r)}(e)})}function oa(e){const{currentAccountId:t,byAccountId:n}=e;if(!t||!n[t])return;const{byId:a,newestActivitiesBySlug:o}=n[t].activities||{};a&&aa(Object.values(a)),o&&aa(Object.values(o))}function ra(e){const{fromAddress:t}=e,n=na(t);return n&&n.address!==t}function ia(){ea.clear()}const sa={ton:{title:"TON",isDnsSupported:!0,canBuyWithCardInRussia:!0,isTransferCommentSupported:!0,isLedgerSupported:!0,addressRegex:/^([-\w_]{48}|0:[\da-h]{64})$/i,addressPrefixRegex:/^([-\w_]{1,48}|0:[\da-h]{0,64})$/i,nativeToken:a.Tu9,doesBackendSocketSupport:!0,buySwap:{tokenInSlug:a.Czf,amountIn:100n},explorer:{name:"Tonscan",baseUrl:{mainnet:"https://tonscan.org/",testnet:"https://testnet.tonscan.org/"},address:"{base}address/{address}",token:"{base}jetton/{address}",transaction:"{base}tx/{hash}",doConvertHashFromBase64:!0},formatTransferUrl:function(e,t,n,a){const o=`ton://transfer/${e}`,r=[];return t&&r.push(`amount=${t}`),n&&r.push(`text=${encodeURIComponent(n)}`),a&&r.push(`jetton=${encodeURIComponent(a)}`),0===r.length?o:`${o}?${r.join("&")}`}},tron:{title:"TRON",isDnsSupported:!1,canBuyWithCardInRussia:!1,isTransferCommentSupported:!1,isLedgerSupported:!1,addressRegex:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,addressPrefixRegex:/^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,nativeToken:a.X7T,doesBackendSocketSupport:!0,buySwap:{tokenInSlug:a.iX4,amountIn:10n},explorer:{name:"Tronscan",baseUrl:{mainnet:"https://tronscan.org/#/",testnet:"https://shasta.tronscan.org/#/"},address:"{base}address/{address}",token:"{base}token20/{address}",transaction:"{base}transaction/{hash}",doConvertHashFromBase64:!1}}};function ca(e){return sa[e]}function la(e){return e?sa[e]:void 0}function da(e){return ca(e).title}function ua(e){return!!la(e)}function ma(){return Object.keys(sa)}function pa(){return Object.keys(sa).filter(e=>sa[e].isLedgerSupported)}const fa=Object.fromEntries(ma().map(e=>[va(e).slug,e]));function ha(e){return!!e&&e in fa}function ga(e,t){return Boolean(e.startsWith("ton-")||t&&e===a.Tu9.slug)}function va(e){return ca(e).nativeToken}function ya(e){var t;return null===(t=la(e))||void 0===t?void 0:t.nativeToken}function wa(e){const t=e.split("-");return t.length>1?t[0]:fa[e]}function ba(e){const{type:t,codeHash:n="",slug:o=""}=e??{};return"lp_token"===t||a.Svl.has(o)||a.kuH.has(n)}function Ea(e){return{...N(e,["symbol","slug","name","image","decimals","keywords","chain","tokenAddress","type"]),amount:0n,totalValue:"0",price:0,priceUsd:0,change24h:0}}const ka={stake:["Staked","Staking","$stake_action"],unstake:["Unstaked","Unstaking","$unstake_action"],unstakeRequest:["Requested Unstake","Requesting Unstake","$request_unstake_action"],callContract:["Called Contract","Calling Contract","$call_contract_action"],excess:["Excess","Excess","Excess"],contractDeploy:["Deployed Contract","Deploying Contract","$deploy_contract_action"],bounced:["Bounced","Bouncing","$bounce_action"],mint:["Minted","Minting","$mint_action"],burn:["Burned","Burning","$burn_action"],auctionBid:["NFT Auction Bid","Bidding at NFT Auction","NFT Auction Bid "],dnsChangeAddress:["Updated Address","Updating Address","$update_address_action"],dnsChangeSite:["Updated Site","Updating Site","$update_site_action"],dnsChangeSubdomains:["Updated Subdomains","Updating Subdomains","$update_subdomains_action"],dnsChangeStorage:["Updated Storage","Updating Storage","$update_storage_action"],dnsDelete:["Deleted Domain Record","Deleting Domain Record","$delete_domain_record_action"],dnsRenew:["Renewed Domain","Renewing Domain","$renew_domain_action"],liquidityDeposit:["Provided Liquidity","Providing Liquidity","$provide_liquidity_action"],liquidityWithdraw:["Withdrawn Liquidity","Withdrawing Liquidity","$withdraw_liquidity_action"]},Ca=new Set(["stake","unstake","unstakeRequest"]),Na=new Set(["dnsChangeAddress","dnsChangeSite","dnsChangeStorage","dnsChangeSubdomains","dnsDelete","dnsRenew"]),Sa=new Set(["pending","pendingTrusted"]);function Aa(e){const[t,n,a]=e.split(":");return{hash:t,type:a,subId:n}}function Ia(e){return e.endsWith(":local")}function Ta(e){return e.endsWith(":backend-swap")}function Ba(e){switch(e.kind){case"transaction":return e.nft?[]:[e.slug];case"swap":return[e.from,e.to]}}function xa(e){return!(!e||Ia(e.id)||Ta(e.id)||Ra(e))}function _a(e,t,n){let a,{type:o,isIncoming:r,nft:i}=e;a="nftTrade"===o?r?["Sold NFT","Selling NFT","$sell_nft_action"]:["Bought NFT","Buying NFT","$buy_nft_action"]:o&&ka[o]?ka[o]:r?["Received","Receiving","$receive_action"]:["Sent","Sending","$send_action"];let s=n(a["past"===t?0:"present"===t?1:2]);return!i||o&&"mint"!==o&&"burn"!==o||(s+=" NFT"),s}function La(e){var t;return Boolean(null===(t=e.metadata)||void 0===t?void 0:t.isScam)||e.isIncoming&&ra(e)}function Da(e){return Boolean(e.comment||e.encryptedComment)&&!Ca.has(e.type)&&!La(e)}function Oa(e){let{type:t,amount:n,nft:a}=e;return n||void 0===t&&!a?"stake"===t||"unstake"===t?"noSign":"normal":"hide"}function Ma(e){const{type:t,isIncoming:n,nft:o,toAddress:r,fromAddress:i,extra:s}=e;return"nftTrade"===t?null!=s&&s.marketplace?["list"]:[]:Fa(e)||"burn"===t||!n&&o&&r===o.address||n&&"excess"===t&&i===a.pV9?[]:["list","modal"]}function Fa(e){let{type:t,isIncoming:n,toAddress:o,fromAddress:r}=e;return Ca.has(t)&&a.uPU.includes(n?r:o)}function Pa(e){return"stake"===e.type&&Fa(e)}function Ra(e){return Ua(e)&&!Ta(e.id)}function Ua(e){return Sa.has(e.status)}function Wa(e,t){const n=[],a=[];for(const t of e)(Ia(t.id)?n:a).push(t);return{...Ha(n,t),...$a(a,t)}}function Ha(e,t){const n={};if(!e.length)return n;const a=new Set(O(t,"id")),o=t.filter(e=>!Ia(e.id));for(const t of e){const{id:e}=t;if(a.has(e)){n[e]=e;continue}const r=o.find(e=>Va(t,e));r&&(n[e]=r.id)}return n}function $a(e,t){const n={};if(!e.length)return n;const a=new Set(O(t,"id")),o=t.reduce((e,t)=>{const n=t.externalMsgHashNorm;return e[n]?e[n].push(t):e[n]=[t],e},{});for(const{id:t,externalMsgHashNorm:r}of e)if(a.has(t))n[t]=t;else if(r){const e=o[r];null!=e&&e.length&&(n[t]=e[0].id,e.length>1&&e.shift())}return n}function Va(e,t){var n;if(null!==(n=e.extra)&&void 0!==n&&n.withW5Gasless){if("transaction"===e.kind&&"transaction"===t.kind)return!t.isIncoming&&e.normalizedAddress===t.normalizedAddress&&e.amount===t.amount&&e.slug===t.slug;if("swap"===e.kind&&"swap"===t.kind)return e.from===t.from&&e.to===t.to&&e.fromAmount===t.fromAmount}return e.externalMsgHashNorm?e.externalMsgHashNorm===t.externalMsgHashNorm&&!t.shouldHide:Aa(e.id).hash===Aa(t.id).hash}function za(e,t){var n;return C((null===(n=un(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.newestActivitiesBySlug)||{},e=>{let{timestamp:t}=e;return t})}function Ka(e,t){var n;const{byId:a={},localActivityIds:o=[]}=(null===(n=e.byAccountId[t])||void 0===n?void 0:n.activities)??{};return B(o.map(e=>a[e]))}function qa(e,t,n){var a;const{byId:o={},pendingActivityIds:r={}}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{};return B((r[n]??[]).map(e=>o[e]))}function ja(e,t,n){const a=un(e,t),{isMainHistoryEndReached:o,isHistoryEndReachedBySlug:r}=(null==a?void 0:a.activities)??{};return n?!(null==r||!r[n]):!!o}let Ya=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Explore=2]="Explore",e[e.Settings=3]="Settings",e[e.Ledger=4]="Ledger",e[e.Inactive=5]="Inactive",e}({}),Ga=function(e){return e[e.none=0]="none",e[e.createWallet=1]="createWallet",e[e.checkPassword=2]="checkPassword",e[e.createPin=3]="createPin",e[e.confirmPin=4]="confirmPin",e[e.createBiometrics=5]="createBiometrics",e[e.confirmBiometrics=6]="confirmBiometrics",e[e.createNativeBiometrics=7]="createNativeBiometrics",e[e.createPassword=8]="createPassword",e[e.disclaimerAndBackup=9]="disclaimerAndBackup",e[e.importWalletCheckPassword=10]="importWalletCheckPassword",e[e.importWallet=11]="importWallet",e[e.importWalletCreatePin=12]="importWalletCreatePin",e[e.importWalletConfirmPin=13]="importWalletConfirmPin",e[e.importWalletCreateNativeBiometrics=14]="importWalletCreateNativeBiometrics",e[e.importWalletCreateBiometrics=15]="importWalletCreateBiometrics",e[e.importWalletConfirmBiometrics=16]="importWalletConfirmBiometrics",e[e.importWalletCreatePassword=17]="importWalletCreatePassword",e[e.disclaimer=18]="disclaimer",e[e.about=19]="about",e[e.safetyRules=20]="safetyRules",e[e.mnemonicPage=21]="mnemonicPage",e[e.checkWords=22]="checkWords",e[e.importViewAccount=23]="importViewAccount",e[e.congratulations=24]="congratulations",e[e.importCongratulations=25]="importCongratulations",e[e.ready=26]="ready",e}({}),Qa=function(e){return e[e.None=0]="None",e[e.TurnOnPasswordConfirmation=1]="TurnOnPasswordConfirmation",e[e.TurnOnRegistration=2]="TurnOnRegistration",e[e.TurnOnVerification=3]="TurnOnVerification",e[e.TurnOnComplete=4]="TurnOnComplete",e[e.TurnOffWarning=5]="TurnOffWarning",e[e.TurnOffBiometricConfirmation=6]="TurnOffBiometricConfirmation",e[e.TurnOffCreatePassword=7]="TurnOffCreatePassword",e[e.TurnOffComplete=8]="TurnOffComplete",e}({}),Xa=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Confirm=2]="Confirm",e[e.Password=3]="Password",e[e.ConnectHardware=4]="ConnectHardware",e[e.ConfirmHardware=5]="ConfirmHardware",e[e.Complete=6]="Complete",e}({}),Za=function(e){return e[e.SeedPhrase=1]="SeedPhrase",e[e.DomainLike=2]="DomainLike",e}({}),Ja=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.Complete=3]="Complete",e}({}),eo=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),to=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),no=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Blockchain=2]="Blockchain",e[e.Password=3]="Password",e[e.WaitTokens=4]="WaitTokens",e[e.Complete=5]="Complete",e[e.SelectTokenFrom=6]="SelectTokenFrom",e[e.SelectTokenTo=7]="SelectTokenTo",e}({}),ao=function(e){return e[e.In=0]="In",e[e.Out=1]="Out",e}({}),oo=function(e){return e[e.UnexpectedError=0]="UnexpectedError",e[e.InvalidPair=1]="InvalidPair",e[e.NotEnoughLiquidity=2]="NotEnoughLiquidity",e[e.ChangellyMinSwap=3]="ChangellyMinSwap",e[e.ChangellyMaxSwap=4]="ChangellyMaxSwap",e[e.NotEnoughForFee=5]="NotEnoughForFee",e[e.TooSmallAmount=6]="TooSmallAmount",e}({}),ro=function(e){return e[e.OnChain=0]="OnChain",e[e.CrosschainFromWallet=1]="CrosschainFromWallet",e[e.CrosschainToWallet=2]="CrosschainToWallet",e}({}),io=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),so=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.Connected=3]="Connected",e[e.WaitingForRemoteTab=4]="WaitingForRemoteTab",e}({}),co=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeConnectHardware=3]="StakeConnectHardware",e[e.StakeConfirmHardware=4]="StakeConfirmHardware",e[e.StakeComplete=5]="StakeComplete",e[e.UnstakeInitial=6]="UnstakeInitial",e[e.UnstakePassword=7]="UnstakePassword",e[e.UnstakeConnectHardware=8]="UnstakeConnectHardware",e[e.UnstakeConfirmHardware=9]="UnstakeConfirmHardware",e[e.UnstakeComplete=10]="UnstakeComplete",e[e.ClaimPassword=11]="ClaimPassword",e[e.ClaimConnectHardware=12]="ClaimConnectHardware",e[e.ClaimConfirmHardware=13]="ClaimConfirmHardware",e[e.ClaimComplete=14]="ClaimComplete",e}({}),lo=function(e){return e[e.Password=0]="Password",e[e.ConnectHardware=1]="ConnectHardware",e[e.ConfirmHardware=2]="ConfirmHardware",e}({}),uo=function(e){return e[e.Initial=0]="Initial",e[e.PushNotifications=1]="PushNotifications",e[e.Appearance=2]="Appearance",e[e.Assets=3]="Assets",e[e.Security=4]="Security",e[e.Dapps=5]="Dapps",e[e.Language=6]="Language",e[e.About=7]="About",e[e.Disclaimer=8]="Disclaimer",e[e.NativeBiometricsTurnOn=9]="NativeBiometricsTurnOn",e[e.SelectTokenList=10]="SelectTokenList",e[e.WalletVersion=11]="WalletVersion",e[e.LedgerConnectHardware=12]="LedgerConnectHardware",e[e.LedgerSelectWallets=13]="LedgerSelectWallets",e[e.HiddenNfts=14]="HiddenNfts",e[e.BackupWallet=15]="BackupWallet",e}({}),mo=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e[e.Done=4]="Done",e}({}),po=function(e){return e[e.Receive=0]="Receive",e[e.Transfer=1]="Transfer",e[e.Swap=2]="Swap",e[e.Stake=3]="Stake",e}({}),fo=function(e){return e[e.Assets=0]="Assets",e[e.Activity=1]="Activity",e[e.Explore=2]="Explore",e[e.Nft=3]="Nft",e}({}),ho=function(e){return e[e.Nft=0]="Nft",e}({}),go=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}({});function vo(e,t,n,a,o,r){return Object.entries(e.bySlug).filter(e=>{let[,t]=e;return!r||r(t)}).map(e=>{let[o,{symbol:r,name:i,image:s,decimals:c,keywords:l,chain:d,tokenAddress:u,isPopular:m,color:p,priceUsd:f=0}]=e;const h=t[o]??0n,g=Vn(f,n,a);return{symbol:r,slug:o,amount:h,price:g,priceUsd:f,name:i,image:s,decimals:c,isDisabled:!1,canSwap:!0,isPopular:m,keywords:l,totalValue:(0,zn.CF)(h,c).mul(g).toString(),color:p,chain:d,tokenAddress:u}}).sort(o)}const yo=(0,Kt.A)(e=>tn((e,t,n,a)=>{const o=["TON","USD₮","USDT","BTC","ETH","jUSDT","jWBTC"],r=new Map(o.map((e,t)=>[e,t]));return vo(t,e,n,a,(e,t)=>(r.has(e.symbol)?r.get(e.symbol):o.length)-(r.has(t.symbol)?r.get(t.symbol):o.length),e=>e.isPopular)})),wo=(0,Kt.A)(e=>tn((e,t,n,a)=>vo(t,e,n,a,(e,t)=>e.name.trim().toLowerCase().localeCompare(t.name.trim().toLowerCase())))),bo=(0,Kt.A)(e=>tn(function(t,n,a,o,r,i){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return qn(e)(t,n,o,s,c,r,i).filter(e=>e.slug in a.bySlug&&!e.isDisabled)}));function Eo(e){var t;const n=null===(t=dn(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return wo(e.currentAccountId)(n,e.swapTokenInfo,e.settings.baseCurrency,e.currencyRates)}function ko(e){const{tokenInSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function Co(e){const{tokenOutSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function No(e){var t;const{tokenInSlug:n=a.JhS,tokenOutSlug:o=a.rKC}=e.currentSwap,r=wa(n),i=wa(o);return"ton"===r&&"ton"===i?ro.OnChain:r in((null===(t=sn(e))||void 0===t?void 0:t.byChain)??{})?ro.CrosschainFromWallet:ro.CrosschainToWallet}function So(e){return a.TI6||e.restrictions.isSwapDisabled||e.settings.isTestnet||fn(e)}var Ao=i(809);function Io(e){return function(e){return void 0!==e.diesel&&("not-available"!==(t=e.diesel).status&&void 0!==t.amount);var t}(e)?function(e){let{diesel:t}=e;const n="stars-fee"===t.status?"stars":"token",a=function(e,t,n){const a=(0,$n.z)(n.toString()).div(t.toString());return BigInt((0,$n.z)(e.toString()).mul(a).round().toString())}(t.realFee,t.nativeAmount,t.amount),o=(0,Ao.UA)(t.amount,a),r=(0,Ao._O)(0n,t.realFee-t.nativeAmount);return{isGasless:!0,canTransferFullBalance:!1,fullFee:{precision:"lessThan",terms:{[n]:t.amount,native:t.remainingFee},nativeSum:t.nativeAmount+t.remainingFee},realFee:{precision:"approximate",terms:{[n]:o,native:r},nativeSum:t.realFee},excessFee:t.nativeAmount+t.remainingFee-t.realFee}}(e):function(e){const t={isGasless:!1,canTransferFullBalance:e.tokenSlug===a.Tu9.slug};return void 0!==e.fee&&(t.fullFee={precision:e.realFee===e.fee?"exact":"lessThan",terms:{native:e.fee},nativeSum:e.fee},t.realFee=t.fullFee),void 0!==e.realFee&&(t.realFee={precision:e.realFee===e.fee?"exact":"approximate",terms:{native:e.realFee},nativeSum:e.realFee}),void 0!==e.fee&&void 0!==e.realFee&&(t.excessFee=e.fee-e.realFee),t}(e)}function To(e){let{tokenBalance:t,tokenSlug:n,fullFee:a,canTransferFullBalance:o}=e;if(void 0===t)return;if(o||!a)return t;let r=a.token??0n;return ha(n)&&(r+=a.native??0n),(0,Ao._O)(t-r,0n)}function Bo(e){return"stars-fee"===e.status?0n:e.amount??0n}var xo=i(10309);function _o(e){return void 0!==Lo(e)}function Lo(e){for(const t of a.gs5){const{suffixes:n,baseFormat:a}=t;for(let o=n.length-1;o>=0;o--){const r=n[o];if(!e.endsWith(`.${r}`))continue;const i=e.slice(0,-r.length-1);if(a.test(i))return{base:i,zone:t}}}}function Do(e){return(null==e?void 0:e.collectionAddress)===a.nQN}function Oo(e,t){return Do(e)?null==t?void 0:t[e.address]:void 0}function Mo(e,t,n){if(n)return e.reduce((e,a)=>{const o=Oo("string"==typeof a?null==t?void 0:t[a]:a,n);return o?Math.min(o,e??1/0):e},void 0)}function Fo(e,t,n){const a=ca(t);return e&&(a[n?"addressPrefixRegex":"addressRegex"].test(e)||a.isDnsSupported&&_o(e))}function Po(e){const{currentTransfer:t}=e,n=Yn(e,t.tokenSlug),{fullFee:a,canTransferFullBalance:o}=Io(t);return To({tokenBalance:n,tokenSlug:t.tokenSlug,fullFee:null==a?void 0:a.terms,canTransferFullBalance:o})}function Ro(e){const{tokenSlug:t,toAddress:n}=e.currentTransfer,a=wa(t);if(!n)return t;for(const r of[!1,!0]){var o;if(!n||Fo(n,a,r))return t;const i=null===(o=sn(e))||void 0===o?void 0:o.byChain;if(i)for(const t of Object.keys(i)){if(!Fo(n,t,r))continue;const a=Jn(e,t);if(a)return a.slug}}return t}const Uo=(0,Kt.A)(e=>tn((e,t)=>{const n=t?Object.values(t):void 0;return null!=n&&n.length?n:[e]}));function Wo(e,t){var n;const{stateById:a}=(null===(n=un(e,t))||void 0===n?void 0:n.staking)??{};return Uo(t)(e.stakingDefault,a)}const Ho=(0,Kt.A)(e=>tn(e=>k(e,"tokenSlug")));function $o(e,t){return Ho(t)(Wo(e,t))}function Vo(e,t){var n;const{stateById:o,stakingId:r,shouldUseNominators:i}=(null===(n=un(e,t))||void 0===n?void 0:n.staking)??{};return o&&r&&r in o?o[r]:i?a.Ba4:e.stakingDefault}function zo(e,t){const n=un(e,t);return Vo(e,t).tokenSlug===a.Tu9.slug?null==n?void 0:n.stakingHistory:void 0}function Ko(e){return Boolean(a.OuE||e.settings.isTestnet)}function qo(e,t){var n;const{linkedAddressByAddress:a}=(null===(n=dn(e))||void 0===n?void 0:n.nfts)||{};return Do(t)?null==a?void 0:a[t.address]:void 0}var jo,Yo;Vt("initApi",async(t,n)=>{var c;(0,o.MD)("initApi action called");const l=null!==(c=t.accounts)&&void 0!==c&&c.byId?Object.keys(t.accounts.byId):[];(function(t,n){Q=t,Z||(X=new Worker(new URL(i.p+i.u(941),i.b)),Z=(0,s.U$)(X,t),function(t){u(e,a.Pcx,t,!0)}(X)),J||(r.pz&&window.addEventListener("focus",()=>{ae(),setTimeout(()=>ae(),1e3)}),J=!0);const o="function"==typeof n?n():n;Z.init(o)})(n.apiUpdate,{isElectron:r.cp,isNativeBottomSheet:r.bA,isIosApp:r.ZH,isAndroidApp:r.xy,referrer:new URLSearchParams(window.location.search).get("r")??void 0,accountIds:l}),await ee("waitDataPreload");const{currentAccountId:d}=Wt();d&&ee("activateAccount",d,za(t,d))}),Vt("resetApiSettings",(e,t,o)=>{const i=!(null!=o&&o.areAllDisabled);a.hL1&&(t.toggleTonMagic({isEnabled:!1}),t.toggleTonProxy({isEnabled:!1})),(a.hL1||r.cp)&&t.toggleDeeplinkHook({isEnabled:i}),t.changeBaseCurrency({currency:a.wOb}),a.UMQ&&n.setBaseCurrency({currency:a.wOb})}),function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"}(jo||(jo={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"}(Yo||(Yo={}));const Go=(0,t.F3)("NativeBiometric",{web:()=>i.e(542).then(i.bind(i,35542)).then(e=>new e.NativeBiometricWeb)});let Qo=function(e){return e.Unexpected="Unexpected",e.ServerError="ServerError",e.DebugError="DebugError",e.UnsupportedVersion="UnsupportedVersion",e.InvalidPassword="InvalidPassword",e}({}),Xo=function(e){return e.InvalidMnemonic="InvalidMnemonic",e.InvalidAddress="InvalidAddress",e.DomainNotResolved="DomainNotResolved",e}({}),Zo=function(e){return e.InvalidAmount="InvalidAmount",e.InvalidToAddress="InvalidToAddress",e.InsufficientBalance="InsufficientBalance",e.InvalidStateInit="InvalidStateInit",e.DomainNotResolved="DomainNotResolved",e.WalletNotInitialized="WalletNotInitialized",e.InvalidAddressFormat="InvalidAddressFormat",e.InactiveContract="InactiveContract",e}({}),Jo=function(e){return e.PartialTransactionFailure="PartialTransactionFailure",e.IncorrectDeviceTime="IncorrectDeviceTime",e.InsufficientBalance="InsufficientBalance",e.UnsuccesfulTransfer="UnsuccesfulTransfer",e.WrongAddress="WrongAddress",e.WrongNetwork="WrongNetwork",e.ConcurrentTransaction="ConcurrentTransaction",e}({}),er=function(e){return e.HardwareOutdated="HardwareOutdated",e.BlindSigningNotEnabled="BlindSigningNotEnabled",e.RejectedByUser="RejectedByUser",e.ProofTooLarge="ProofTooLarge",e.ConnectionBroken="ConnectionBroken",e.WrongDevice="WrongDevice",e}({});var tr=i(59121);const nr=a.tKX?25:250,ar=r.pz?350:250,or=xo.Z2,rr=window.innerHeight,ir=[];let sr=cr();function cr(){return ur(),hr(),setTimeout(()=>{hr(),function(){const{safeAreaTop:e,safeAreaBottom:t}=lr();sr={...sr,safeAreaTop:e,safeAreaBottom:t}}()},or),lr()}function lr(){return{width:window.innerWidth,height:window.innerHeight,screenHeight:window.screen.height,safeAreaTop:pr(),safeAreaBottom:fr()}}window.addEventListener("orientationchange",(0,c.nF)(()=>{sr=cr()},ar,!1)),r.pz||window.addEventListener("resize",(0,c.nF)(()=>{sr=cr()},nr,!0)),a.UMQ&&i.e(408).then(i.bind(i,408)).then(e=>{let{Keyboard:t}=e;t.addListener("keyboardDidShow",async e=>{r.pz&&await mr(e.keyboardHeight);for(const e of ir)(0,pe.A)(e)}),r.pz&&t.addListener("keyboardWillHide",()=>{mr(0)})}),"visualViewport"in window&&(r.pz||r.Ni)&&window.visualViewport.addEventListener("resize",(0,c.nF)(e=>{const t=e.target;ur(),sr={...lr(),height:t.height}},nr,!0));const dr=()=>sr;function ur(){if(!r.pz&&!r.Ni||a.UMQ||r.pz&&a.tKX)return;const e=r.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight;(0,we.RK)(()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)})}function mr(e){return new Promise(t=>{(0,we.RK)(()=>{(0,se.ZM)(document.body,{paddingBottom:e?`${e}px`:""}),t()})})}function pr(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top-value"),10);return Number.isNaN(e)?0:e}function fr(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom-value"),10);return Number.isNaN(e)?0:e}function hr(){const{safeAreaTop:e,safeAreaBottom:t}=lr(),{documentElement:n}=document;(0,we.RK)(()=>{n.classList.toggle("with-safe-area-top",!Number.isNaN(e)&&e>0),n.classList.toggle("with-safe-area-bottom",!Number.isNaN(t)&&t>0)})}let gr,vr=!1,yr=!1,wr=!1,br=!1,Er=0;function kr(){var e;const t=null===(e=gr)||void 0===e?void 0:e.BiometricManager;if(!t)return;const{isBiometricAvailable:n,isAccessGranted:a,isAccessRequested:o}=t;return n&&o&&!a}function Cr(){return gr}function Nr(){return new Promise(e=>{window.addEventListener("DOMContentLoaded",()=>{e(Cr())})})}function Sr(){const{top:e,left:t,right:n,bottom:a}=gr.safeAreaInset,{top:o,left:r,right:i,bottom:s}=gr.contentSafeAreaInset;document.documentElement.style.setProperty("--safe-area-top",`${e+o}px`),document.documentElement.style.setProperty("--safe-area-left",`${t+r}px`),document.documentElement.style.setProperty("--safe-area-right",`${n+i}px`),document.documentElement.style.setProperty("--safe-area-bottom",`${a+s}px`)}function Ar(){gr.isFullscreen?($t().openFullscreen(),Tr()):($t().closeFullscreen(),Br())}function Ir(e){Br(),"ALREADY_FULLSCREEN"===e.error&&($t().openFullscreen(),Tr())}function Tr(){var e;Er+=1,1===Er&&(null===(e=gr)||void 0===e||e.disableVerticalSwipes())}function Br(){var e;Er=Math.max(0,Er-1),0===Er&&(null===(e=gr)||void 0===e||e.enableVerticalSwipes())}function xr(e){return new Promise((t,n)=>{Cr().BiometricManager.requestAccess(e,e=>{e?t(e):n(new Error("Access denied"))})})}async function _r(e){const t=Cr().BiometricManager;if(!t.isAccessGranted&&!await xr({reason:a.C39}))throw new Error("Access to biometric data has not been granted");return new Promise((n,a)=>{t.updateBiometricToken(e,t=>{t?n(e):a(new Error("Failed to update or save the biometric token"))})})}async function Lr(){const e=Cr().BiometricManager;if(!e.isAccessGranted&&!await xr({reason:a.C39}))throw new Error("Biometric access was denied. Please grant access to proceed.");return new Promise((t,n)=>{e.authenticate({reason:""},(e,a)=>{e?t({success:e,token:a}):n(new Error("Biometric authentication failed. Please try again."))})})}var Dr=i(48287).Buffer,Or=function(e){return e[e.Ed25519=-8]="Ed25519",e[e.ES256=-7]="ES256",e[e.RS256=-257]="RS256",e}(Or||{});const Mr=a.C39,Fr=a.C39,Pr={createCredential:async function(){const e=window.location.hostname,t=(0,tr.po)(32),n=(0,tr.po)(32),a={publicKey:{challenge:(0,tr.po)(32),rp:{name:Mr,id:e},user:{id:t,name:Fr,displayName:Mr},pubKeyCredParams:[{type:"public-key",alg:Or.ES256},{type:"public-key",alg:Or.RS256},{type:"public-key",alg:Or.Ed25519}],authenticatorSelection:{requireResidentKey:!0,userVerification:"preferred"},extensions:{credBlob:n,hmacCreateSecret:!0},timeout:12e4,excludeCredentials:[]}},o=await navigator.credentials.create(a);if(!o)throw new Error("Missing credential");return{type:o.getClientExtensionResults().credBlob?"credBlob":"userHandle",password:{credBlob:Dr.from(n).toString("hex"),userHandle:Dr.from(t).toString("hex")},credential:o}},verify:async function(e){let{credential:t,password:n,type:a}=e;await(0,c.v7)(300);const o=t.response&&t.response.getTransports&&t.response.getTransports(),r=Dr.from(t.rawId).toString("hex"),i={publicKey:{challenge:(0,tr.po)(32),allowCredentials:[{id:t.rawId,type:"public-key",transports:o}],userVerification:"required",extensions:{getCredBlob:!0}}},s=await navigator.credentials.get(i);if(!s)throw new Error("Missing authentication");const l=s.response;let d;if("userHandle"===a){if(!l.userHandle)throw new Error("Missing stored userHandle");if(!Dr.from(n.userHandle,"hex").equals(Dr.from(l.userHandle)))throw new Error("Stored blob not equals passed blob");d=n.userHandle}if(!d)throw new Error("Missing stored blob");return{config:{kind:"webauthn",type:a,credentialId:r,transports:o},password:d}},getPassword:async function(e){if("webauthn"!==e.kind)throw new Error("Unexpected auth kind");const{credentialId:t,transports:n,type:a}=e,o=(new AbortController).signal,r={publicKey:{challenge:(0,tr.po)(32),allowCredentials:[{id:Dr.from(t,"hex"),type:"public-key",transports:n}],userVerification:"required",extensions:{getCredBlob:!0}},signal:o},i=await navigator.credentials.get(r);if(o.aborted)throw new Error("Verification canceled");const s=i.response,c=i.getClientExtensionResults();if("userHandle"===a){if(!s.userHandle)throw new Error("missing userHandle");return Dr.from(s.userHandle).toString("hex")}return Dr.from(c.getCredBlob??"").toString("hex")}};var Rr=i(48287).Buffer;const Ur=async function(e){let t,{credential:n}=e;try{if(n)t=await Pr.verify(n);else{var a;const e=Rr.from((0,tr.po)(32)).toString("hex"),n=await(null===(a=window.electron)||void 0===a?void 0:a.encryptPassword(e));if(!n)return t;t={password:e,config:{kind:"electron-safe-storage",encryptedPassword:n}}}}catch(e){(0,o.SJ)("setupBiometrics",e)}return t},Wr=async function(e){return a.tKX?(await _r(e),{password:e,config:{kind:"native-biometrics"}}):(await Go.setCredentials({username:a.hkI,password:e,server:a.aD4}),{password:e,config:{kind:"native-biometrics"}})},Hr=function(){return a.tKX?_r(""):Go.deleteCredentials({server:a.aD4})},$r=async function(e){let t;try{if("webauthn"===e.kind)t=await Pr.getPassword(e);else if("electron-safe-storage"===e.kind){var n;t=await(null===(n=window.electron)||void 0===n?void 0:n.decryptPassword(e.encryptedPassword))}else if(a.tKX&&"native-biometrics"===e.kind){const{success:e,token:n}=await Lr();if(!e)return;t=n}else{if("native-biometrics"!==e.kind)throw new Error("Unexpected auth kind");if(!await Go.verifyIdentity({title:a.C39,subtitle:"",isWeakAuthenticatorAllowed:!0,maxAttempts:1}).then(()=>!0).catch(()=>!1))return;t=(await Go.getCredentials({server:a.aD4})).password}}catch(e){(0,o.SJ)("getPassword",e)}return t},Vr=(0,t.F3)("App",{web:()=>i.e(168).then(i.bind(i,41168)).then(e=>new e.AppWeb)}),zr=(0,t.F3)("SplashScreen",{web:()=>i.e(411).then(i.bind(i,7411)).then(e=>new e.SplashScreenWeb)}),Kr=(0,t.F3)("SafeArea",{web:()=>i.e(88).then(i.bind(i,28088)).then(e=>new e.SafeAreaWeb)}),qr=(0,t.F3)("AppLauncher",{web:()=>i.e(895).then(i.bind(i,73895)).then(e=>new e.AppLauncherWeb)}),jr=(0,t.F3)("BottomSheet"),Yr=e=>{e.stopPropagation(),e.preventDefault()};function Gr(e,t,n){const a=o=>{e.removeEventListener(t,a),n(o)};e.addEventListener(t,a)}function Qr(){var e;const{userAgent:t}=navigator,n=navigator.platform||(null===(e=navigator)||void 0===e||null===(e=e.userAgentData)||void 0===e?void 0:e.platform)||"";let o;return o=a.hL1||a.tKX?"browser":/Android/.test(t)?"android":-1!==["iPhone"].indexOf(n)?"iphone":-1!==["iPad","iPod"].indexOf(n)?"ipad":-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(n)?"mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(n)?"windows":/Linux/.test(n)?"linux":"browser",o}const Xr=function(e,t,n,a){if(window[e])return;const o=["connect","restoreConnection","disconnect","send"],r=new Map,i=new Set;function s(e){const a=Date.now().toString(36)+Math.random().toString(36).slice(2),o=new Promise((e,t)=>{r.set(a,{resolve:e,reject:t})});for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];const l={channel:t,messageId:a,type:"callMethod",name:e,args:s};return"parent"in n?n.postMessage(l,"*"):n.postMessage(JSON.stringify(l)),o}function c(e){if(e)return(e=String(e).trim().replace(/[\x00-\x1F\x7F]/g,"")).startsWith("//")?`https:${e}`:![/^\s*javascript\s*:/i,/^\s*data\s*:/i,/^\s*vbscript\s*:/i,/^\s*file\s*:/i,/^\s*about\s*:/i,/^\s*blob\s*:/i,/^\s*filesystem\s*:/i,/^\s*chrome(-extension)?\s*:/i,/^\s*moz-extension\s*:/i,/^\s*ms-browser-extension\s*:/i].some(t=>t.test(e))&&/^[a-z][a-z0-9+.-]*:/i.test(e)?e:void 0}window.addEventListener("message",e=>{let{data:n}=e;const a=n;if(a.channel===t)if("methodResponse"===a.type){const e=r.get(a.messageId);if(!e)return;r.delete(a.messageId),a.error?e.reject(a.error):e.resolve(a.response)}else"update"===a.type&&i.forEach(e=>e(a.update))}),window.open=e=>((e=c(e))&&s("window:open",{url:e}),null),window.close=()=>{s("window:close")},window.addEventListener("click",e=>{if(!(e.target instanceof HTMLElement))return;const{href:t,target:n}=e.target.closest("a")||{};if(t&&("_blank"===n||!t.startsWith("http"))){e.preventDefault();const n=c(t);n&&s("window:open",{url:n})}},!1),function(){const t=Object.fromEntries(o.map(e=>[e,function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return s(`tonConnect:${e}`,...n)}]));window[e]={tonconnect:{...a,...t,listen:function(e){return i.add(e),()=>{i.delete(e)}}}}}()}.toString();let Zr=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Jr=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),ei=0;function ti(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown error.";return{event:"connect_error",id:e,payload:{code:(arguments.length>2?arguments[2]:void 0)||Zr.UNKNOWN_ERROR,message:t}}}function ni(e){return{url:e,isUrlEnsured:!0,accountId:Wt().currentAccountId}}function ai(e){const{closeBrowser:t}=$t(),n=function(e){const{openLoadingOverlay:t,closeLoadingOverlay:n}=$t(),i=new URL(e).origin.toLowerCase();return{connect:async(e,r)=>{try{if(e>a.gY_)return ti(ei,"Unsupported protocol version",Zr.BAD_REQUEST_ERROR);!function(e){var t;if(!(e&&e.manifestUrl&&null!==(t=e.items)&&void 0!==t&&t.length))throw new Error("Wrong request data")}(r),t();const o=await ee("tonConnect_connect",ni(i),r,ei);return n(),ei++,o}catch(e){return(0,o.SJ)("useDAppBridge:connect",e),"event"in e&&"id"in e&&"payload"in e?e:ti(ei,null==e?void 0:e.message,Zr.UNKNOWN_ERROR)}},restoreConnection:async()=>{try{const e=await ee("tonConnect_reconnect",ni(i),ei);return ei++,e}catch(e){return(0,o.SJ)("useDAppBridge:reconnect",e),"event"in e&&"id"in e&&"payload"in e?e:ti(ei,null==e?void 0:e.message,Zr.UNKNOWN_ERROR)}},disconnect:async()=>{ei=0,await ee("tonConnect_disconnect",ni(i),{id:ei.toString(),method:"disconnect",params:[]})},send:async e=>{var t;ei++;const n=Wt();if(!(null===(t=n.byAccountId[n.currentAccountId].dapps)||void 0===t?void 0:t.some(e=>e.url===i)))return{error:{code:Jr.UNKNOWN_APP_ERROR,message:"Unknown app"},id:e.id.toString()};const a=ni(i);try{switch(e.method){case"disconnect":return await ee("tonConnect_disconnect",a,e);case"sendTransaction":{const t=await ee("tonConnect_sendTransaction",a,e);return r.bA&&jr.applyScrollPatch(),t}case"signData":return await ee("tonConnect_signData",a,e);default:{const t=e;return{id:String(t.id),error:{code:Jr.BAD_REQUEST_ERROR,message:`Method "${t.method}" is not supported`}}}}}catch(t){return(0,o.SJ)("useDAppBridge:send",t),{id:String(e.id),error:{code:Jr.UNKNOWN_ERROR,message:null==t?void 0:t.message}}}}}}(e),i=n?function(e){const t=Object.entries(e).map(e=>{let[t,n]=e;return[`tonConnect:${t}`,n]});return Object.fromEntries(t)}(n):void 0;return{"window:open"(e){let{url:t}=e;Hl(t,{isExternal:!0,isFromInAppBrowser:!0})},"window:close"(){t()},...i}}function oi(e){const t=lt(e);return t.current=e,t}function ri(e){const t=oi(e);return ct(function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)},[])}class ii{constructor(e){this.inAppBrowser=e}addEventListener(e,t){this.inAppBrowser.addEventListener(e,t)}removeEventListener(e,t){this.inAppBrowser.removeEventListener(e,t)}postMessage(e){this.inAppBrowser.executeScript({code:`window.dispatchEvent(new MessageEvent('message', { data: ${JSON.stringify(e)} }));`})}}var si=i(48287).Buffer;const ci=/[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi,li=new Set(["http:","https:"]);function di(e){try{return new URL(e).hostname}catch(t){return(0,o.SJ)("getHostnameFromUrl",t),e}}function ui(e){return ca(e).explorer.name}function mi(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ca(e).explorer.baseUrl[t?"testnet":"mainnet"]}function pi(e,t,n){if(!t||t===a.n3s)return;const o=ca(e).explorer;return o.transaction.replace("{base}",mi(e,n)).replace("{hash}",o.doConvertHashFromBase64?(r=t,si.from(r,"base64").toString("hex")):t);var r}function fi(e,t,n){if(t)return ca(e).explorer.address.replace("{base}",mi(e,n)).replace("{address}",t)}function hi(e,t){if(e)return`${mi("ton",t)}nft/${e}`}function gi(e){return e.startsWith("https://t.me/")}function vi(e){return`${a.dmC}${e.metadata.mtwCardId}.webp`}function yi(e){return a.WJk[e]||a.WJk.en}const wi=/(\*\*|__).+?\1/g;function bi(e){return"string"!=typeof e?[e]:B((arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"]).reduce((e,t)=>{switch(t){case"simple_markdown":return e.reduce((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(wi),a=t.match(wi)||[];return e.push(n[0]),a.reduce((e,t,a)=>{e.push(t.startsWith("**")?pt.createElement("b",null,t.replace(/\*\*/g,"")):pt.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e},e)},[]);case"br":return e.reduce((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(pt.createElement("br",null)),e},[]);return[...e,...n]},[])}return e},[e]))}const Ei=JSON.parse('{"$auth_intro":"**Securely** store crypto and make blockchain\\npayments at the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about %app_name%":"More about %app_name%","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","$back_up_auth":"Back Up","$back_up_security":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","Secret Words":"Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the **12 or 24 secret words** that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$check_words_description":"Now let’s check that you wrote your secret words correctly.","$mnemonic_list_description":"Write down these words in the **correct order** and store them in a **secure place**.","$private_key_description":"Save this private key **correctly** and store it in a **secure place**.","$mnemonic_warning":"Do not send or show it to anyone,\\ndo not enter it anywhere.\\n","View Secret Words":"View Secret Words","View TON Private Key":"View TON Private Key","Can be imported to non-multichain wallets for TON.":"Can be imported to non-multichain wallets for TON.","Can be imported to any multichain wallet supporting TON.":"Can be imported to any multichain wallet supporting TON.","Let\'s Check":"Let’s Check","Let\'s Check!":"Let’s Check!","Safety Rules":"Safety Rules","$safety_rules_private_key_one":"On the next screen you will see the **TON private key**. Save it correctly and **store in a secure place**.\\n","$safety_rules_private_key_two":"It allows to **open your wallet** if you lose your password or access to this device.","$safety_rules_private_key_three":"If anybody else sees this private key, your funds **may be stolen**. **Do not send or show it to anyone**, not even developers or technical support.","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About %app_name%":"About %app_name%","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**%app_name% extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Log Out","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **secret words** backed up.","Your address was copied!":"Your address was copied!","Create Deposit Link":"Create Deposit Link","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive %token%":"Share this URL to receive %token%","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","All Wallet Versions":"All Wallet Versions","Add TON-Only Wallet":"Add TON-Only Wallet","Confirmation":"Confirmation","Signing Data":"Signing Data","Contract Initialization Data":"Contract Initialization Data","$dont_have_required_token":"You don’t have the required token to send, but it can be swapped.","$unknown_token_address":"Unknown token address.","$dont_have_required_nft":"You don’t have the required NFT to send.","$state_init_invalid":"Invalid contract initialization data.","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","$transaction_on":"on %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee %fee%","$fee_value_with_colon":"Fee: %fee%","Pay fee with %stars_symbol%":"Pay fee with %stars_symbol%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","Insufficient Balance":"Insufficient Balance","$seed_phrase_scam_warning":"This wallet does not have enough funds to cover the fees for token withdrawal.\\n\\nThis seems to be a common **SCAM** where you\'re encouraged to deposit your own funds to cover fees.\\n\\n**Do not deposit** your own funds, as you may lose them! Learn more about this and other scams in our %help_center_link%.\\n","$help_center_prepositional":"Help Center","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Transaction Sent!":"Transaction Sent!","Data Signed!":"Data Signed!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved":"Remove From Saved","View on Explorer":"View on Explorer","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_description":"Scan this QR or share your address to top up your wallet balance.","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","$stake_asset":"Stake %symbol%","Earn from your tokens while holding them":"Earn from your tokens while holding them","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$safe_staking_description_jetton1":"Token staking is **fully decentralized** and operated by the **open-source** smart contracts developed by %jvault_link% and passed **security audits**.","$safe_staking_description_jetton2":"You can withdraw your stake at **any time** and it will be deposited back to your account **instantly**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","$unstake_asset":"Unstake %symbol%","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstaking_when_receive_with_amount":"You will receive your unstaked %amount% in %time%.","$unstaking_when_receive_with_amount_ethena":"You will be able to receive your unstaked %amount% in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %annual_yield%":"at %annual_yield%","Est. %annual_yield%":"Est. %annual_yield%","Staked":"Staked","$stake_action":"Stake","Unstaked":"Unstaked","Unstaking":"Unstaking","$unstake_action":"Unstake","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","Unexpected":"Unexpected error","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":{"zeroValue":"No Transactions","oneValue":"%1$d Transaction","otherValue":"%1$d Transactions"},"Total Amount":"Total Amount","$unstaking_short":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support %app_name%. They can view wallet address, balance, and request operations.","Logged in with %app_name%":"Logged in with %app_name%","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update %app_name%":"Update %app_name%","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Unlock it and open the %chain% App":"Unlock it and open the %chain% App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"%app_name% supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","Agree":"Agree","$swap_action":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Aggregator Fee":"Aggregator Fee","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"%app_name% is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The %app_name% team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or %chain% App is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","$send_action":"Send","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Auto-Updates":"Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics":"Please confirm transaction using biometrics","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Download Logs":"Download Logs","Copy Logs":"Copy Logs","Logs were copied!":"Logs were copied!","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics":"Please confirm operation using biometrics","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","This QR Code is not supported":"This QR Code is not supported","An error on the server side. Please try again.":"An error on the server side. Please try again.","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Russian Ruble":"Russian Ruble","Chinese Yuan":"Chinese Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","Confirm Rewards Claim":"Confirm Rewards Claim","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again":"Please try to confirm your biometrics again","Unknown error":"Unknown error","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Biometric confirmation failed":"Biometric confirmation failed","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","Insufficient fee":"Insufficient fee","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","$service_token_transfer_warning":"You are about to transfer an important service token required to withdraw your deposit or complete service operations. Please ensure this is the action you intend to take.","No Price":"No Price","$ledger_outdated":"This operation is not supported by your version of the Ledger %chain% App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address":"Search or enter address","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","$transfer_link_expired":"Transfer link has expired","$transfer_text_and_bin_exclusive":"Cannot use both text and bin parameters together","$unsupported_deeplink_parameter":"This deeplink contains unsupported parameters","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","Until %date%":"Until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","%app_name% Features":"%app_name% Features","Security":"Security","To avoid entering the passcode every time, you can use biometrics.":"To avoid entering the passcode every time, you can use biometrics.","Change Passcode":"Change Passcode","Change Password":"Change Password","Confirm Password":"Confirm Password","The passcode will be changed for all your wallets.":"The passcode will be changed for all your wallets.","Password Changed!":"Password Changed!","Passcode Changed!":"Passcode Changed!","New code set successfully":"New code set successfully","Codes don’t match":"Codes don’t match","Enter your new code":"Enter your new code","Re-enter your new code":"Re-enter your new code","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"To continue, enable the \\"Blind Signing\\" option in the settings of the %chain% App on Ledger.","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","Multichain":"Multichain","$swap_too_small_amount":"Too small amount","Not enough %symbol%":"Not enough %symbol%","You have just created a new multichain wallet":"You have just created a new multichain wallet","Now you can transfer tokens from your TON and TRON wallets.":"Now you can transfer tokens from your TON and TRON wallets.","Enter Secret Words":"Enter Secret Words","Turn this off so you can manually download updates and verify signatures.":"Turn this off so you can manually download updates and verify signatures.","InvalidMnemonic":"Your mnemonic words are invalid","NFT Menu":"NFT Menu","Connection Type":"Connection Type","Ledger is not supported on this device":"Ledger is not supported on this device","Connect your Ledger":"Connect your Ledger","$app_lock_description":"When app lock is enabled, a lock icon appears on the card on the main page. Use it to lock %app_name%.","App Lock":"App Lock","Auto-Lock":"Auto-Lock","Disabled":"Disabled","30 seconds":"30 seconds","3 minutes":"3 minutes","10 minutes":"10 minutes","If away for 30 sec":"If away for 30 sec","If away for 3 min":"If away for 3 min","If away for 10 min":"If away for 10 min","Unlock":"Unlock","This address mimics another address that you previously interacted with.":"This address mimics another address that you previously interacted with.","Biometric authentication failed":"Biometric authentication failed","Reset biometrics in security settings, or use a passcode.":"Reset biometrics in security settings, or use a passcode.","Best Rate":"Best Rate","via %dex_name%":"via %dex_name%","$swap_dex_chooser_rate_title":"Analyzed actual rates on **DeDust** and **STON.fi** to use the **best rate**.","You will receive %amount% **more**.":"You will receive %amount% **more**.","You will spend %amount% **less**.":"You will spend %amount% **less**.","Best":"Best","Use Best Rate":"Use Best Rate","Switch to %dex_name%":"Switch to %dex_name%","Built-in DEX Aggregator":"Built-in DEX Aggregator","Add Tokens":"Add Tokens","No tokens yet":"No tokens yet","$no_tokens_description":"Receive tokens from another wallet, or simply enable preferred tokens in the settings for monitoring.","Exchange Rate":"Exchange Rate","Install Card":"Install Card","Reset Card":"Reset Card","Apply Palette":"Install Palette","Reset Palette":"Reset Palette","Notifications & Sounds":"Notifications & Sounds","Sounds":"Sounds","Push Notifications":"Push Notifications","Select up to %count% wallets for notifications":"Select up to %count% wallets for notifications","$swap_aggregator_fee_tooltip":"A built-in **DEX aggregator** finds the **best rate** across available DEXes. Service fee is %percent%.","Accumulated Rewards":"Accumulated Rewards","$swap_reverse_prohibited":"Setting the buy amount is impossible for this pair of tokens","Blockchain Fee Details":"Blockchain Fee Details","Final Fee":"Final Fee","Excess":"Excess","$fee_details":"%full_fee% need to be immediately debited from your wallet to pay the fee. Part of this will be returned **in **%excess_symbol% to you as excess within a few minutes.\\n\\nThis is how %chain_name% Blockchain works.\\n","Got It":"Got It","Wallet":"Wallet","Connected":"Connected","All Dapps":"All Dapps","Trending":"Trending","No Data":"No Data","Toggle fullscreen":"Toggle fullscreen","Request is sent!":"Request is sent!","Transaction ID":"Transaction ID","Help Center":"Help Center","MyTonWallet Tips":"MyTonWallet Tips","$auth_import_24_mnemonic_description":"You can restore access to your wallet by entering the **24 secret words** that you wrote down when creating the wallet.\\n","Open %nft_marketplace%":"Open %nft_marketplace%","Link was copied!":"Link was copied!","Share Link":"Share Link","$dapp_return_details":"%fee_amount% will be immediately debited from your wallet to pay the fee.\\n\\n%received_amount% will be returned to you within a few minutes.\\n","Additional Amount Sent":"Additional Amount Sent","Show Sensitive Data":"Show Sensitive Data","Hide Sensitive Data":"Hide Sensitive Data","Copy Address":"Copy Address","Copy Transaction ID":"Copy Transaction ID","Requesting Unstake":"Requesting Unstake","Requested Unstake":"Requested Unstake","$request_unstake_action":"Request Unstake","Calling Contract":"Calling Contract","Called Contract":"Called Contract","$call_contract_action":"Call Contract","Deploying Contract":"Deploying Contract","Deployed Contract":"Deployed Contract","$deploy_contract_action":"Deploy Contract","Minting":"Minting","Minted":"Minted","$mint_action":"Mint","Burning":"Burning","Burned":"Burned","$burn_action":"Burn","Updating Address":"Updating Address","Updated Address":"Updated Address","$update_address_action":"Update Address","Updating Site":"Updating Site","Updated Site":"Updated Site","$update_site_action":"Update Site","Updating Subdomains":"Updating Subdomains","Updated Subdomains":"Updated Subdomains","$update_subdomains_action":"Update Subdomains","Updating Storage":"Updating Storage","Updated Storage":"Updated Storage","$update_storage_action":"Update Storage","Deleting Domain Record":"Deleting Domain Record","Deleted Domain Record":"Deleted Domain Record","$delete_domain_record_action":"Delete Domain Record","Renewing Domain":"Renewing Domain","Renewed Domain":"Renewed Domain","$renew_domain_action":"Renew Domain","Providing Liquidity":"Providing Liquidity","Provided Liquidity":"Provided Liquidity","$provide_liquidity_action":"Provide Liquidity","Withdrawing Liquidity":"Withdrawing Liquidity","Withdrawn Liquidity":"Withdrawn Liquidity","$withdraw_liquidity_action":"Withdraw Liquidity","Bounced":"Bounced","Bouncing":"Bouncing","$bounce_action":"Bounce","NFT Auction Bid":"NFT Auction Bid","Bidding at NFT Auction":"Bidding at NFT Auction","Buying NFT":"Buying NFT","Bought NFT":"Bought NFT","$buy_nft_action":"Buy NFT","Sold NFT":"Sold NFT","Selling NFT":"Selling NFT","$sell_nft_action":"Sell NFT","Receiving":"Receiving","$receive_action":"Receive","Change Palette":"Change Palette","Palette":"Palette","Unlock New Palettes":"Unlock New Palettes","Get a unique MyTonWallet Card to unlock new palettes.":"Get a unique MyTonWallet Card to unlock new palettes.","Mint Cards":"Mint Cards","Card has been upgraded!":"Card has been upgraded!","$mint_card_result":"NFT Card will be **minted** and **installed automatically** within a minute.","Unique":"Unique","Get a card with unique background and personalized palette for wallet interface.":"Get a card with unique background and personalized palette for wallet interface.","Transferable":"Transferable","Easily send your upgraded card to any of your friends.":"Easily send your upgraded card to any of your friends.","Tradable":"Tradable","Sell or auction your card on third-party NFT marketplaces.":"Sell or auction your card on third-party NFT marketplaces.","Upgrade for %currency% %amount%":"Upgrade for %currency% %amount%","%amount% left":"%amount% left","%amount% sold":"%amount% sold","This card has been sold out":"This card has been sold out","Import Existing Wallet":"Import Existing Wallet","View Any Address":"View Any Address","12/24 Secret Words":"12/24 Secret Words","24 Secret Words":"24 Secret Words","Wallet Address or Domain":"Wallet Address or Domain","$import_view_account_note":"Enter **any address** on TON or TRON network to open it in **View Mode**.","$view_mode":"View","Import Wallet":"Import Wallet","Please top up your TON balance.":"Please top up your TON balance.","Remember Passcode":"Remember Passcode","Remember Password":"Remember Password","Not available with biometrics.":"Not available with biometrics.","App will not ask for signature for %1$d minutes after last entry.":"The app will not ask for a signature for %1$d minutes after the last entry.","Remember for %1$d minutes":"Remember for %1$d minutes","Preview":"Preview","$preview_not_guaranteed":"Preview result **is not guaranteed** and **can be forged** by the service.","Unverified Source":"Unverified Source","$reopen_in_iab":"For your safety, please re-open this dapp in %browserButton%.","MyTonWallet Browser":"MyTonWallet Browser","Exit all wallets":"Exit all wallets","Can\'t confirm?":"Can\'t confirm?","$safe_staking_ethena_description1":"Staking is fully decentralized and operated by **Ethena’s official** audited liquid staking **smart contracts**.","$safe_staking_ethena_description2":"The deposited USDe stake is used in Ethena’s **trading and investment strategies** to yield rewards automatically and transparently.","$safe_staking_ethena_description3":"You can **withdraw** your stake with rewards at any time, and it will be returned to your account **in 7 days**, according to Ethena’s standard withdrawal period.","Unstake %amount%":"Unstake %amount%","Request Unstaking":"Request Unstaking","$unstaking_when_receive_ethena":"You will be able to receive your unstaked deposit in **7 days**.","Coins have been unstaked!":"Coins have been unstaked!","Confirm Upgrading":"Confirm Upgrading","How does it work?":"How does it work?","Multisend":"Multisend","Renew All":"Renew All","Renew":"Renew","Renew Domain":"Renew Domain","Renew Domains":"Renew Domains","Some domains are about to expire":"Some domains are about to expire","$domain_expire":"**%domain%** expires %days%","%token% Staking":"%token% Staking","Add Tab":"Add Tab","Remove Tab":"Remove Tab","$domains_amount %1$d":{"zeroValue":"No domains","oneValue":"%1$d domain","otherValue":"%1$d domains"},"Stake":"Stake","Manage Tokens":"Manage Tokens","Claim Rewards":"Claim Rewards","Configure DNS":"Configure DNS","Link to Wallet":"Link to Wallet","Change Wallet":"Change Wallet","Change Linked Wallet":"Change Linked Wallet","Domain has been renewed!":"Domain has been renewed!","Domains have been renewed!":"Domains have been renewed!","Linked Wallet":"Linked Wallet","Domain has been linked!":"Domain has been linked!","Link":"Link","Confirm Renewing":"Confirm Renewing","Confirm Linking":"Confirm Linking","$domains_expire":{"zeroValue":"No domains expires %days%","oneValue":"**%domain% domain** expires %days%","otherValue":"**%domain% domains** expire %days%"},"$in_days":{"zeroValue":"today","oneValue":"tomorrow","otherValue":"in %1$d days"},"$domain_was_expired":"**%domain%** is expired","$domains_was_expired":{"zeroValue":"No domains is expired","oneValue":"**%domain% domain** is expired","otherValue":"**%domain% domains** are expired"},"Reload":"Reload","Copy Link":"Copy Link","Check eligibility for max APY":"Check eligibility for max APY","Check eligibility":"Check eligibility","$expired_many":"Expired","$expires_in %days%":"Expires %days%","Message":"Message","Binary Data":"Binary Data","The binary data content is unclear. Sign it only if you trust the service.":"The binary data content is unclear. Sign it only if you trust the service.","Cell Schema":"Cell Schema","Cell Data":"Cell Data","Sign Data":"Sign Data","Please confirm signature on your Ledger":"Please confirm signature on your Ledger","Utilities":"Utilities","Games":"Games","Entertainment":"Entertainment","Toggle to landscape layout":"Toggle to landscape layout","Toggle to portrait layout":"Toggle to portrait layout","Attributes":"Attributes","Show All":"Show All","Description":"Description","No additional data.":"No additional data.","Domain was copied!":"Domain was copied!","$in_currency":"in %currency%","Rename Wallet":"Rename Wallet","You can rename this wallet for easier identification.":"You can rename this wallet for easier identification.","$storage_cleared_title":"Application Storage Cleared","$storage_cleared_message":"Your wallet data has been cleared due to browser-related or disk space issues. Please log out from all wallets and then re-import them manually using your secret words.\\n\\nIf you need assistance, please contact %support_link%.\\n","Telegram Gifts":"Telegram Gifts","Collectibles":"Collectibles","Bluetooth unavailable":"Bluetooth unavailable","$bluetooth_enable_guide":"Turn on Bluetooth in the device settings and allow the app to access Bluetooth.","Another transaction was sent from this wallet simultaneously. Please try again.":"Another transaction was sent from this wallet simultaneously. Please try again.","Canceled by the user":"Canceled by the user","The proof for signing provided by the Dapp is too large":"The proof for signing provided by the Dapp is too large","$domain_like_scam_warning":"The entered address is likely a **SCAM**. This is **NOT** an address of any exchange or your token wallet.\\n\\nThis is a long **domain** that **scammers** use to convince people they are sending tokens to a known address.\\n\\n**Cancel** this transfer and **never** trust strangers. Learn more about this and other scams in our %help_center_link%.\\n","Allow Suspicious Actions":"Allow Suspicious Actions","$allow_suspicious_actions_description":"Allow sending to suspicious addresses and interacting with potentially unsafe contracts.","Multisig Wallet Detected":"Multisig Wallet Detected","$multisig_warning_text":"This wallet requires multiple signatures to make transfers. You **cannot withdraw** any funds here using MyTonWallet. Make sure it’s yours — otherwise, it may be part of a scam. %multisig_warning_link%","$multisig_warning_link":"Tap to learn more","Multisig sending disabled":"Multisig sending disabled","$try_new_air_version":"Try the native app experience — lighter, faster, and built for your device. You can switch back anytime.","$accept_terms_with_link":"I agree to %link%","use the wallet responsibly":"use the wallet responsibly","%app_name% Resources":"%app_name% Resources","Watch Video about Features":"Watch Video About Features","Enjoy Monthly Updates in Blog":"Enjoy Monthly Updates in Blog","Learn New Things in Help Center":"Learn New Things in Help Center","Frequency Questions and Answers":"Frequency Questions and Answers","Paste from Clipboard":"Paste from Clipboard","Use biometric authentication or create a password to protect it.":"Use biometric authentication or create a password to protect it.","Go to Words":"Go to Words","Copy to Clipboard":"Copy to Clipboard","$mnemonic_check_words_list":"Please choose the correct words %word_numbers%:","$mnemonic_check_error":"Words don’t match, please try again.","Open Wallet":"Open Wallet","All Set!":"All Set!","$wallet_create_done":"Done! You have created a wallet.","$wallet_import_done":{"zeroValue":"Done! You have imported a wallet.","oneValue":"Done! You have imported a wallet.","otherValue":"Done! You have imported %1$d wallets."},"$wallet_done_description":"You can now securely store, receive, and send coins and other digital assets.","Security Warning":"Security Warning","Go back to Words":"Go back to Words","I’m sure. Continue":"I’m sure. Continue","$copy_mnemonic_warning":"Storing words in a digital environment, including the **clipboard**, is not safe. Make sure you have your recovery phrase securely saved.","Other apps will be able to read your recovery phrase!":"Other apps will be able to read your recovery phrase!","I’m sure. Copy anyway":"I’m sure. Copy anyway","$auth_biometric_info":"You can connect your biometric data for **more convenience.**","Open wallet without checking":"Open wallet without checking","Make sure you have your recovery phrase securely saved.":"Make sure you have your recovery phrase securely saved.","Without it, you won\'t be able to access your wallet.":"Without it, you won\'t be able to access your wallet.","$ledger_connection_broken":"The Ledger connection has broken. Please reconnect and try again.","$ledger_wrong_device":"The current account is set up with another Ledger recovery phrase or passphrase, or stored on another Ledger device","Show More":"Show More","Purchasing TRON with Russian Rubles is currently unavailable.":"Purchasing TRON with Russian Rubles is currently unavailable."}'),ki=self.caches;async function Ci(e){try{if(!ki)return;return await ki.delete(e)}catch(e){return void console.warn(e)}}const Ni=new Set(Object.values(a.yR2).map(e=>e.shortSymbol).filter(Boolean)),Si=(0,Kt.A)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2?arguments[2]:void 0,o=new $n.z(e);if(o.eq(0))return"0";const r=o.lt(0);r&&(o=o.neg());const i=o.lt(1)?"toPrecision":"round";let s=o[i](t,n?$n.z.roundHalfUp:$n.z.roundDown).toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"");return s=function(e){const[t,n=""]=e.split(".");return[t.replace(/\B(?=(\d{3})+(?!\d))/g,`$&${a.MS3}`),n].filter(Boolean).join(".")}(s),r&&(s=`-${s}`),s});function Ai(e,t,n,a){return Bi(Si(e,n,a),t)}function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const r=Number(e),i=n?"":(0===r?o:r<0)?"− ":"+ ";return e=e.toString(),i+Ai(n?e:e.replace(/^-/,""),t,a)}function Ti(e,t,n){return"string"!=typeof e&&(e=(0,zn.nI)(e,n)),Bi(e,t)}function Bi(e,t){return Ni.has(t)?`${t}${e}`.replace(`${t}-`,`-${t}`):`${e} ${t}`}function xi(e){return e||(e=a.wOb),a.yR2[e].shortSymbol??e}function _i(e,t,n,a){const o=Vn(n.priceUsd||0,t,a);return Ai((0,$n.z)((0,zn.nI)((0,Ao.wg)(e),n.decimals,!0)).mul(o),xi(t))}const Li=Ei,{addCallback:Di,removeCallback:Oi,runCallbacks:Mi}=fe(),Fi=/%\d?\$?[sdf@]/g,Pi=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],Ri={de:e=>0===e?1:1!==e?6:2,en:e=>0===e?1:1!==e?6:2,es:e=>0===e?1:1!==e?6:2,pl:e=>0===e?1:1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,ru:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,th:e=>0===e?1:6,tr:e=>0===e?1:e>1?6:2,uk:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"zh-Hans":e=>0===e?1:6,"zh-Hant":e=>0===e?1:6},Ui=new Map;let Wi,Hi;function $i(){return(e,t,n,a)=>{var o;if(void 0!==t&&("object"!=typeof t||Array.isArray(t))){const o=Array.isArray(t)?JSON.stringify(t):t,r=Ui.get(`${e}_${o}_${n}${a?`_${a}`:""}`);if(r)return r}return Wi||Li?function(e,t,n,a,o){const i="number"==typeof n||void 0!==o?function(e){const t=Hi||r.vj,n=Ri[t]?Ri[t](e):0;return Pi[n]}(o??n):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?(null==e?void 0:e[i])||e.otherValue:void 0;if(!s||!s.trim()||void 0===n)return s;const c="i"===a?Si(n):n,l="object"!=typeof n||Array.isArray(n)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(Fi),a=n.shift();return n.reduce((e,n,a)=>`${e}${String(t[a]??"")}${n}`,a||"")}(s,c):function(e,t){let n=e;Object.entries(t).forEach(e=>{let[t,a]=e;var o;"string"!=typeof a&&"number"!=typeof a||(n=n.replace(new RegExp(`%${o=t,o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}%`,"g"),String(a)))});if(!Object.values(t).some(e=>"string"!=typeof e&&"number"!=typeof e))return bi(n);const a=n.split(/%(\w+)%/),o=[];for(let e=0;e<a.length;e++)if(e%2==0)a[e]&&o.push(...bi(a[e]));else{const n=t[a[e]];void 0!==n&&o.push(n)}return o}(s,c);if("object"!=typeof n&&"string"==typeof l){const e=Array.isArray(n)?JSON.stringify(n):n;Ui.set(`${t}_${e}_${a}${o?`_${o}`:""}`,l)}return l}((null===(o=Wi)||void 0===o?void 0:o[e])||(null==Li?void 0:Li[e])||e,e,t,n,a):e}}let Vi=$i();async function zi(e,t){if(Wi&&e===Hi)return void(t&&t());let n=await async function(e,t){if(ki)try{const n=a.jht?`${a.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),o=await ki.open(e),r=await o.match(n);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(a.CV,e);if(!n&&(n=await async function(e){if(e===r.vj)return Li;const t=await fetch(`${a.jht?".":".."}/i18n/${e}.json`);if(!t.ok){const e=`An error has occured: ${t.status}`;throw new Error(e)}const n=await t.json();return n?(await async function(e,t,n){if(ki)try{const o="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),r=a.jht?`${a.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),i=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const s=await ki.open(e);return await s.put(r,i)}catch(e){return void console.warn(e)}}(a.CV,e,n),n):void 0}(e),!n))return;Ui.clear(),Hi=e,Wi=n,document.documentElement.lang=e;const o=null===a.gSB||void 0===a.gSB?void 0:a.gSB.find(t=>t.langCode===e);Vi=$i(),Vi.isRtl=Boolean(null==o?void 0:o.rtl),Vi.code=e.replace("-raw",""),Vi.langName=null==o?void 0:o.nativeName,t&&t(),Mi()}const Ki=()=>{const e=ft();return gt(()=>Di(e)),Vi};function qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var ji=i(75357);const Yi=(e,t,n)=>Math.min(n,Math.max(t,e)),Gi=(e,t,n)=>e>=t&&e<=n,Qi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*10**t)/10**t};let Xi=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});function Zi(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function Ji(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let es=0;const ts=new class{stability;sensitivity;tolerance;delay;lastUpDeltas;lastDownDeltas;deltasTimestamp;constructor(){let{stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:a=150}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=a,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),a=t.slice(this.stability,2*this.stability),o=n.reduce((e,t)=>e+t),r=a.reduce((e,t)=>e+t),i=o/n.length,s=r/a.length;return Math.abs(i)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)}}({stability:5,sensitivity:25,tolerance:r.H8?1:.6,delay:150});function ns(e,t){let n,a=!1,o=!1,i=!1,s=0,l=t.initialZoom??1,d={x:0,y:0},u={x:!1,y:!1};const m=dr();let p,f={x:m.width/2,y:m.height/2};const h=t.minZoom??1,g=t.maxZoom??4;function v(a){var o;const r=a.target,{excludedClosestSelector:i,includedClosestSelector:c,withNativeDrag:l,withCursor:d,onDrag:u}=t;(e===r||e.contains(r))&&"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&(i&&(r.matches(i)||r.closest(i))||c&&!r.matches(c)&&!r.closest(c)||(n=a,"mousedown"===a.type?(!l&&u&&a.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("mouseup",y)):"touchstart"===a.type&&(r.addEventListener("touchmove",w,{passive:!0}),r.addEventListener("touchend",y,{passive:!0}),r.addEventListener("touchcancel",y,{passive:!0}),"touches"in a&&(void 0===a.pageX&&(a.pageX=a.touches[0].pageX),void 0===a.pageY&&(a.pageY=a.touches[0].pageY),2===a.touches.length&&(s=Zi(a.touches[0],a.touches[1]),f=Ji(a.touches[0],a.touches[1])))),d&&document.body.classList.add("cursor-grabbing"),null===(o=t.onCapture)||void 0===o||o.call(t,a)))}function y(e){if(n){if(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",y),document.removeEventListener("mousemove",w),n.target.removeEventListener("touchcancel",y),n.target.removeEventListener("touchend",y),n.target.removeEventListener("touchmove",w),r.pz&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,ji.dL)(()=>{e.forEach(e=>{e.style.overflow=""})},e)}e&&(a?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-es<300?t.onDoubleClick(e,{centerX:n.pageX,centerY:n.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),es=Date.now()))}a=!1,o=!1,i=!1,s=0,l=Yi(l,h,g),p=void 0,d={x:0,y:0},u={x:!1,y:!1};const c=dr();f={x:c.width/2,y:c.height/2},n=void 0}function w(e){if(n){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&s>0&&2===e.touches.length)){const n=Zi(e.touches[0],e.touches[1]),o=Ji(e.touches[0],e.touches[1]),r=o.x-f.x,i=o.y-f.y,c=n/s;t.onZoom(e,{zoomFactor:c,initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:r,dragOffsetY:i,currentCenterX:o.x,currentCenterY:o.y}),1!==c&&(a=!0)}const i=e.pageX-n.pageX,c=e.pageY-n.pageY;(Math.abs(i)>=15||Math.abs(c)>=15)&&(a=!0);let l=!1;if(t.onDrag&&(t.onDrag(e,n,{dragOffsetX:i,dragOffsetY:c}),l=!0),t.onSwipe&&!o&&(o=function(e,n,a){if(r.pz){const t="touches"in e?e.touches[0].pageX:e.pageX;if(t<=20||t>=dr().width-20)return!1}const o=Math.abs(n),i=Math.abs(a),s=t.swipeThreshold??20;let c;if(o>i&&o>=s?c="x":i>o&&i>=s&&(c="y"),!c)return!1;if(p){if(p!==c)return!1}else p=c;return function(e,t,n,a,o){const r={dragOffsetX:n,dragOffsetY:a};return"x"===t?o(e,n<0?Xi.Left:Xi.Right,r):"y"===t&&o(e,a<0?Xi.Up:Xi.Down,r)}(e,c,n,a,t.onSwipe)}(e,i,c),l=o),r.pz&&l&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,ji.dL)(()=>{e.forEach(e=>{e.style.overflow="hidden"})},e)}}}const b=(0,c.sg)(y,150,!1),E=(0,c.sg)(y,150,!1);function k(e){a||(v(e),a=!0,f={x:e.x,y:e.y})}function C(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:o=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return k(e),l=l>1?1:o,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(a=!1);const r=e.metaKey||e.ctrlKey||e.shiftKey;if(r&&function(e){if(!t.onZoom)return;k(e);const n=e.x-f.x,a=e.y-f.y,o=Yi(e.deltaY,-25,25);l-=.01*o,l=Yi(l,.5*h,3*g),i=!0,t.onZoom(e,{zoom:Qi(l,2),initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:n,dragOffsetY:a,currentCenterX:e.x,currentCenterY:e.y}),E(e)}(e),!r&&!i){const a=ts.check(e);(1!==l||a)&&function(e){if(!t.onDrag)return;k(e),u.x&&Math.sign(d.x)!==Math.sign(e.deltaX)||(d.x-=e.deltaX),u.y&&Math.sign(d.y)!==Math.sign(e.deltaY)||(d.y-=e.deltaY);const{x:a,y:o}=d;t.onDrag(e,n,{dragOffsetX:a,dragOffsetY:o},(e,t)=>{u={x:e,y:t}}),b(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",C),e.addEventListener("mousedown",v),document.body.addEventListener("touchstart",v,{passive:!t.isNotPassive}),()=>{y(),document.body.removeEventListener("touchstart",v),e.removeEventListener("mousedown",v),e.removeEventListener("wheel",C)}}const as={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},os={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function rs(e){return is()||document.addEventListener("keydown",ss,!0),Object.keys(e).forEach(t=>{const n=e[t];if(!n)return;const a=os[t];a&&a.push(n)}),()=>{!function(e){Object.keys(e).forEach(t=>{const n=e[t],a=os[t];if(a){const e=a.findIndex(e=>"function"==typeof e?e===n:n&&"handler"in n&&e.handler===n.handler);-1!==e&&a.splice(e,1)}}),is()||document.removeEventListener("keydown",ss,!1)}(e)}}function is(){return Object.values(os).some(e=>Boolean(e.length))}function ss(e){const t=as[e.key];if(!t)return;const{length:n}=os[t];if(!n)return;const a=os[t][n-1];if("function"==typeof a)a(e),e.stopPropagation();else{const{handler:t,noStopPropagation:n,shouldPreventDefault:o}=a;n||e.stopPropagation(),o&&e.preventDefault(),t(e)}}let cs=0;function ls(){cs+=1}function ds(){cs-=1}function us(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex(e=>e.isSameNode(document.activeElement));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}function ms(e){return/^#[0-9A-F]{6}$/i.test(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN","")).join("")}`}var ps,fs;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(ps||(ps={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(fs||(fs={}));const hs=(0,t.F3)("StatusBar");var gs;!function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"}(gs||(gs={}));const vs=(0,t.F3)("NavigationBar",{web:()=>i.e(884).then(i.bind(i,15884)).then(e=>new e.NavigationBarWeb)}),ys=window.matchMedia("(prefers-color-scheme: dark)");let ws,bs;function Es(e,t){ws=e,ks(),Ns({isInModal:t}),(0,we.YS)(()=>{var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)})}function ks(){var e;const t="dark"===ws||"system"===ws&&(a.tKX?"dark"===(null===(e=Cr())||void 0===e?void 0:e.colorScheme):ys.matches);document.documentElement.classList.toggle("theme-dark",t)}function Cs(){ks(),Ns()}function Ns(e){a.tKX?(0,we.YS)(()=>{var e,t,n;const a=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");if(!a)return;const o=ms(a);null===(e=Cr())||void 0===e||e.setHeaderColor(o),null===(t=Cr())||void 0===t||t.setBackgroundColor(o),null===(n=Cr())||void 0===n||n.setBottomBarColor(o)}):a.UMQ&&(void 0!==(null==e?void 0:e.forceDarkBackground)&&(bs=e.forceDarkBackground),function(e,t,n,a){const o=n||"dark"===e||t&&"system"===e?ps.Dark:ps.Light;hs.setStyle({style:o,isModalOpen:a}),r.xy&&vs.setColor({color:"#00000000",darkButtons:"light"===e||!t&&"system"===e})}(ws,ys.matches,bs,null==e?void 0:e.isInModal))}function Ss(){"system"===Wt().settings.theme&&Cs()}ys.addEventListener("change",Cs),a.tKX&&Nr().then(e=>{e.onEvent("themeChanged",Ss)});const As=new Map,Is=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach(e=>e(t.matches))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function Ts(e,t){const[n,a]=at(function(){if((null==t?void 0:t.initializeWithValue)??1){let t=As.get(e);return t||(t=Is(e),As.set(e,t)),t.mql.matches}}());return rt(()=>(((e,t)=>{let n=As.get(e);n||(n=Is(e),As.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=As.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||(As.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a)),[e]),n}let Bs;function xs(){Bs=Ts(`(max-width: ${a.c2m-.02}px)`);const e=Ts("(max-height: 43.5rem)");return{isPortrait:Boolean(Bs),isSmallHeight:e,isLandscape:!Bs,screenHeight:window.screen.height}}function _s(){return Bs}function Ls(){return!Bs}const Ds=(e,t,n)=>{const a=lt();return rt(()=>{const n=a.current;return a.current=t,e(n||[])},t,n)},Os=new Map,Ms=new Set(["color","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"]);let Fs;const Ps=Kr.getSafeAreaInsets().then(e=>{let{insets:t}=e;return Fs=t,Fs});let Rs,Us;function Ws(e){return!!(e&&e instanceof HTMLElement)&&("INPUT"===e.tagName&&Ms.has(e.type)||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&e.isContentEditable)}r.bA&&(jr.addListener("delegate",e=>{var t;let{key:n,globalJson:a}=e;Rs=n,null===(t=Os.get(n))||void 0===t||t(),Ht(JSON.parse(a,Ao.bk),{forceOutdated:!0,forceSyncOnIOs:!0})}),jr.addListener("move",()=>{window.dispatchEvent(new Event("viewportmove"))}));const Hs=new Map;r.KI&&(jr.prepare(),jr.addListener("openInMain",e=>{var t;let{key:n}=e;null===(t=Hs.get(n))||void 0===t||t()}));let $s,Vs=Promise.resolve();const zs=(0,c.sg)(e=>e(),300,!1),Ks=[];let qs=!1,js=0;function Ys(){const e=Cr().BackButton;Ks.length>0&&!qs?(e.show(),e.onClick(Gs),qs=!0):!Ks.length&&qs&&(e.hide(),e.offClick(Gs),qs=!1)}function Gs(){if(Ks.length>0){const e=Ks.pop();try{e.callback()}catch(e){(0,o.SJ)("[handleBackButtonClick]",e)}}zs(Ys)}const Qs=`${window.location.pathname}${window.location.search}`,Xs=Number(new Date);let Zs,Js,ec=!1,tc=[],nc=[];function ac(){const e=tc.filter(e=>"go"===e.type),t=tc.filter(e=>"go"!==e.type),n=e.reduce((e,t)=>e+t.delta,0);tc=[],n&&(window.history.go(n),t.length)?nc.push(...t):oc(t)}function oc(e){e.forEach(e=>window.history[e.type](e.data,""))}function rc(e){tc.length||(0,we.YS)(ac),tc.push(e)}function ic(){Js=0,Zs=[{index:0,onBack:()=>window.history.back()}],r.Fe||window.history.replaceState({index:0,historyUniqueSessionId:Xs},"",Qs)}function sc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=Js-1;t>0&&Zs[t].isClosed;t--)e++;return e&&(ec=!0,rc({type:"go",delta:-e})),e}function cc(){for(let n=Zs.length-1;n>0;n--){var e,t;Zs[n].isClosed||null===(e=(t=Zs[n]).onBack)||void 0===e||e.call(t)}ic()}function lc(e){let{isActive:t,shouldBeReplaced:n,shouldIgnoreForTelegram:o,onBack:i}=e;const s=ri(i),c=lt(),l=lt(),d=lt(!1),u=lt(!0),m=ct(function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Zs[Js].shouldBeReplaced;c.current=e?Js:++Js,Js=c.current;const t=Zs[c.current];var a;t&&!t.isClosed&&(null===(a=t.markReplaced)||void 0===a||a.call(t)),Zs[c.current]={index:c.current,onBack:s,shouldBeReplaced:n,markReplaced:()=>{d.current=!0}},rc({type:e?"replaceState":"pushState",data:{index:c.current,historyUniqueSessionId:Xs}})},[s,n]),p=ct(()=>{c.current&&Zs[c.current]&&!d.current&&(Zs[c.current].isClosed=!0,d.current=!0,c.current!==Js||n||(Js-=sc()))},[n]);gt(()=>{if(!r.pz)return u.current=!1,()=>{t&&!d.current&&p()}}),yt(e=>{let[n]=e;r.pz||n!==t&&(u.current&&!t||(t?m():p()))},[t,p,m]),rt(()=>{if(a.tKX&&!o&&t)return l.current=function(e){const t=(js+=1,js);return Ks.push({id:t,callback:e}),zs(Ys),t}(s),()=>{void 0!==l.current&&(function(e){const t=Ks.findIndex(t=>t.id===e);-1!==t&&(Ks.splice(t,1),zs(Ys))}(l.current),l.current=void 0)}},[t,o,i])}a.W75&&(window.TEST_getHistoryState=()=>Zs,window.TEST_getHistoryCursor=()=>Js),ic(),window.addEventListener("popstate",e=>{let{state:t}=e;if(ec)return ec=!1,void(nc.length&&(oc(nc),nc=[]));if(!t)return void cc();const{index:n,historyUniqueSessionId:a}=t;if(a===Xs){if(n!==Js)if(n<Js){let e=0;for(let t=Js;t>n-e;t--){var o,r;Zs[t].isClosed?e++:null===(o=(r=Zs[t]).onBack)||void 0===o||o.call(r)}const t=sc(e);Js+=n-Js-t,Js<0&&(Js=0)}else n>Js&&(ec=!0,rc({type:"go",delta:-(n-Js)}))}else cc()});const dc=new Set(["scroll","mouseenter","mouseleave","load","error"]),uc={},mc={},pc=new Map;function fc(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function hc(e,t,n){return!n&&!dc.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function gc(e,t){uc[e]--,uc[e]||document.removeEventListener(e,vc),mc[e].delete(t),pc.get(t).delete(e)}function vc(e){const t=mc[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(i),n))return;a=a.parentNode}}}a.Oig&&document.addEventListener("dblclick",()=>{const e=Object.keys(uc).length,t=Object.values(uc).reduce((e,t)=>e+t,0),n=Object.keys(mc).length,a=Object.values(mc).reduce((e,t)=>e+t.size,0),o=pc.size,r=Array.from(pc.values()).reduce((e,t)=>e+t.size,0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})});const yc="http://www.w3.org/2000/svg",wc=new Set(["key","ref","teactFastList","teactOrderKey"]),bc=new Set(["dir","role","form"]),Ec=["INPUT","TEXTAREA","SELECT"],kc={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},Cc="__indexKey#",Nc="__teactSelectionState",Sc=new WeakMap,Ac=new WeakMap,Ic=new WeakMap,Tc=new WeakMap;function Bc(e,t,n,o,r,i){var s,c,l;let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const{skipComponentUpdate:u,fragment:m}=d;let{nextSibling:p,namespace:f}=d;const h=(null==t?void 0:t.type)===Be.Component,g=(null===(s=n)||void 0===s?void 0:s.type)===Be.Component,v=n,y=!h&&(null==t?void 0:t.type)===Be.Fragment,w=!g&&(null===(c=n)||void 0===c?void 0:c.type)===Be.Fragment;if((null===(l=n)||void 0===l?void 0:l.type)===Be.Tag&&("svg"===n.tag&&(f=yc),n.props.xmlns&&(f=n.props.xmlns)),!u&&h&&g&&!et(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,Je(e.componentInstance)}(t,n)),!u&&g&&n.componentInstance.mountState===xe.Mounted&&_c(e,n,o,r,i),t===n)return n;if(a.Oig&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(g||w)g&&(r=(n=xc(e,n,o,r,i)).componentInstance.context??r),Lc(e,n,r,{nextSibling:p,fragment:m,namespace:f});else if(m||p||v.type!==Be.Text||1!==o.children.length||e.firstChild){const t=Dc(v,r,f);v.target=t,Fc(m||e,t,p),v.type===Be.Tag&&Wc(v,t)}else e.textContent=v.value,v.target=e.firstChild;else if(t&&!n)Oc(e,t,r,void 0);else if(t&&n)if(et(t,n))if(p||(p=Pc(t)),g||w)g&&(r=(n=xc(e,n,o,r,i)).componentInstance.context??r),Oc(e,t,r,void 0),Lc(e,n,r,{nextSibling:p,fragment:m,namespace:f});else{const n=Dc(v,r,f);v.target=n,Oc(e,t,r,n,p),v.type===Be.Tag&&Wc(v,n)}else if(h&&g||y&&w)Rc(t,n,r,e,p,d.forceMoveToEnd);else{const a=t,o=a.target;if(v.target=o,a.target=void 0,t.type===Be.Tag){const a=n;Wc(t,void 0),Wc(a,o),(p||d.forceMoveToEnd)&&Fc(e,o,p),function(e,t,n,a){Hc(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);for(const[e,a]of o){const o=t.props[e];void 0!==a&&(void 0===o||a!==o&&e.startsWith("on"))&&Vc(n,e,a)}for(const[t,o]of r){const r=e.props[t];void 0!==o&&o!==r&&$c(n,t,o,a)}}(t,a,o,f),Rc(t,a,r,o,void 0,void 0,f)}}return n}function xc(e,t,n,a,o){const{componentInstance:r}=t;return t.componentInstance.context=a,r.mountState===xe.Unmounted&&(t=function(e){return e.id=++Oe,e.mountState=xe.Mounting,Je(e),e.mountState=xe.Mounted,e.$element}(r),_c(e,t,n,a,o)),t}function _c(e,t,n,a,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=Bc(e,n.children[o],r.$element,n,a,o,{skipComponentUpdate:!0})}}function Lc(e,t,n,a){const{children:o}=t;if(t.type===Be.Fragment&&0===o.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void Fc(a.fragment||e,n.placeholderTarget,a.nextSibling)}for(let r=0,i=o.length;r<i;r++){const i=o[r],s=Bc(e,void 0,i,t,n,r,a);s!==i&&(o[r]=s)}}function Dc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://www.w3.org/1999/xhtml";if(e.type===Be.Empty)return document.createTextNode("");if(e.type===Be.Text)return document.createTextNode(e.value);const{tag:a,props:o,children:r}=e,i=document.createElementNS(n,a);Hc(a,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&$c(i,e,o[e],n);!function(e,t){Ec.includes(e.tagName)&&(t.defaultValue&&$c(e,"value",t.defaultValue),t.defaultChecked&&$c(e,"checked",t.defaultChecked))}(i,o);for(let a=0,o=r.length;a<o;a++){const o=r[a],s=Bc(i,void 0,o,e,t,a,{namespace:n});s!==o&&(r[a]=s)}return i}function Oc(e,t,n,a,o){const r=t.type===Be.Component,i=!r&&t.type===Be.Fragment;r||i?(r&&tt(t.componentInstance),function(e,t,n){for(const a of t.children)Bc(e,a,void 0,t,n,-1)}(e,t,n),a&&Fc(e,a,o)):(a?e.replaceChild(a,t.target):e.removeChild(t.target),Mc(t))}function Mc(e){if(e.type===Be.Component)tt(e.componentInstance);else if(e.type===Be.Fragment){const n=e;var t;n.placeholderTarget&&0===n.children.length&&(null===(t=n.placeholderTarget.parentNode)||void 0===t||t.removeChild(n.placeholderTarget),n.placeholderTarget=void 0)}else if(e.type===Be.Tag&&(Ac.delete(e.target),Wc(e,void 0),function(e){const t=pc.get(e);t&&(t.forEach(t=>gc(t,e)),pc.delete(e))}(e.target)),e.target=void 0,e.type!==Be.Tag)return;for(const t of e.children)Mc(t)}function Fc(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function Pc(e){if(e.type===Be.Component||e.type===Be.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return Pc(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function Rc(e,t,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0;if("props"in t&&t.props.teactFastList)return void function(e,t,n,o){const r=e.children,i=t.children,s=Xc(r),c=Xc(i),l=new Set(c);if(a.Oig)for(const e of i)if(e.type===Be.Fragment)throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");let d=0;const u={};for(let e=0,a=r.length;e<a;e++){const a=r[e],i=s[e];l.has(i)?u[i]={$element:a,index:d++,orderKey:"props"in a?a.props.teactOrderKey:void 0}:Bc(o,a,void 0,t,n,-1)}let m,p,f=0;for(let e=0,a=i.length;e<a;e++){const a=i[e],r=u[c[e]];if(!r){void 0===p&&(m=e,p=0),p++;continue}p&&(Uc(m,p,o,t,n),p=void 0,m=void 0);const s="props"in a?a.props.teactOrderKey:void 0,l=r.index!==f&&(!s||r.orderKey!==s),d=l&&f>r.index;l&&!d||f++;const h=o.childNodes[d?e+1:e],g=l?h?{nextSibling:h}:{forceMoveToEnd:!0}:void 0,v=Bc(o,r.$element,a,t,n,e,g);v!==a&&(i[e]=v)}p&&Uc(m,p,o,t,n)}(e,t,n,o);if(e.type===Be.Fragment&&t.type===Be.Fragment){const n=e,a=t;var c;if(0===n.children.length&&a.children.length>0&&n.placeholderTarget&&(r=n.placeholderTarget.nextSibling||void 0,null===(c=n.placeholderTarget.parentNode)||void 0===c||c.removeChild(n.placeholderTarget),n.placeholderTarget=void 0),n.children.length>0&&0===a.children.length){const e=Pc(n.children[n.children.length-1]);a.placeholderTarget=document.createComment("empty-fragment"),Fc(o,a.placeholderTarget,e)}}const l=e.children,d=t.children,u=l.length,m=d.length,p=Math.max(u,m),f=m>u?document.createDocumentFragment():void 0,h=e.children[u-1],g=f&&(r||(h?Pc(h):void 0));for(let e=0;e<p;e++){const a=Bc(o,l[e],d[e],t,n,e,e>=u?{fragment:f,namespace:s}:{nextSibling:r,forceMoveToEnd:i,namespace:s});a&&a!==d[e]&&(d[e]=a)}f&&Fc(o,f,g)}function Uc(e,t,n,a,o){const r=n.childNodes[e];if(1===t){const t=a.children[e],i=Bc(n,void 0,t,a,o,e,{nextSibling:r});return void(i!==t&&(a.children[e]=i))}const i=document.createDocumentFragment();for(let r=e;r<e+t;r++){const e=a.children[r],t=Bc(n,void 0,e,a,o,r,{fragment:i});t!==e&&(a.children[r]=t)}Fc(n,i,r)}function Wc(e,t){const{ref:n}=e.props;var a;"object"==typeof n?(n.current=t,null===(a=n.onChange)||void 0===a||a.call(n)):"function"==typeof n&&n(t)}function Hc(e,t){const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!Ec.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:i,onChange:s,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(null==i||i(e),null==s||s(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset[Nc]=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)},t.onBlur=e=>{delete e.currentTarget.dataset[Nc],null==c||c(e)}}function $c(e,t,n,a){if("className"===t)zc(e,n,a);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[Nc];if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?Kc(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=fc(t,e);hc(o,e,a)?function(e,t,n){uc[e]||(uc[e]=0,document.addEventListener(e,vc)),function(e){return mc[e]||(mc[e]=new Map),mc[e]}(e).set(t,n),function(e){const t=pc.get(e);if(t)return t;const n=new Set;return pc.set(e,n),n}(t).add(e),uc[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):a===yc||t.startsWith("data-")||t.startsWith("aria-")||bc.has(t)?e.setAttribute(t,n):wc.has(t)||(e[kc[t]||t]=n)}function Vc(e,t,n){"className"===t?zc(e,""):"value"===t?e.value="":"style"===t?Kc(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=fc(t,e);hc(o,e,a)?gc(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):wc.has(t)||e.removeAttribute(t)}function zc(e,t,n){if(n===yc)return void e.setAttribute("class",t);const a=e,o=Ac.get(e);if(!o)return void(a.className=t);const r=Array.from(o);t&&r.push(t),a.className=r.join(" ")}function Kc(e,t){e.style.cssText=t,Ic.get(e)&&Qc(e)}function qc(e,t){e.classList.add(t);const n=Ac.get(e);n?n.add(t):Ac.set(e,new Set([t]))}function jc(e,t){e.classList.remove(t);const n=Ac.get(e);n&&(n.delete(t),n.size||Ac.delete(e))}function Yc(e,t,n){var a;!0===n?qc(e,t):!1===n||null!==(a=Ac.get(e))&&void 0!==a&&a.has(t)?jc(e,t):qc(e,t)}function Gc(e,t){Ic.set(e,t),Qc(e)}function Qc(e){const t=Object.entries(Ic.get(e)).reduce((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t},{});Object.assign(e.style,t)}function Xc(e){let t=Tc.get(e);if(t)return t;const n=new Set,o=new Set;if(t=e.map((e,t)=>{let r="props"in(i=e)?i.props.key:void 0;var i;return null==r?(a.Oig&&Me(e)&&console.warn("Missing `key` in `teactFastList`"),r=`${Cc}${t}`):n.has(r)?(a.Oig&&o.add(r),r=`${Cc}${t}`):n.add(r),r}),a.Oig&&o.size)throw console.warn("[Teact] Duplicated keys:",[...o],e),new Error("[Teact] Children keys are not unique");return Tc.set(e,t),t}const Zc=function(e,t){Sc.has(t)||Sc.set(t,{children:[]});const n=Xe(),a=Sc.get(t),o=Bc(t,a.children[0],e,a,{},0);null==n||n(),a.children=o?[o]:[]};function Jc(e){const t=lt();return t.current??=ye(e),t.current}function el(e,t){const n=lt(!0);n.current&&(n.current=!1,null==t||t.forEach(t=>{ge(t)&&t.subscribe(e)})),gt(()=>()=>{!function(e){var t;null===(t=ve.get(e))||void 0===t||t.forEach(e=>{e()}),ve.delete(e)}(e)})}const tl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e;t??=[e];const[o,r]=Jc(),i=oi(a);function s(){const e=i.current;n?e(r):r(e())}return yt(s,t),el(s,t),o},nl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e();t??=[e];const o=lt(),r=ft(),i=oi(a);function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=i.current;if(n)t(e=>{o.current!==e&&(o.current=e,r())});else{const n=t();o.current!==n&&(o.current=n,e||r())}}return yt(()=>{s(!0)},t),el(s,t),o.current},al=(e,t)=>{const n=lt();return yt(()=>{const a=n.current;return n.current=t,e(a||[])},t)},ol=350;function rl(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:a=!1,noCloseTransition:o=!1,closeDuration:r=ol,className:i="fast",prefix:s="",shouldForceOpen:c,onCloseAnimationEnd:l}=e,d=lt(),u=e.ref||d,m=lt(),[p,f]=dt(),h=oi({closeDuration:r,noMountTransition:n,noOpenTransition:a,noCloseTransition:o}),g=ri(l);al(e=>{let[n]=e;const a=h.current;c?f("open"):t?(m.current&&(clearTimeout(m.current),m.current=void 0),a.noOpenTransition||void 0===n&&a.noMountTransition?f("open"):(f("scheduled-open"),(0,we.YS)(()=>{f("open")}))):void 0===n||a.noCloseTransition?f("closed"):(f("closing"),m.current=window.setTimeout(()=>{f("closed"),g()},a.closeDuration))},[t,c]);const v=ri(()=>{const e=u.current;if(!e)return;!1!==i&&(qc(e,"opacity-transition"),qc(e,i));const t=p(),n="closed"!==t,a="open"===t,o="closing"===t;Yc(e,`${s}shown`,n),Yc(e,`${s}not-shown`,!n),Yc(e,`${s}open`,a),Yc(e,`${s}not-open`,!a),Yc(e,`${s}closing`,o)});yt(()=>{u.onChange=()=>{u.onChange=void 0,v()}},[v,u]),it(v,[v,p]);const y="withShouldRender"in e&&e.withShouldRender,w=nl(()=>y&&"closed"!==p(),[y,p]),b=tl(()=>"closing"===p(),[p]);return y?{ref:u,shouldRender:w,getIsClosing:b}:{ref:u,getIsClosing:b}}function il(e){let{className:t,isActive:n,element:a=document.documentElement}=e;it(()=>{if(n)return qc(a,t),()=>{jc(a,t)}},[t,n,a])}const sl="TUSiLENF",cl=ut(function(e){let{isActive:t,className:n,isDoubled:a}=e;const{shouldRender:o,ref:r}=rl({isOpen:t,withShouldRender:!0});return o?pt.createElement("div",{ref:r,className:qi("esdydUs1",a&&"UJzP4d9r",n)},pt.createElement("span",{className:sl}),pt.createElement("span",{className:sl}),pt.createElement("span",{className:sl})):null}),ll={button:"GpDwnAkE",loadingInit:"tZ9ppkji",clicked:"A1qGzs0x",isSimple:"Cw_ElX3O",isText:"d3A7BZDx",primary:"Pb9B3sBE",secondary:"k1jQrbAk",transparent:"nxcFq7cM",disabled:"zSwp1moR",destructive:"tLZabe0e",sizeSmall:"ORqfj0CU",round:"PJ7EB5_T",loadingStart:"pv1HwapI",loadingDots:"_2QYUoJe"},dl=ut(function(e){let{ref:t,children:n,id:a,className:o,style:r,ariaLabel:i,forFormId:s,kind:c,isSubmit:l,isPrimary:d,isSecondary:u,isSmall:m,isSimple:p,isText:f,isLoading:h,isDisabled:g,isRound:v,isDestructive:y,shouldStopPropagation:w,onClick:b,onMouseDown:E,onContextMenu:k}=e;const[C,N]=at(!1),S=ri(e=>{!g&&b&&(w&&e.stopPropagation(),b()),N(!0),setTimeout(()=>{N(!1)},400)}),A=qi(void 0!==h&&ll.loadingInit,h&&ll.loadingStart);return pt.createElement("button",{id:a,ref:t,type:l||s?"submit":"button",className:qi(ll.button,d&&ll.primary,u&&ll.secondary,m&&ll.sizeSmall,p&&ll.isSimple,f&&ll.isText,(g||h)&&ll.disabled,A,v&&ll.round,y&&ll.destructive,C&&ll.clicked,o,c&&ll[c]),style:r,"aria-label":i,disabled:g||h,form:s,onClick:S,onMouseDown:E,onContextMenu:k},n,pt.createElement(cl,{isActive:h,className:ll.loadingDots}))}),ul=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=lt();return r.current||(r.current=document.createElement("div")),it(()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{Zc(void 0,o),e.removeChild(o)}},[n,a,t]),Zc(o,r.current)},ml={modal:"bei20BXo",inAppLock:"rhy5UM19",error:"ycQPrkNy",dialog:"lCrWZOJa",backdrop:"BRHUYooL",slideUpAnimation:"ciD50Ivv",container:"pI0zvyZ_",forceBottomSheet:"zXbZnJvJ",content:"ikANOLRm",noBackdrop:"JdyYzya2",compact:"OIC6BQI4",header:"LB42p81C",header_wideContent:"_ijqgHQC",headerWideContent:"_ijqgHQC",header_back:"F2CCACcS",headerBack:"F2CCACcS",header_backIcon:"IubryJoO",headerBackIcon:"IubryJoO",menuButton:"nz22xGPo",menuIcon:"NiajLgHY",closeButton:"Oj6lWSUo",closeIcon:"VPuUZtvp",title:"ZDSNp0nr",singleTitle:"Sv8Bhg5M",contentCompact:"ulAHEr0t",text:"FumpDc7T",text_centered:"PRVdJNuh",textCentered:"PRVdJNuh",text_noExtraMargin:"JNEqsMcb",textNoExtraMargin:"JNEqsMcb",buttons:"PWLeFX8Z",footerButtons:"fXtMQ4nZ",footerButtonsVertical:"Ahuc51Ln",footerButtonFullWidth:"KMr7BHAz",buttonsInsideContentWithScroll:"SCBITBKB",buttonsNoExtraSpace:"vyEjC2QK",button:"pvjzjt3q",buttonHalfWidth:"EhlEYVbZ",buttonFullWidth:"zRgM4gqF",shortButton:"QFWfMoly",transition:"ELmioinr",transitionSlide:"OXFBF6TX",transitionContentWrapper:"N1r_Lya9",transitionContent:"W4ZdBtyi",transitionContent_simple:"qGdeWGzL",transitionContentSimple:"qGdeWGzL"},pl=350,fl=r.Ni?200:500,[hl,gl]=ye(Date.now()),vl=new Set,yl=(wl=function(e){let{dialogRef:t,title:n,className:o,dialogClassName:i,titleClassName:s,contentClassName:l,isOpen:d,isTemporarilyClosed:u,isCompact:m,nativeBottomSheetKey:p,forceFullNative:f,forceBottomSheet:h,isInAppLock:g,noResetFullNativeOnBlur:v,noBackdrop:y,noBackdropClose:w,header:b,hasCloseButton:E,children:k,onClose:C,onCloseAnimationEnd:N,onEnter:S}=e;const A=d&&!u,I=ri(()=>{if(!u||!d)return C()}),T=Ki(),B=lt(),x=lt(),_=lt();t||=x;const{isPortrait:L}=xs();!function(e,t){yt(()=>{if(!a.UMQ||r.bA||t)return;const n=Cl();n&&e&&n&&n.hide().then(async()=>{r.KI&&await jr.enable()})},[t,e])}(A,m);const D=(L?fl:pl)+a.xB5,O=!m&&L;lc({isActive:A,onBack:I,shouldIgnoreForTelegram:m}),rt(()=>{if(a.tKX&&A&&!m)return Tr(),Br},[m,A]),Ds(e=>{let[t]=e;r.bA&&m&&(t||A)&&!Us&&jr.toggleSelfFullSize({isFullSize:!!A})},[A,m]),rt(()=>{if(!r.bA&&A)return hl.subscribe(I)},[A,I]),rt(()=>A?rs({onEsc:{handler:I,shouldPreventDefault:a.hL1},...S&&{onEnter:S}}):void 0,[A,I,S]),rt(()=>A&&B.current?us(B.current):void 0,[A]),il({className:"is-modal-open",isActive:!m&&A}),it(()=>A?Ie(D):void 0,[D,A]),rt(()=>{if(p)return A?vl.add(p):vl.delete(p),()=>{vl.delete(p)}},[A,p]);const[M,F]=at(!1);rt(()=>{const e=Cl();if(!A)return F(!1),void requestAnimationFrame(()=>{null==e||e.show()});null==e||e.hide().then(()=>{F(!0)})},[A]);const P=function(e,t,n,a){const o=r.KI&&e,i=n&&t;return Ds(t=>{let[n]=t;if(o)if(i){var r;null===(r=$s)||void 0===r||r();const t=()=>{Mt(),a()};$s=t,Vs=Promise.race([Vs,(0,c.v7)(1e3)]).then(()=>jr.delegate({key:e,globalJson:JSON.stringify(Wt())})).then(()=>{$s===t&&($s(),$s=void 0)}).then(()=>(0,c.v7)(100))}else n&&jr.release({key:e})},[i,o,e,a]),o&&t}(p,L,A&&(!Cl()||M),I);(function(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Ds(o=>{let[i]=o;if(r.bA&&e&&e===Rs)if(t){const t=a.current;jr.openSelf({key:e,height:String(t.offsetHeight),backgroundColor:ms(getComputedStyle(t).backgroundColor)}).then(()=>{Mt(),n()})}else i&&(jr.closeSelf({key:e}),Ns({forceDarkBackground:!1}))},[t,a,e,n]);const s=r.bA&&e&&t,{screenHeight:c}=xs(),[l,d]=at(Fs);Ps.then(d);const u=c-((null==l?void 0:l.top)||0);it(()=>{s&&(a.current.style[o?"maxHeight":"height"]="",a.current.style[o?"height":"maxHeight"]=`${u}px`)},[a,o,s,u]),Ds(e=>{let[t]=e;s&&(Us=o,void 0!==o&&void 0===t||jr.toggleSelfFullSize({isFullSize:o}))},[o,s]),it(()=>{if(!s)return;const e=a.current;let t;function n(n){if(Ws(n.target)){if(t)return clearTimeout(t),void(t=void 0);var a;(a=e).style.opacity="0",setTimeout(()=>{a.style.opacity="1"}),document.documentElement.scrollTop=0,jr.toggleSelfFullSize({isFullSize:!0})}}function r(e){var n;!Ws(e.target)||i||o||(n=e.target)&&n instanceof HTMLElement&&(n.matches(".is-compact-modal")||n.closest(".is-compact-modal"))||(t=window.setTimeout(()=>{t=void 0,jr.toggleSelfFullSize({isFullSize:!1})},50))}return document.addEventListener("focusin",n),document.addEventListener("focusout",r),()=>{document.removeEventListener("focusout",r),document.removeEventListener("focusin",n)}},[a,o,s,i])})(p,A&&(!Cl()||M),I,t,f,v),rt(()=>{if(r.TF&&A&&L&&O&&!r.bA&&!P)return ns(B.current,{excludedClosestSelector:".capture-scroll",onSwipe:(e,t)=>!(t!==Xi.Down||!function(e,t){if(rr>sr.height||cs>0)return!1;const n=Date.now();if(e.current&&n-e.current<500)return!1;e.current=n;const a=null==t?void 0:t.closest(".custom-scroll");return!a||0===a.scrollTop}(_,e.target)||(I(),0))})},[A,L,O,P,I]);const{shouldRender:R}=rl({ref:B,isOpen:A&&!P,onCloseAnimationEnd:N,className:!1,closeDuration:D,withShouldRender:!0});if(!R)return;const U=qi(ml.modal,o,O&&ml.slideUpAnimation,m&&ml.compact,m&&"is-compact-modal",h&&ml.forceBottomSheet,g&&ml.inAppLock),W=qi(ml.backdrop,y&&ml.noBackdrop),H=qi(ml.content,m&&ml.contentCompact,"custom-scroll",l);return pt.createElement(ul,null,pt.createElement("div",{ref:B,className:U,tabIndex:-1,role:"dialog"},pt.createElement("div",{className:ml.container},pt.createElement("div",{className:W,onClick:w?void 0:I}),pt.createElement("div",{className:qi(ml.dialog,i),ref:t},b||(n?pt.createElement("div",{className:qi(ml.header,ml.header_wideContent,!E&&ml.header_noClose)},pt.createElement("div",{className:qi(ml.title,ml.singleTitle,s)},n),E&&pt.createElement(dl,{isRound:!0,className:ml.closeButton,ariaLabel:T("Close"),onClick:I},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0}))):void 0),pt.createElement("div",{className:H},k)))))},function(e){const t=lt(e);return e.isOpen?t.current=e:t.current={...t.current,isOpen:!1},wl(t.current)});var wl;const bl=zt((e,t)=>{let{isInAppLock:n}=t;return{isTemporarilyClosed:!(n||!e.isAppLockActive)}})(yl);let El;const kl=ut(zt(e=>{const{currentBrowserOptions:t,settings:n}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle,theme:n.theme,animationLevel:n.animationLevel}})(function(e){let{title:t,subtitle:n,url:i,theme:s,animationLevel:l}=e;const{closeBrowser:d}=$t(),m=Ki(),{setupDappBridge:p,cleanupDappBridge:f}=function(e){const t=lt(),n=ri(n=>{t.current=u(ai(e),a.hUJ,new ii(n))});return rt(()=>{if(e)return()=>{var e;null===(e=t.current)||void 0===e||e.call(t)}},[e]),{setupDappBridge:n,cleanupDappBridge:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.call(t)}}}(i),h=st(()=>`\n(${Xr})(\n  '${a.HOw}',\n  '${a.hUJ}',\n  'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab,\n  {\n    deviceInfo: ${JSON.stringify(function(){const e=["SendTransaction",{name:"SendTransaction",maxMessages:255}];return e.push({name:"SignData",types:["text","binary","cell"]}),{platform:Qr(),appName:a.C39,appVersion:"4.2.9",maxProtocolVersion:a.gY_,features:e}}())},\n    protocolVersion: ${a.gY_},\n    isWalletBrowser: true,\n  }\n);\n  `,[]),g=ri(e=>{(0,o.SJ)("inAppBrowser error",e)}),v=ri(async()=>{r.KI&&await jr.enable(),El.removeEventListener("loaderror",g),El.removeEventListener("exit",v),El=void 0,d(),f()}),y=ri(async()=>{r.KI&&!(await jr.isShown()).value&&await jr.disable();const e=!t&&i?di(i):t,o=n===e?void 0:n,d=`,${B([r.pz||e?`title=${e||""}`:void 0,r.pz||o?`subtitle=${o||""}`:void 0,i?`shareurl=${encodeURIComponent(i)}`:void 0,`closebuttoncaption=${r.pz?m("Close"):"x"}`,`backbuttoncaption=${m("Back")}`,`reloadcaption=${m("Reload Page")}`,`openinbrowsercaption=${m(r.pz?"Open in Safari":"Open in Browser")}`,`copyurlcaption=${m("CopyURL")}`,`sharecaption=${m("Share")}`,`theme=${s}`,"animated="+(l??a.i11>0?"yes":"no")]).join(",")}`;El=cordova.InAppBrowser.open(i,"_blank",dd+d,h);const u=El.hide;El.hide=()=>new Promise(e=>{null==u||u(),El&&r.ZH?Gr(El,"hidecompletion",()=>e()):e()});const f=El.show;El.show=()=>{vl.size>0||null==f||f()};const y=El.close;El.close=()=>{if(!El)return Promise.resolve();y();const e=new Promise(e=>{Gr(El,"exit",async()=>{await(0,c.fm)(()=>!El,15,20),e()}),setTimeout(e,900)});return El.show=()=>{},El.hide=()=>e,e},p(El),El.addEventListener("loaderror",g),El.addEventListener("exit",v),El.show()});rt(()=>{if(i)return y(),()=>{var e;return null===(e=El)||void 0===e?void 0:e.close()}},[i])}));function Cl(){return El}function Nl(){var e;return Promise.all([null===(e=Cl())||void 0===e?void 0:e.close(),$t().closeAnyModal(),$t().closeMediaViewer()])}function Sl(e,t){return e&&t[e]||e}const[,Al]=a.Xr6.split("*");async function Il(e,t){if(Tl(e)&&(e=`${e}#theme=${Wt().settings.theme}`),null!=t&&t.isExternal||!e.startsWith("http")||!(a.UMQ||Tl(e)||function(e){return a.Jxt.some(t=>e.startsWith(t.replace(/\*$/,"")))}(e))||gi(e)){const t=a.UMQ&&await async function(e){try{return(await qr.openUrl({url:e})).completed}catch(e){return!1}}(e);t||window.open(e,"_blank","noopener")}else await Nl(),$t().openBrowser({url:e,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle})}function Tl(e){const{host:t}=new URL(e);return t.endsWith(Al)||t.startsWith("localhost:432")}function Bl(e){e.preventDefault(),Il(e.currentTarget.href,{isExternal:e.shiftKey||e.ctrlKey||e.metaKey})}let xl;const _l=new Promise(e=>{xl=e}),Ll="ton://",Dl="tc://",Ol="mytonwallet-tc://",Ml="DPSWallet",Fl=["https://walletdps.netlify.app","https://t.me/DPSwallet_bot?startapp"],Pl="https://connect.mytonwallet.org",Rl="https://checkin.mytonwallet.org";var Ul=function(e){return e.Air="air",e.CheckinWithR="r",e.Swap="swap",e.BuyWithCrypto="buy-with-crypto",e.BuyWithCard="buy-with-card",e.Stake="stake",e.Giveaway="giveaway",e.Transfer="transfer",e.Explore="explore",e.Receive="receive",e}(Ul||{});let Wl;async function Hl(e,t){let{isFromInAppBrowser:n,...a}=t;Vl(e)||ql(e)||jl(e)?await $l(e,n):await Il(e,a)}function $l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Wt().currentAccountId||(Wl=e),ql(e)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!ql(e))return!1;const{openLoadingOverlay:n,closeLoadingOverlay:a}=$t();n();const o=await ee("startSseConnection",{url:e,isFromInAppBrowser:t});return"empty"===o||(a(),o&&Il(o,{isExternal:!t})),!0}(e,t):jl(e)?async function(e){try{e=Gl(e);const{pathname:i,searchParams:s}=new URL(e),c=i.split("/").find(Boolean),l=$t(),d=Wt(),{isTestnet:u}=d.settings,m=fn(d);switch((0,o.MD)("Processing deeplink",e),c){case Ul.Air:return!!a.UMQ&&(wd(),!0);case Ul.CheckinWithR:{var t;const e=null===(t=i.match(/r\/(.*)$/))||void 0===t?void 0:t[1];return Il(`${Rl}${e?`?r=${e}`:""}`),!0}case Ul.Giveaway:{var n;const e=null===(n=i.match(/giveaway\/([^/]+)/))||void 0===n?void 0:n[1];return Il(`${a.qsd}${e?`?giveawayId=${e}`:""}`),!0}case Ul.Swap:return u?l.showError({error:"Swap is not supported in Testnet."}):m?l.showError({error:"Swap is not yet supported by Ledger."}):l.startSwap({tokenInSlug:s.get("in")||a.Tu9.slug,tokenOutSlug:s.get("out")||a.rKC,amountIn:Jl(s.get("amount"))||"10"}),!0;case Ul.BuyWithCrypto:return u?l.showError({error:"Swap is not supported in Testnet."}):m?l.showError({error:"Swap is not yet supported by Ledger."}):l.startSwap({tokenInSlug:s.get("in")||a.Czf,tokenOutSlug:s.get("out")||a.Tu9.slug,amountIn:Jl(s.get("amount"))||"100"}),!0;case Ul.BuyWithCard:return u?l.showError({error:"Buying with card is not supported in Testnet."}):l.openOnRampWidgetModal({chain:"ton"}),!0;case Ul.Stake:return u?l.showError({error:"Staking is not supported in Testnet."}):l.startStaking(),!0;case Ul.Transfer:return await zl(Ql(e));case Ul.Explore:{l.closeSettings(),l.openExplore(),l.setActiveContentTab({tab:fo.Explore});const e=i.split("/").filter(Boolean)[1];if(e){var r;const t=null===(r=Wt().exploreData)||void 0===r?void 0:r.sites.find(t=>{let{url:n}=t;return(gi(n)?new URL(n).pathname.split("/").filter(Boolean)[0]:new URL(n).hostname)===e});t&&Il(t.url)}return!0}case Ul.Receive:return Ls()?l.setLandscapeActionsActiveTabIndex({index:po.Receive}):l.openReceiveModal(),!0}}catch(e){(0,o.SJ)("processSelfDeeplink",e)}return!1}(e):zl(e)}function Vl(e){return e.startsWith(Ll)}async function zl(e){await _l;const t=$t(),n=Wt();if(!n.currentAccountId)return!1;if("ton://transfer"===e)return t.startTransfer({isPortrait:_s()}),!0;const a=Kl(e,n);return!!a&&("error"in a?(t.showError({error:a.error}),!0):(t.startTransfer({isPortrait:_s(),...a}),Ls()&&t.setLandscapeActionsActiveTabIndex({index:po.Transfer}),!0))}function Kl(e,t){const n=function(e){if("string"==typeof e&&Vl(e)&&e.includes("/transfer/"))try{const t=e.replace(Ll,"https://"),n=new URL(t),a=n.pathname.replace(/\//g,""),o=td(n,"amount"),r=td(n,"text"),i=td(n,"bin"),s=td(n,"jetton"),c=td(n,"nft"),l=td(n,"init")||td(n,"stateInit"),d=td(n,"exp"),u=new Set(["amount","text","bin","jetton","nft","init","stateInit","exp"]);return{hasUnsupportedParams:Array.from(n.searchParams.keys()).some(e=>!u.has(e)),toAddress:a,amount:o?BigInt(o):void 0,comment:r,jettonAddress:s,nftAddress:c,binPayload:i?ed(i):void 0,stateInit:l?ed(l):void 0,exp:d?Number(d):void 0}}catch(e){return}}(e);if(!n)return;if(n.hasUnsupportedParams)return{error:"$unsupported_deeplink_parameter"};const{toAddress:o,amount:r,comment:i,binPayload:s,jettonAddress:c,nftAddress:l,stateInit:d,exp:u}=n,m={toAddress:Fo(o,"ton")?o:void 0,tokenSlug:a.Tu9.slug,amount:r,comment:i,binPayload:s,stateInit:d};if(i&&s&&(m.error="$transfer_text_and_bin_exclusive"),c){const e=c?function(e,t){return Object.values(e.tokenInfo.bySlug).find(e=>e.tokenAddress===t)}(t,c):void 0;if(e){const n=function(e,t){const n=jn(e);return null==n?void 0:n.find(e=>e.slug===t)}(t,e.slug);n?m.tokenSlug=e.slug:m.error="$dont_have_required_token"}else m.error="$unknown_token_address"}if(l){const e=function(e,t){return kn(e,e.currentAccountId,t)}(t,l);e?m.nfts=[e]:m.error="$dont_have_required_nft"}return u&&Math.floor(Date.now()/1e3)>u&&(m.error="$transfer_link_expired"),p=m,Object.keys(p).reduce((e,t)=>{const n=t;return void 0!==p[n]&&(e[n]=p[n]),e},{});var p}function ql(e){return e.startsWith(Dl)||e.startsWith(Ol)||Xl(e).startsWith(Xl(Pl))}function jl(e){return(e=Zl(e)).startsWith(Ml)||Fl.some(t=>e.startsWith(t))}function Yl(e,t){let n=e;if(jl(e))try{e=Gl(e);const{pathname:t}=new URL(e);t.split("/").find(Boolean)===Ul.Transfer&&(n=Ql(e))}catch(e){(0,o.SJ)("parseDeeplinkTransferParams",e)}return Kl(n,t)}function Gl(e){return e.startsWith(Ml)?e.replace(Ml,`${Fl[0]}/`):e}function Ql(e){e=Zl(e);for(const t of Fl)if(e.startsWith(t))return e.replace(`${t}/`,Ll);return e}function Xl(e){return e.replace(/^https?:\/\//,"")}function Zl(e){return e.replace(/^http:\/\//,"https://")}function Jl(e){return String(Number(e)||"")}function ed(e){return e.replace(/ /g,"+")}function td(e,t){return e.searchParams.get(t)??void 0}const nd=(0,t.F3)("PushNotifications",{});function ad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a={};let o=0;for(const i of t){var r;if(o>=n)break;const t=cn(e,i),s=null==t||null===(r=t.byChain.ton)||void 0===r?void 0:r.address;s&&(a[i]={title:t.title,address:s,chain:"ton"},o+=1)}return a}const od=1e3;let rd;function id(){return rd}let sd=0;function cd(e){const{showAnyAccountTx:t,showAnyAccountTokenActivity:n,openAnyAccountStakingInfo:a,switchAccountAndOpenUrl:o,openDomainRenewalModal:r}=$t(),i=Wt(),s=e.notification.data,{action:c,address:l}=s,d=void 0===l?void 0:function(e,t,n){const a=nn(e);if(!a)return;const o=Object.entries(a).find(e=>{var t;let[,a]=e;return(null===(t=a.byChain.ton)||void 0===t?void 0:t.address)===n});return null==o?void 0:o[0]}(i,0,l),u="mainnet";if("openUrl"!==c){if(d)if("nativeTx"===c||"swap"===c){const{txId:e}=s;t({accountId:d,txId:e,network:u})}else if("jettonTx"===c){const{slug:e}=s;n({accountId:d,slug:e,network:u})}else if("staking"===c){const{stakingId:e}=s;a({accountId:d,network:u,stakingId:e})}else if("expiringDns"===c){const{domainAddress:e}=s;r({accountId:d,network:u,addresses:[e]})}}else o({accountId:d,network:u,...N(s,["url","isExternal","title","subtitle"])})}function ld(e){const t=e.value;$t().registerNotifications({userToken:t,platform:id()}),window.addEventListener("focus",async()=>{const e=Wt(),n=Object.keys(e.pushNotifications.enabledAccounts||[]);n.length&&sd<=Date.now()&&(await ee("subscribeNotifications",{userToken:t,platform:id(),addresses:Object.values(ad(e,n))}),sd=Date.now()+36e5)},{capture:!0})}const dd=["location="+(r.pz?"no":"yes"),"lefttoright="+(r.pz?"no":"yes"),"usewkwebview=yes","clearcache=no","clearsessioncache=no","hidden=yes","toolbarposition=top","hidenavigationbuttons=yes","hideurlbar=no","backbuttoncaption=Back","allowInlineMediaPlayback=yes"].join(",");let ud=!1,md=!1,pd=!1,fd=0,hd=0,gd=0;function vd(e){for(const[t,n]of Object.entries(e.insets))document.documentElement.style.setProperty(`--safe-area-${t}`,`${"android"===id()&&"top"===t?n+8:n}px`)}function yd(){return hd}function wd(){ee("destroy"),n.switchToAir()}function bd(){return a.UMQ&&ud||a.tKX&&yr}function Ed(){return a.UMQ&&md||a.tKX&&wr}function kd(){return a.UMQ&&pd||a.tKX&&br}function Cd(){return a.UMQ||(0,r.v3)()}class Nd extends t.E_{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),n=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([n])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],n=await e[0].getType(t);return{value:await this._getBlobData(n,t),type:t}}catch(e){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise((n,a)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;n(e)},o.onerror=e=>{a(e)}})}}const Sd=(0,t.F3)("Clipboard",{web:()=>new Nd});var Ad=i(23693);const Id=(0,t.F3)("Haptics",{web:()=>i.e(789).then(i.bind(i,83789)).then(e=>new e.HapticsWeb)});async function Td(){var e;a.tKX?null===(e=Cr())||void 0===e||e.HapticFeedback.impactOccurred("soft"):a.UMQ&&await Id.impact({style:Ad.k.Light})}async function Bd(){var e;a.tKX?null===(e=Cr())||void 0===e||e.HapticFeedback.notificationOccurred("error"):a.UMQ&&(await Id.impact({style:Ad.k.Medium}),await(0,c.v7)(100),await Id.impact({style:Ad.k.Medium}),await(0,c.v7)(75),await Id.impact({style:Ad.k.Light}))}async function xd(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;(a.UMQ||a.tKX)&&(a.tKX?null===(t=Cr())||void 0===t||t.HapticFeedback.notificationOccurred("success"):await Id.impact({style:Ad.k.Light}),e&&await(0,c.v7)(1300))}const _d=document.createElement("textarea");_d.setAttribute("readonly",""),_d.tabIndex=-1,_d.className="visually-hidden";const Ld=e=>(Td(),a.UMQ?Sd.write({string:e}):navigator.clipboard.writeText(e));async function Dd(){if(a.tKX)return new Promise(e=>{var t;null===(t=Cr())||void 0===t||t.readTextFromClipboard(t=>{Td(),e({text:t,type:"text/plain"})})});if(a.UMQ){const{value:e,type:t}=await Sd.read();return Td(),{text:e,type:t}}return{text:await navigator.clipboard.readText(),type:"text/plain"}}function Od(e){return 1===e.length&&e[0].length===a.PcM}const Md=Symbol("EQUAL"),Fd={__delete:!0},Pd={__deleteAllChildren:!0};function Rd(e,t){if(e===t)return Md;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(a=t,(n=e).length===a.length&&n.every((e,t)=>Rd(e,a[t])===Md)))return Md;var n,a;if(!L(e)||!L(t))return t;const o=e,r=t,i=Object.keys(o),s=Object.keys(r);if(!s.length)return i.length?Pd:Md;const c=T(i.concat(s)).reduce((e,t)=>{const n=o[t],a=r[t];if(!r.hasOwnProperty(t))return e[t]=Fd,e;if(!o.hasOwnProperty(t))return e[t]=a,e;const i=Rd(n,a);return i!==Md&&(e[t]=i),e},{});return 0===Object.keys(c).length?Md:c}function Ud(e,t){return e===t?t:L(t)?L(e)?t.__deleteAllChildren?{}:T(Object.keys(e).concat(Object.keys(t))).reduce((n,a)=>{const o=e[a];if(t.hasOwnProperty(a)){const e=t[a];null!=e&&e.__delete||(n[a]=Ud(o,e))}else n[a]=o;return n},{}):Wd(t):t}function Wd(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce((e,t)=>{let[n,a]=t;return null!=a&&a.__delete||(e[n]=L(a)?Wd(a):a),e},{})}const[Hd,$d]=ye(!document.hasFocus()),Vd=Hd;function zd(){$d(!0)}function Kd(){$d(!1)}function qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ri(e),o=ri(t);rt(()=>{if(!n)return Vd()&&a(),Vd.subscribe(()=>{Vd()?a():o()})},[n,a,o])}function jd(){return Vd()}a.tKX?Nr().then(e=>{e.onEvent("activated",Kd),e.onEvent("deactivated",zd),$d(!(null!=e&&e.isActive))}):(window.addEventListener("blur",zd),window.addEventListener("focus",Kd));const Yd=r.bs?new BroadcastChannel(a.eoU):void 0;let Gd=Wt(),Qd=0;function Xd(){let{noPubGlobal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Yd&&(e||Pt(Zd),Yd.addEventListener("message",eu))}function Zd(e){if(e===Gd)return;if(jd()||!1===Gd.isInited)return void(Gd=e);const t=Rd(Jd(Gd),Jd(e));"symbol"!=typeof t&&Yd.postMessage({type:"globalDiffUpdate",diff:t}),Gd=e}function Jd(e){return A(e,["DEBUG_randomId"])}async function eu(e){let{data:t}=e;switch(t.type){case"globalDiffUpdate":if(r.bA)return;Gd=Ud(Wt(),t.diff),Ht(Gd);break;case"callAction":{const{recipient:e,name:n,options:a}=t;if(!tu(e))return;$t()[n](a);break}case"callApiRequest":{const{recipient:e,messageId:n,name:a,args:o}=t;if(!tu(e))return;const[r]=await Promise.allSettled([ee(a,...o)]);Yd.postMessage({type:"callApiResponse",messageId:n,result:r});break}case"getLogsFromNative":if(!r.bA)return;Yd.postMessage({type:"logsFromNative",logs:(0,o.ao)()})}}function tu(e){return r.KI&&"main"===e||r.bA&&"native"===e}function nu(e,t){Yd.postMessage({type:"callAction",recipient:"main",name:e,options:t})}function au(e,t){Yd.postMessage({type:"callAction",recipient:"native",name:e,options:t})}function ou(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!r.bA)return ee(e,...n);const o=++Qd;return new Promise((t,a)=>{const r=e=>{let{data:n}=e;"callApiResponse"===n.type&&n.messageId===o&&(Yd.removeEventListener("message",r),"fulfilled"===n.result.status?t(n.result.value):a(n.result.reason))};Yd.addEventListener("message",r),Yd.postMessage({type:"callApiRequest",recipient:"main",messageId:o,name:e,args:n})})}const ru={appState:Ya.Auth,auth:{state:Ga.none},biometrics:{state:Qa.None},hardware:{hardwareState:so.Connect,chain:"ton"},currentTransfer:{state:Xa.None,tokenSlug:a.ScF},currentDomainRenewal:{state:eo.None},currentDomainLinking:{state:to.None},currentSwap:{state:no.None,slippage:a.k9U},currentDappTransfer:{state:Xa.None},currentDappSignData:{state:Ja.None},currentStaking:{state:co.None},stakingDefault:a.USn,tokenInfo:{bySlug:a.lfO},swapTokenInfo:{bySlug:a.tCm},swapVersion:a.AuB,tokenPriceHistory:{bySlug:{}},settings:{state:uo.Initial,theme:a.YnH,animationLevel:a.i11,areTinyTransfersHidden:!a.K_I,canPlaySounds:!0,langCode:r.$q,byAccountId:{},areTokensWithNoCostHidden:!a.K_I,isSortByValueEnabled:!0,isAppLockEnabled:!0,autolockValue:a.fPM,baseCurrency:a.wOb},byAccountId:{},dialogs:[],notifications:[],stateVersion:47,restrictions:{isLimitedRegion:!1,isSwapDisabled:r.ZH||a.TI6,isOnRampDisabled:r.ZH||a.TI6,isNftBuyingDisabled:r.ZH},mediaViewer:{},pushNotifications:{enabledAccounts:{}},currencyRates:a.Dj5};function iu(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every((e,t)=>iu(e,a[t]))}const o=e,r=t,i=Object.keys(o),s=Object.keys(r);return!!i.every(e=>r.hasOwnProperty(e))&&!!s.every(e=>o.hasOwnProperty(e))&&i.every(e=>iu(o[e],r[e]))}function su(e,t){return iu(N(e,Object.keys(t)),t)}function cu(e,t){return{...e,auth:{...e.auth,...t}}}function lu(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function du(e){return{...e,isPinAccepted:!0}}function uu(e){return e.isPinAccepted?{...e,isPinAccepted:void 0}:e}function mu(e){var t;let{global:n,accountId:o,type:r,byChain:i,partial:s,titlePostfix:c,network:l,isMnemonicImported:d}=e;const u={...s,type:r,byChain:i};let m=!0;if(u.title){if(c){var p;const e=null===(p=u.title)||void 0===p?void 0:p.replace(new RegExp(`\\b(${a.eZ2.join("|")})\\b`,"g"),"");u.title=`${e.trim()} ${c}`}}else{l=l||rn(n);const e=on(n)||{},t=Object.keys(e).length,o="mainnet"===l,i=Object.values(e).filter(e=>"view"===e.type).length,s="view"===r?"View Wallet":o?"Wallet":"Testnet Wallet",d=c?` ${c}`:"",p="view"===r?i+1:t-i+1;u.title=`${s} ${p}${d}`,0===t&&(u.title=o?a.C39:`Testnet ${a.C39}`,m=!1)}if(a.TI6||(n={...n,shouldForceAccountEdit:m}),cn(n,o))throw new Error(`Account ${o} already exists`);return{...n,accounts:{...n.accounts,byId:{...null===(t=n.accounts)||void 0===t?void 0:t.byId,[o]:u}}}}function pu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{firstNetworkAccount:n,secondNetworkAccount:a}=e.auth;return e=mu({global:e,type:"mnemonic",...n,isMnemonicImported:t}),a&&(e=mu({global:e,type:"mnemonic",...a,isMnemonicImported:t})),e}function fu(e,t){return hu(e,e.currentAccountId,t)}function hu(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Eu(e,t))return e;const o=un(e,t);return a&&o&&su(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function gu(e,t){return{...e,settings:{...e.settings,...t}}}function vu(e,t,n){return Eu(e,t)?{...e,settings:{...e.settings,byAccountId:{...e.settings.byAccountId,[t]:{...e.settings.byAccountId[t],...n}}}}:e}function yu(e,t){return vu(e,e.currentAccountId,t)}function wu(e,t){return{...e,biometrics:{...e.biometrics,...t}}}function bu(e,t){if(!t)throw Error("Empty accountId!");return{...e,currentAccountId:t}}function Eu(e,t){return!!ln(e,t)}function ku(e){return!e.currentSwap.isEstimating&&(e.currentSwap.state===no.Blockchain||e.currentSwap.state===no.Password)}function Cu(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===ao.In?"amountIn":"amountOut";return n.tokenInSlug===a.tokenInSlug&&n.tokenOutSlug===a.tokenOutSlug&&n.slippage===a.slippage&&n.inputSource===a.inputSource&&n.isMaxAmount===a.isMaxAmount&&(a.isMaxAmount||n[o]===a[o])}function Nu(e){let{currentSwap:t}=e;const n=t.inputSource===ao.In?"amountIn":"amountOut";return t.tokenInSlug&&t.tokenOutSlug&&Number(t[n]??"0")>0}function Su(e){return{...e.currentSwap.inputSource===ao.In?{amountOut:void 0}:{amountIn:void 0},amountOutMin:"0",priceImpact:0,errorType:void 0,limits:void 0,dieselStatus:void 0,estimates:void 0,bestRateDexLabel:void 0,networkFee:void 0,realNetworkFee:void 0,swapFee:void 0,swapFeePercent:void 0,ourFee:void 0,ourFeePercent:void 0,dieselFee:void 0}}function Au(e,t){return{...e,currentSwap:{...e.currentSwap,...t}}}function Iu(e,t,n){let a=Au(e,t);var o,r;return n||(o=e,Nu(r=a)&&o.currentSwap.tokenInSlug===r.currentSwap.tokenInSlug&&o.currentSwap.tokenOutSlug===r.currentSwap.tokenOutSlug||(a=Au(a,Su(a))),function(e,t){return Nu(t)&&!Cu(e,t)}(e,a)&&(a=Au(a,{isEstimating:!0}))),function(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===ao.In?"amountIn":"amountOut";return n.tokenInSlug!==a.tokenInSlug||n.tokenOutSlug!==a.tokenOutSlug||n.inputSource!==a.inputSource||!(n.isMaxAmount&&a.isMaxAmount||n[o]===a[o])}(e,a)&&(a=Au(a,{isDexLabelChanged:void 0})),Au(a,t)}function Tu(e){return{...e,currentSwap:{state:no.None,slippage:a.k9U}}}function Bu(e,t){return Lu(e,xu(e,{toAddressName:t.addressName,...N(t,["fee","realFee","isScam","isMemoRequired","diesel"])}))}function xu(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function _u(e){return{...e,currentTransfer:ru.currentTransfer}}function Lu(e,t){const n=Po(e);return n&&e.currentTransfer.amount===n?xu(t,{amount:Po(t)}):t}function Du(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function Ou(e,t){return(e=xu(e,{toAddress:t})).currentTransfer.amount||(e=xu(e,{tokenSlug:Ro(e)})),e}function Mu(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function Fu(e,t){return{...e,currentStaking:{...e.currentStaking,...t}}}function Pu(e,t,n){var a;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=null===(a=un(e,t))||void 0===a?void 0:a.staking;return o&&r&&su(r,n)?e:hu(e,t,{staking:{...r,...n}})}function Ru(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function Uu(e){return{...e,dappConnectRequest:void 0}}function Wu(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function Hu(e){return{...e,currentDappTransfer:{state:Xa.None}}}function $u(e,t){return{...e,currentDappSignData:{...e.currentDappSignData,...t}}}function Vu(e){return{...e,currentDappSignData:{state:Ja.None}}}function zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(Ra(e)?1:0)-(Ra(t)?1:0);return 0===a&&(a=e.timestamp-t.timestamp,0===a&&(a=e.id>t.id?1:e.id<t.id?-1:0)),n?a:-a}function Ku(e,t){return function(e){const t=[...new Map(e.map(e=>[e.id,e])).values()];return t}(e).sort((e,n)=>zu(e,n,t))}function qu(e,t,n){return T(t).sort((t,a)=>zu(e[t],e[a],n))}function ju(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e=0;e<t.length;e++)Gu(t[e])||((0,o.SJ)(`Activity list ${e} is unsorted or has duplicates`,{stack:(new Error).stack}),t[e]=Ku(t[e]));return P(t,(e,t)=>zu(e,t),!0)}function Yu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(let t=0;t<n.length;t++)Qu(e,n[t])||((0,o.SJ)(`Activity id list ${t} is unsorted or has duplicates`,{stack:(new Error).stack}),n[t]=qu(e,n[t]));return P(n,(t,n)=>zu(e[t],e[n]),!0)}function Gu(e,t){for(let n=1;n<e.length;n++)if(zu(e[n-1],e[n],t)>=0)return!1;return!0}function Qu(e,t,n){for(let a=1;a<t.length;a++)if(zu(e[t[a-1]],e[t[a]],n)>=0)return!1;return!0}function Xu(e,t,n,a){if(0===n.length)return e;const{activities:o}=un(e,t)||{};let{byId:r,idsBySlug:i,idsMain:s,newestActivitiesBySlug:c,localActivityIds:l,pendingActivityIds:d}=o||{};r={...r,...k(n,"id")},s=Yu(r,s??[],O(n,"id"));const u=function(e){return e.reduce((e,t)=>{for(const n of Ba(t))e[n]??=[],e[n].push(t.id);return e},{})}(n);var m;return i=tm(i,u,r),c=em({byId:r,idsBySlug:i,newestActivitiesBySlug:c},Object.keys(u)),l=T([...l??[],...O(n,"id").filter(Ia)]),a&&(d={...d,[a]:T([...(null===(m=d)||void 0===m?void 0:m[a])??[],...O(n.filter(e=>Ra(e)&&!Ia(e.id)),"id")])}),hu(e,t,{activities:{...o,idsMain:s,byId:r,idsBySlug:i,newestActivitiesBySlug:c,localActivityIds:l,pendingActivityIds:d}})}function Zu(e,t,n,a,o){const{activities:r}=un(e,t)||{};let{byId:i,idsBySlug:s,idsMain:c,newestActivitiesBySlug:l,isMainHistoryEndReached:d,isHistoryEndReachedBySlug:u}=r||{};return i={...i,...k(a,"id")},n?(s=tm(s,{[n]:O(a,"id")},i),l=em({byId:i,idsBySlug:s,newestActivitiesBySlug:l},[n]),o&&(u={...u,[n]:!0})):(c=Yu(i,c??[],O(a,"id")),o&&(d=!0)),hu(e,t,{activities:{...r,idsMain:c,byId:i,idsBySlug:s,newestActivitiesBySlug:l,isMainHistoryEndReached:d,isHistoryEndReachedBySlug:u}})}function Ju(e,t,n){var a,o;const{activities:r}=un(e,t)||{};if(!r)return e;const i=new Set(n);if(0===i.size)return e;let{byId:s,idsBySlug:c,idsMain:l,newestActivitiesBySlug:d,localActivityIds:u,pendingActivityIds:m}=r;const p=function(e,t){const n=new Set;for(const a of e){const e=t[a];if(e)for(const t of Ba(e))n.add(t)}return n}(i,s);c={...c};for(const e of p)e in c&&(c[e]=c[e].filter(e=>!i.has(e)),c[e].length||delete c[e]);d=em({byId:s,idsBySlug:c,newestActivitiesBySlug:d},p),l=null===(a=l)||void 0===a?void 0:a.filter(e=>!i.has(e)),s={...s};for(const e of i)delete s[e];return u=null===(o=u)||void 0===o?void 0:o.filter(e=>!i.has(e)),m=m&&C(m,e=>e.filter(e=>!i.has(e))),hu(e,t,{activities:{...r,byId:s,idsBySlug:c,idsMain:l,newestActivitiesBySlug:d,localActivityIds:u,pendingActivityIds:m}})}function em(e,t){let{byId:n,idsBySlug:a,newestActivitiesBySlug:o}=e;o={...o};for(const e of t){const t=((null==a?void 0:a[e])??[]).find(e=>xa(n[e]));t?o[e]=n[t]:delete o[e]}return o}function tm(e,t,n){return{...e,...C(t,(t,a)=>Yu(n,t,(null==e?void 0:e[a])??[]))}}function nm(e,t,n,a){const o=n.address,r=un(e,t).nfts,i=((null==r?void 0:r.orderedAddresses)??[]).filter(e=>e!==o);return hu(e,t,{nfts:{...r,byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:a?i.concat(o):[o,...i]}})}function am(e,t,n,a){var o;const r=un(e,t).nfts,i=null==r||null===(o=r.byAddress)||void 0===o?void 0:o[n];return r&&i?hu(e,t,{nfts:{...r,byAddress:{...r.byAddress,[n]:{...i,...a}}}}):e}function om(e,t){return Object.entries(e.settings.byAccountId).forEach(n=>{var a;let[o,r]=n;(null===(a=r.cardBackgroundNft)||void 0===a?void 0:a.address)===t.address&&(e=vu(e,o,{...r,cardBackgroundNft:t}))}),e}function rm(e,t,n){var a;return hu(e,t,{vesting:{...(null===(a=un(e,t))||void 0===a?void 0:a.vesting)||{info:[]},...n}})}function im(e,t){return{...e,currentMintCard:{...e.currentMintCard,...t}}}function sm(e,t){return{...e,currentDomainRenewal:{...e.currentDomainRenewal,...t}}}function cm(e,t){return{...e,currentDomainLinking:{...e.currentDomainLinking,...t}}}function lm(e,t){return{...e,hardware:{...e.hardware,...t}}}function dm(e,t){return{...e,hardware:{...ru.hardware,chain:t,shouldLoadWallets:arguments.length>2&&void 0!==arguments[2]&&arguments[2]||void 0}}}async function um(e,t,n){if(t===e.currentAccountId)return;const a=$t(),o=za(e,t);await ee("activateAccount",t,o),e=Wt(),Ht(function(e,t){let n=bu(e,t);return n=_u(n),Tu(n)}(e,t)),ia(),oa(e=Wt()),n&&a.changeNetwork({network:n})}function mm(e){return Array(e).fill(0).map((e,t)=>({i:t,rnd:Math.random()})).sort((e,t)=>e.rnd-t.rnd).map(e=>e.i).slice(0,Math.min(a.ow1,e)).sort((e,t)=>e-t)}function pm(){const e=_(Wt());return e.tokenInfo={},e.swapTokenInfo={},Object.entries(e.byAccountId).forEach(e=>{let[,t]=e;t.activities={}}),e}function fm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo.Unexpected;switch(e){case Zo.InvalidAmount:return"Invalid amount";case Xo.InvalidAddress:case Zo.InvalidToAddress:return"Invalid address";case Zo.InvalidStateInit:return"$state_init_invalid";case Zo.InsufficientBalance:return"Insufficient balance";case Xo.DomainNotResolved:case Zo.DomainNotResolved:return"Domain is not connected to a wallet";case Zo.WalletNotInitialized:return"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions.";case Zo.InvalidAddressFormat:return"Invalid address format. Only URL Safe Base64 format is allowed.";case Jo.PartialTransactionFailure:return"Not all transactions were sent successfully";case Jo.IncorrectDeviceTime:return"The time on your device is incorrect, sync it and try again";case Jo.UnsuccesfulTransfer:return"Transfer was unsuccessful. Try again later.";case Jo.ConcurrentTransaction:return"Another transaction was sent from this wallet simultaneously. Please try again.";case Zo.InactiveContract:return"$transfer_inactive_contract_error";case er.HardwareOutdated:return"$ledger_outdated";case er.BlindSigningNotEnabled:return"$hardware_blind_sign_not_enabled";case er.RejectedByUser:return"Canceled by the user";case er.ProofTooLarge:return"The proof for signing provided by the Dapp is too large";case er.ConnectionBroken:return"$ledger_connection_broken";case er.WrongDevice:return"$ledger_wrong_device";case Qo.ServerError:return window.navigator.onLine?"An error on the server side. Please try again.":"No internet connection. Please check your connection and try again.";case Qo.DebugError:return"Unexpected error. Please let the support know.";case Qo.Unexpected:return"Unexpected";case Qo.InvalidPassword:return"Wrong password, please try again.";default:return e}}async function hm(e,t,n){let a=Wt();const o=fn(a);if(!o){const e=await ee("verifyPassword",n??"");if(a=Wt(),!e)return Ht(t(a,{error:fm(Qo.InvalidPassword)})),!1;Cd()&&(a=du(a)),xd()}return Ht(t(a,{isLoading:!0,error:void 0,...o&&{state:e}})),!0}function gm(e,t){let n=Wt();return n=t(n,{isLoading:void 0}),n=uu(n),Ht(n),vm(e)?(ym(e,t),!1):(xd(),!0)}function vm(e){return void 0===e||!!e&&"object"==typeof e&&"error"in e}function ym(e,t){Bd();const n=null==e?void 0:e.error;let a=Wt();a=t(a,{isLoading:void 0}),function(e){const t=e;return t===Qo.InvalidPassword||t===er.HardwareOutdated||t===er.BlindSigningNotEnabled||t===er.RejectedByUser}(n)?(a=t(a,{error:fm(n)}),Ht(a)):(Ht(a),$t().showError({error:n}))}async function wm(e,t,n,a,o){let r=Wt();const i=fn(r,e);if(!i){const e=!a||await ee("verifyPassword",o??"");if(r=Wt(),!e)return Ht(n(r,{error:fm(Qo.InvalidPassword)})),!1;Cd()&&(r=du(r))}return Ht(n(r,{isLoading:!0,error:void 0,...i&&{state:t}})),!0}function bm(e,t){return vm(e)?(ym(e,t),!1):(xd(),!0)}function Em(e,t){return{...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,...t}}}}async function km(e,t){const n=await Promise.all([i.e(235),i.e(576)]).then(i.bind(i,87576));if(!await n.connectLedger())return!1;const a=await ee("waitForLedgerApp",e);return vm(a)?(null==a?void 0:a.error)!==er.ConnectionBroken||t?((0,o.SJ)("wallet / connectLedger",null==a?void 0:a.error),!1):km(e,!0):a}function Cm(e){return{gas:_n[e]+a.dqR,real:Ln[e]}}function Nm(e){switch(e){case"nominators":return{stake:Cm("stakeNominators"),unstake:Cm("unstakeNominators")};case"liquid":return{stake:Cm("stakeLiquid"),unstake:Cm("unstakeLiquid")};case"jetton":return{stake:Cm("stakeJettons"),unstake:Cm("unstakeJettons"),claim:Cm("claimJettons")};case"ethena":return{stake:Cm("stakeEthena"),unstake:Cm("unstakeEthena"),claim:Cm("unstakeEthenaLocked")}}return{stake:{gas:0n,real:0n},unstake:{gas:0n,real:0n},claim:{gas:0n,real:0n}}}function Sm(e){switch(null==e?void 0:e.type){case"nominators":case"liquid":return e.end;case"ethena":return e.unlockTime;default:return}}function Am(e){return"ethena"===e?"How does it work?":"Why this is safe"}function Im(e){return e.unstakeRequestAmount?"ethena"===e.type&&e.unlockTime&&e.unlockTime<=Date.now()?"readyToClaim":"unstakeRequested":Tm(e)?"active":"inactive"}function Tm(e){return Boolean(e.balance||e.unstakeRequestAmount||"unclaimedRewards"in e&&e.unclaimedRewards>a.dL4)}function Bm(e,t){switch(e.type){case"nominators":case"ethena":return!0;case"liquid":return void 0!==t&&t>e.instantAvailable;case"jetton":return!1}}function xm(e){switch(e.type){case"jetton":return e.balance+e.unclaimedRewards;case"ethena":return e.balance+e.unstakeRequestAmount}return e.balance}function _m(e){var t,n;return(null===(t=e.sseOptions)||void 0===t?void 0:t.appClientId)??(null===(n=e.sse)||void 0===n?void 0:n.appClientId)??"jsbridge"}function Lm(e,t){let n=Wt();const{promiseId:a}=e(n)??{};a&&ou("cancelDappRequest",a,"Canceled by the user"),Cd()&&(n=uu(n)),n=t(n),Ht(n)}async function Dm(e,t,n,o,i,s){let l=Wt();const{accountId:d}=e,{promiseId:u}=t(l);if(await um(l,d),u&&!r.bA){n();const e=_s()?fl:pl;await(0,c.v7)(e+a.xB5)}r.bA&&!await(0,c.fm)(()=>o(Wt()),300,5)||(l=Wt(),l=i(l),l=s(l),Ht(l))}function Om(e,t){return"connect"===t&&!!e.dappConnectRequest||"sendTransaction"===t&&e.currentDappTransfer.state!==Xa.None||"signData"===t&&e.currentDappSignData.state!==Ja.None}function Mm(e){return Pm(e)?function(e){const t=Rm(e),n={isGasless:!0,excessFee:Um(e),shouldShowOurFee:Hm(e)};if(void 0===e.networkFee||void 0===e.dieselFee||void 0===t)return n;const a="0"===n.excessFee,o="stars-fee"===e.dieselStatus?"stars":"token",r={[o]:e.dieselFee,native:t.toString()};if(n.fullFee={precision:a?"exact":"lessThan",terms:Wm(r,e.ourFee??"0",!1),networkTerms:r},n.realFee=n.fullFee,void 0!==e.realNetworkFee){const r=(0,$n.z)(e.networkFee).sub(t),c=(0,$n.z)(e.dieselFee).div(r).mul(e.realNetworkFee),l=(i=e.dieselFee,s=c,(0,$n.z)(i).lt(s)?i:s),d=function(e,t){return(0,$n.z)(0).gt(t)?0:t}(0,(0,$n.z)(e.realNetworkFee).sub(r)),u={[o]:l.toString(),native:d.toString()};n.realFee={precision:a?"exact":"approximate",terms:Wm(u,e.ourFee??"0",!1),networkTerms:u}}var i,s;return n}(e):function(e){const t={isGasless:!1,excessFee:Um(e),shouldShowOurFee:Hm(e)},n=ha(e.tokenInSlug),a="0"===t.excessFee;if(void 0!==e.networkFee){const o={native:e.networkFee};t.fullFee={precision:a?"exact":"lessThan",terms:Wm(o,e.ourFee??"0",n),networkTerms:o},t.realFee=t.fullFee}if(void 0!==e.realNetworkFee){const o={native:e.realNetworkFee};t.realFee={precision:a?"exact":"approximate",terms:Wm(o,e.ourFee??"0",n),networkTerms:o}}return t}(e)}function Fm(e){let{swapType:t,tokenInBalance:n,tokenIn:o,fullNetworkFee:r,ourFeePercent:i}=e;if(t===ro.CrosschainToWallet||void 0===n)return;let s=n;if(r){if(!o)return;s-=(0,zn.UH)(r.token??"0",o.decimals),ha(o.slug)&&(s-=(0,zn.UH)(r.native??"0",o.decimals))}return i??=t===ro.OnChain?a.YDh:0,s=(0,Ao.fC)(s,1+i/100),(0,Ao._O)(s,0n)}function Pm(e){const t=ha(e.tokenInSlug),n=Rm(e),a=void 0!==e.networkFee&&void 0!==n&&n.lt(e.networkFee);return e.swapType===ro.OnChain&&a&&!t&&Boolean(e.dieselStatus)&&"not-available"!==e.dieselStatus}function Rm(e){if(!e.tokenInSlug||void 0===e.nativeTokenInBalance)return;const t=ya(wa(e.tokenInSlug));return t?(0,zn.CF)(e.nativeTokenInBalance,t.decimals):void 0}function Um(e){let{networkFee:t,realNetworkFee:n}=e;return void 0!==t&&void 0!==n?(0,$n.z)(t).sub(n).toString():void 0}function Wm(e,t,n){return{...e,native:n?(0,$n.z)(e.native??"0").add(t).toString():e.native,token:n?e.token:(0,$n.z)(e.token??"0").add(t).toString()}}function Hm(e){return e.swapType===ro.OnChain}function $m(e,t){return!!La(e)||!(!t||e.nft||e.type)&&(0,zn.CF)(e.amount,t.decimals).abs().mul(t.priceUsd??0).lt(a.Wvq)}function Vm(e){return e.slug===a.Tu9.slug?e.symbol:e.tokenAddress??e.slug}function zm(e,t){return e[t]??Object.values(e).find(e=>{let{tokenAddress:n}=e;return n===t})}function Km(e){var t;let{from:n,to:a,toAddress:o,accountChains:r}=e;const i=Boolean(null==r?void 0:r.tron);return"ton"===(null==n?void 0:n.chain)&&"ton"===(null==a?void 0:a.chain)||i&&n&&a&&r&&ua(n.chain)&&(null===(t=r[a.chain])||void 0===t?void 0:t.address)===o}Vt("resetAuth",e=>{e.currentAccountId&&(e=gu(e={...e,appState:Ya.Main},{isTestnet:"testnet"===jt(e.currentAccountId).network})),e={...e,auth:_(ru.auth)},Ht(e)}),Vt("startCreatingWallet",async(e,t)=>{const n=Xt(nn(e)??{}),o=bn(e),i=o?Ga.safetyRules:n?Ga.createWallet:Cd()?Ga.createPin:r.uh?Ga.createBiometrics:Ga.createPassword;if(e=Wt(),o&&!e.auth.password)return void Ht(cu(e,{state:Ga.checkPassword,error:void 0}));const s=[ee("generateMnemonic",a.iAh&&!e.auth.forceAddingTonOnlyAccount),...o?[]:[(0,c.v7)(3300)]];Ht(cu(e,{state:i,method:"createAccount",error:void 0}));const[l]=await Promise.all(s);if(e=cu(Wt(),{mnemonic:l,mnemonicCheckIndexes:mm((null==l?void 0:l.length)??a.xA_)}),o)return Ht(e),void t.afterCreatePassword({password:e.auth.password});Ht(cu(e,{state:Cd()?Ga.createPin:r.uh?Ga.createBiometrics:Ga.createPassword}))}),Vt("startCreatingBiometrics",e=>{e=cu(e,{state:"createAccount"!==e.auth.method?Ga.importWalletConfirmBiometrics:Ga.confirmBiometrics,biometricsStep:1}),Ht(e)}),Vt("cancelCreateBiometrics",e=>{e=cu(e,{state:Ga.createBiometrics,biometricsStep:void 0}),Ht(e)}),Vt("createPin",(e,t,n)=>{let{pin:a,isImporting:o}=n;e=cu(e,{state:o?Ga.importWalletConfirmPin:Ga.confirmPin,password:a}),Ht(e)}),Vt("confirmPin",(e,t,n)=>{let{isImporting:a}=n;bd()?(e=cu(e,{state:a?Ga.importWalletCreateNativeBiometrics:Ga.createNativeBiometrics}),Ht(e)):t.skipCreateNativeBiometrics()}),Vt("cancelConfirmPin",(e,t,n)=>{let{isImporting:a}=n;e=cu(e,{state:a?Ga.importWalletCreatePin:Ga.createPin}),Ht(e)}),Vt("afterCreatePassword",(e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;Ht(cu(e,{isLoading:!0}));const{method:r}=Wt().auth,i="createAccount"!==r;"importHardwareWallet"===r?t.createHardwareAccounts():t.createAccount({password:a,isImporting:i,isPasswordNumeric:o})}),Vt("afterCreateBiometrics",async(e,t)=>{const n=!r.cp;e=cu(e,{isLoading:!0,error:void 0,biometricsStep:n?1:void 0}),Ht(e);try{const a=n?await Pr.createCredential():void 0;e=cu(e=Wt(),{biometricsStep:n?2:void 0}),Ht(e);const o=await Ur({credential:a});if(e=cu(e=Wt(),{isLoading:!1,biometricsStep:void 0}),!o)return e=cu(e,{error:"Biometric setup failed."}),void Ht(e);e=gu(e,{authConfig:o.config}),Ht(e),t.afterCreatePassword({password:o.password})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=cu(e=Wt(),{isLoading:!1,error:n,biometricsStep:void 0}),Ht(e)}}),Vt("skipCreateBiometrics",(e,t,n)=>{let{isImporting:a}=n;e=cu(e,{state:a?Ga.importWalletCreatePassword:Ga.createPassword}),Ht(e)}),Vt("afterCreateNativeBiometrics",async(e,t)=>{e=cu(e,{isLoading:!0,error:void 0}),Ht(e);try{const{password:n}=e.auth,a=await Wr(n);e=gu(e=cu(e=Wt(),{isLoading:!1}),{authConfig:a.config}),Ht(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=cu(e=Wt(),{isLoading:!1,error:n}),Ht(e)}}),Vt("skipCreateNativeBiometrics",(e,t)=>{const{password:n}=e.auth;e=gu(e=cu(e,{isLoading:!1,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:!0}),Ht(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}),Vt("createAccount",async(e,t,n)=>{let{password:a,isImporting:o,isPasswordNumeric:r,version:i}=n;Ht(cu(e,{isLoading:!0}));const s=rn(Wt()),c=await ee(o?"importMnemonic":"createWallet",s,e.auth.mnemonic,a,i);if(e=Wt(),!c||"error"in c)return Ht(cu(e,{isLoading:void 0})),void t.showError({error:null==c?void 0:c.error});const{accountId:l,byChain:d,secondNetworkAccount:u}=c;o||(e={...e,appState:Ya.Auth,isAddAccountModalOpen:void 0}),e=cu(e,{isLoading:void 0,password:void 0,firstNetworkAccount:{byChain:d,accountId:l},secondNetworkAccount:u,...r&&{isPasswordNumeric:!0}}),e=cu(e=uu(e),o?{state:Ga.importCongratulations}:{state:Ga.safetyRules}),Ht(e)}),Vt("createHardwareAccounts",async(e,t)=>{const n=Xt(nn(e)??{}),a=rn(e),o=function(e){const t=new Set(e.auth.hardwareSelectedIndices??[]),{chain:n,hardwareWallets:a}=e.hardware;return(a??[]).filter(e=>t.has(e.wallet.index)).map(e=>{let{wallet:t,balance:a,...o}=e;return{...o,byChain:{[n]:t}}})}(e);Ht(cu(e,{isLoading:!0}));const i=B(await Promise.all(o.map(e=>ee("importLedgerAccount",a,e))));!r.bA||n?t.addHardwareAccounts({accounts:i}):nu("addHardwareAccounts",{accounts:i})}),Vt("addHardwareAccounts",(e,t,n)=>{var a;let{accounts:o}=n;const r=null===(a=o[0])||void 0===a?void 0:a.accountId;r&&(ee("activateAccount",r),e=bu(e,r)),e=o.reduce((e,t)=>mu({...t,global:e,type:"hardware"}),e),e=cu(e,{isLoading:!1}),e={...e,shouldForceAccountEdit:!0},Ht(e),Wt().areSettingsOpen&&t.closeSettings(),o.forEach(e=>{null!=e&&e.accountId&&t.tryAddNotificationAccount({accountId:null==e?void 0:e.accountId})}),e=cu(Wt(),{state:Ga.congratulations}),Ht(e)}),Vt("afterCheckMnemonic",(e,t)=>{e=bu(e=cu(e=pu(e),{state:Ga.congratulations}),e.auth.firstNetworkAccount.accountId),Ht(e)}),Vt("afterCongratulations",(e,t,n)=>{let{isImporting:a}=n;a?t.afterConfirmDisclaimer():(e.auth.firstNetworkAccount&&t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),hn(e)&&t.resetApiSettings())}),Vt("restartCheckMnemonicIndexes",(e,t,n)=>{let{wordsCount:o,preserveIndexes:r}=n;const i=T([...r??[],...mm(o)]).slice(0,a.ow1).sort((e,t)=>e-t);Ht(cu(e,{mnemonicCheckIndexes:i}))}),Vt("skipCheckMnemonic",(e,t)=>{r.bA?nu("skipCheckMnemonic"):(e=fu(e=bu(e=pu(e),e.auth.firstNetworkAccount.accountId),{isBackupRequired:!0}),Ht(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),hn(e)&&t.resetApiSettings())}),Vt("startImportingWallet",e=>{const t=bn(e)&&!e.auth.password?Ga.importWalletCheckPassword:Ga.importWallet;Ht(cu(e,{state:t,error:void 0,method:"importMnemonic"}))}),Vt("afterImportMnemonic",async(e,t,n)=>{let{mnemonic:a}=n;if(a=B(a),!Od(a)&&!await ee("validateMnemonic",a))return void Ht(cu(Wt(),{error:Xo.InvalidMnemonic}));const o=bn(e=Wt()),i=Cd()?Ga.importWalletCreatePin:r.uh?Ga.importWalletCreateBiometrics:Ga.importWalletCreatePassword;e=cu(e,{mnemonic:a,error:void 0,...!o&&{state:i}}),Ht(e),o&&t.confirmDisclaimer()}),Vt("confirmDisclaimer",(e,t)=>{if(bn(e))return Ht(e),void t.afterCreatePassword({password:e.auth.password});t.afterConfirmDisclaimer()}),Vt("afterConfirmDisclaimer",(e,t)=>{const{firstNetworkAccount:n}=e.auth;e=cu(e=bu(e=pu(e,!0),n.accountId),{state:Ga.ready}),Ht(e),t.tryAddNotificationAccount({accountId:n.accountId}),t.afterSignIn(),hn(e)&&t.resetApiSettings()}),Vt("startChangingNetwork",(e,t,n)=>{let{network:a}=n;r.bA&&nu("startChangingNetwork",{network:a});const o=Object.keys(an(a,e.accounts.byId));if(o.length){const e=o[0];t.switchAccount({accountId:e,newNetwork:a})}else Ht({...e,areSettingsOpen:!1,appState:Ya.Auth}),t.changeNetwork({network:a})}),Vt("switchAccount",async(e,t,n)=>{if(r.bA)return void nu("switchAccount",n);const{accountId:a,newNetwork:o}=n;await um(e,a,o)}),Vt("afterSelectHardwareWallets",(e,t,n)=>{let{hardwareSelectedIndices:a}=n;Ht(cu(e,{method:"importHardwareWallet",hardwareSelectedIndices:a,error:void 0})),t.afterCreatePassword({password:""})}),Vt("enableBiometrics",async(e,t,n)=>{let{password:a}=n;if(!await ee("verifyPassword",a))return e=wu(e=Wt(),{error:"Wrong password, please try again."}),void Ht(e);e=cu(e=wu(e=Wt(),{error:void 0,state:Qa.TurnOnRegistration}),{isLoading:!0}),Ht(e);try{const n=r.cp?void 0:await Pr.createCredential();e=wu(e=Wt(),{state:Qa.TurnOnVerification}),Ht(e);const o=await Ur({credential:n});if(e=Wt(),!o)return e=wu(e,{error:"Biometric setup failed.",state:Qa.TurnOnPasswordConfirmation}),void Ht(e);e=wu(e,{state:Qa.TurnOnComplete}),Ht(e),await ee("changePassword",a,o.password),e=gu(e=Wt(),{authConfig:o.config}),Ht(e),t.setInMemoryPassword({password:void 0,force:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=wu(e=Wt(),{error:n,state:Qa.TurnOnPasswordConfirmation}),Ht(e)}finally{e=cu(e=Wt(),{isLoading:void 0}),Ht(e)}}),Vt("disableBiometrics",async(e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;const{password:r}=e.biometrics;if(!a||!r)return e=wu(e,{error:"Biometric confirmation failed."}),void Ht(e);e=cu(e=Wt(),{isLoading:!0}),Ht(e);try{await ee("changePassword",r,a)}catch(t){return e=wu(e=Wt(),{error:(null==t?void 0:t.message)||"Failed to disable biometrics."}),void Ht(e)}finally{e=cu(e=Wt(),{isLoading:void 0}),Ht(e)}e=gu(e=wu(e=Wt(),{state:Qa.TurnOffComplete,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:o}),Ht(e)}),Vt("closeBiometricSettings",e=>{e={...e,biometrics:_(ru.biometrics)},Ht(e)}),Vt("openBiometricsTurnOn",e=>{e=wu(e,{state:Qa.TurnOnPasswordConfirmation}),Ht(e)}),Vt("openBiometricsTurnOffWarning",e=>{e=wu(e,{state:Qa.TurnOffWarning}),Ht(e)}),Vt("openBiometricsTurnOff",async e=>{e=wu(e,{state:Qa.TurnOffBiometricConfirmation}),Ht(e);const t=await $r(e.settings.authConfig);e=wu(e=Wt(),t?{state:Qa.TurnOffCreatePassword,password:t}:{error:"Biometric confirmation failed."}),Ht(e)}),Vt("disableNativeBiometrics",e=>{e=gu(e,{authConfig:{kind:"password"},isPasswordNumeric:!0}),Ht(e)}),Vt("enableNativeBiometrics",async(e,t,n)=>{let{password:o}=n;if(!await ee("verifyPassword",o))return e=Wt(),e=uu(e={...e,nativeBiometricsError:"Incorrect code, please try again."}),void Ht(e);e=du(e=Wt()),e={...e,nativeBiometricsError:void 0},Ht(e);try{let n;if(n=a.tKX?(await Lr()).success:await Go.verifyIdentity({title:a.C39,subtitle:"",maxAttempts:1}).then(()=>!0).catch(()=>!1),!n)return e=Wt(),e=uu(e={...e,nativeBiometricsError:"Failed to enable biometrics."}),Ht(e),void Bd();const r=await Wr(o);await(0,c.v7)(750),e=gu(e=Wt(),{authConfig:r.config}),e={...e,nativeBiometricsError:void 0},Ht(e),t.setInMemoryPassword({password:void 0,force:!0}),xd()}catch(t){e=Wt(),e=uu(e={...e,nativeBiometricsError:(null==t?void 0:t.message)||"Failed to enable biometrics."}),Ht(e),Bd()}}),Vt("clearNativeBiometricsError",e=>({...e,nativeBiometricsError:void 0})),Vt("openAuthBackupWalletModal",e=>{r.bA?nu("openAuthBackupWalletModal"):(e=cu(e,{state:Ga.safetyRules}),Ht(e))}),Vt("openMnemonicPage",e=>{if(r.bA)return void nu("openMnemonicPage");const{mnemonic:t}=e.auth;e=cu(e,{state:Ga.mnemonicPage,mnemonicCheckIndexes:mm((null==t?void 0:t.length)??a.xA_)}),Ht(e)}),Vt("openCheckWordsPage",e=>{r.bA?nu("openCheckWordsPage"):(e=cu(e,{state:Ga.checkWords}),Ht(e))}),Vt("closeCheckWordsPage",(e,t,n)=>{const{isBackupCreated:a}=n||{};r.bA&&nu("closeCheckWordsPage",n),!r.bA&&a&&t.afterCheckMnemonic()}),Vt("copyStorageData",async(e,t)=>{const n=await ee("fetchAccountConfigForDebugPurposesOnly");if(n){const e=JSON.stringify({...JSON.parse(n),global:pm()});await Ld(e),t.showNotification({message:Vi("Copied")})}else t.showError({error:Qo.Unexpected})}),Vt("importAccountByVersion",async(e,t,n)=>{let{version:a,isTestnetSubwalletId:o}=n;if(r.bA)return void nu("importAccountByVersion",{version:a,isTestnetSubwalletId:o});const i=e.currentAccountId,s=await ee("importNewWalletVersion",i,a,o);if(e=Wt(),!s.isNew)return void t.switchAccount({accountId:s.accountId});const{title:c,type:l}=cn(e,i),d={ton:{address:s.address}};e=bu(e,s.accountId);const u=s.ledger?{ledger:s.ledger}:void 0;e=mu({global:e,accountId:s.accountId,type:l,byChain:d,partial:{...u,title:c},titlePostfix:a}),Ht(e),await ee("activateAccount",s.accountId),t.tryAddNotificationAccount({accountId:s.accountId})}),Vt("setIsAuthLoading",(e,t,n)=>{let{isLoading:a}=n;e=cu(e,{isLoading:a}),Ht(e)}),Vt("importViewAccount",async(e,t,n)=>{let{addressByChain:a}=n;if(r.bA)return void nu("importViewAccount",{addressByChain:a});const o=Xt(nn(e)??{}),i=rn(Wt());o?e=cu(e,{isLoading:!0}):(e=lu(e,{isLoading:!0}),r.KI&&au("setIsAccountLoading",{isLoading:!0})),Ht(e);const s=await ee("importViewAccount",i,a);e=Wt(),o?e=cu(e,{isLoading:void 0}):(e=lu(e,{isLoading:void 0}),r.KI&&au("setIsAccountLoading",{isLoading:void 0})),Ht(e),s&&!("error"in s)?(e=bu(e=mu({global:e=Wt(),accountId:s.accountId,byChain:s.byChain,type:"view",partial:{title:s.title}}),s.accountId),Ht(e),Wt().areSettingsOpen&&t.closeSettings(),t.tryAddNotificationAccount({accountId:s.accountId}),t.afterSignIn(),o?(t.resetApiSettings(),t.requestConfetti()):t.closeAddAccountModal(),xd()):t.showError({error:null==s?void 0:s.error})}),Vt("setIsBackupRequired",(e,t,n)=>{let{isMnemonicChecked:a}=n;const{isBackupRequired:o}=dn(e)??{};Ht(fu(e,{isBackupRequired:a?void 0:o}))}),Vt("submitSignature",async(e,t,n)=>{const{password:a}=n,{promiseId:o}=e.currentSignature;await ee("verifyPassword",a)?(await ee("confirmDappRequest",o,a),Ht(Mu(Wt(),{isSigned:!0}))):Ht(Mu(Wt(),{error:"Wrong password, please try again."}))}),Vt("clearSignatureError",e=>{Ht(Mu(e,{error:void 0}))}),Vt("cancelSignature",e=>{const{promiseId:t}=e.currentSignature||{};t&&ee("cancelDappRequest",t,"Canceled by the user"),Ht({...e,currentSignature:void 0})}),Vt("addToken",(e,t,n)=>{var a,o,r;let{token:i}=n;null!==(a=e.tokenInfo)&&void 0!==a&&null!==(a=a.bySlug)&&void 0!==a&&a[i.slug]||(e=Em(e,{[i.slug]:{name:i.name,symbol:i.symbol,slug:i.slug,decimals:i.decimals,chain:i.chain,image:i.image,keywords:i.keywords,priceUsd:i.priceUsd??0,percentChange24h:i.change24h??0}}));const{balances:s}=dn(e)??{};null!=s&&s.bySlug[i.slug]||(e=fu(e,{balances:{...s,bySlug:{...null==s?void 0:s.bySlug,[i.slug]:0n}}}));const c=pn(e),l=pn(e=yu(e,{importedSlugs:[...(null==c?void 0:c.importedSlugs)??[],i.slug]}))??{};return yu(e,{...l,orderedSlugs:[...l.orderedSlugs??[],i.slug],alwaysShownSlugs:T([...l.alwaysShownSlugs??[],i.slug]),alwaysHiddenSlugs:null===(o=l.alwaysHiddenSlugs)||void 0===o?void 0:o.filter(e=>e!==i.slug),deletedSlugs:null===(r=l.deletedSlugs)||void 0===r?void 0:r.filter(e=>e!==i.slug)})}),Vt("importToken",async(e,t,n)=>{var a,o;let{address:r}=n;const{currentAccountId:i}=e;e=gu(e,{importToken:{isLoading:!0,token:void 0}}),Ht(e);const s=await ee("buildTokenSlug","ton",r);let l=null===(a=(e=Wt()).tokenInfo.bySlug)||void 0===a?void 0:a[s];if(!l){if(l=await ee("fetchToken",e.currentAccountId,r),await(0,c.v7)(250),e=Wt(),!l)return e=gu(e,{importToken:{isLoading:!1,token:void 0}}),void Ht(e);{const t={...l,priceUsd:0,percentChange24h:0};e=Em(e,{[t.slug]:t}),Ht(e)}}const d=(null===(o=un(e,i))||void 0===o||null===(o=o.balances)||void 0===o?void 0:o.bySlug)??{},u=!(l.slug in d),m=Ea(l);e=gu(e=Wt(),{importToken:{isLoading:!1,token:m}}),u&&(e=function(e,t,n){var a;return hu(e,t,{balances:{bySlug:{...null===(a=un(e,t))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug,[n]:0n}}})}(e,e.currentAccountId,l.slug)),Ht(e)}),Vt("resetImportToken",e=>{e=gu(e,{importToken:{isLoading:!1,token:void 0}}),Ht(e)}),Vt("verifyHardwareAddress",async(e,t,n)=>{var a;let{chain:o}=n;const r=e.currentAccountId,i=null===(a=cn(e,r))||void 0===a||null===(a=a.byChain[o])||void 0===a?void 0:a.address;if(!await km(o))return void t.showError({error:Vi("$ledger_not_ready",{chain:da(o)})});t.showDialog({title:"Ledger",message:"$ledger_verify_address_on_device"});const s=await ee("verifyLedgerWalletAddress",r,o);vm(s)?(null==s?void 0:s.error)!==er.RejectedByUser&&t.showError({error:null==s?void 0:s.error}):s!==i&&t.showError({error:"$ledger_wrong_device"})}),Vt("setActiveContentTab",(e,t,n)=>{let{tab:a}=n;return fu(e,{activeContentTab:a})}),Vt("addSwapToken",(e,t,n)=>{let{token:a}=n;if(a.slug in e.swapTokenInfo.bySlug)return;const o={name:a.name,symbol:a.symbol,chain:a.chain,slug:a.slug,decimals:a.decimals,image:a.image,tokenAddress:a.tokenAddress,keywords:a.keywords,isPopular:!1,priceUsd:0};Ht({...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...e.swapTokenInfo.bySlug,[o.slug]:o}}})}),Vt("apiUpdateWalletVersions",(e,t,n)=>{var a;const{accountId:o,versions:r,currentVersion:i}=n;e={...e,walletVersions:{...e.walletVersions,currentVersion:i,byId:{...null===(a=e.walletVersions)||void 0===a?void 0:a.byId,[o]:r}}},Ht(e)}),Vt("startStaking",(e,t,n)=>{const a=e.currentStaking.state!==co.None,{tokenSlug:o}=n||{};if(o){const t=$o(e,e.currentAccountId)[o];t&&(e=Pu(e=Wt(),e.currentAccountId,{stakingId:t.id}),Ht(e),e=Wt())}if(r.bA&&!a)return void nu("startStaking",n);const i=co.StakeInitial;Ht(Fu(e,{state:i,error:void 0}))}),Vt("startUnstaking",(e,t,n)=>{const a=e.currentStaking.state!==co.None,{stakingId:o}=n||{};if(o&&(e=Pu(e=Wt(),e.currentAccountId,{stakingId:o}),Ht(e),e=Wt()),r.bA&&!a)return void nu("startUnstaking",n);const i=co.UnstakeInitial;Ht(Fu(e,{state:i,error:void 0}))}),Vt("fetchStakingFee",async(e,t,n)=>{const{amount:a}=n,{currentAccountId:o}=e;if(!o)return;const r=Vo(e,o),i=await ee("checkStakeDraft",o,a,r);i&&!("error"in i)&&(e=Fu(e=Wt(),{fee:i.fee}),Ht(e))}),Vt("submitStakingInitial",async(e,t,n)=>{const{isUnstaking:a,amount:o}=n??{},{currentAccountId:r}=e;if(!r)return;Ht(Fu(e,{isLoading:!0,error:void 0}));const i=Vo(e,r);if(a){const t=await ee("checkUnstakeDraft",r,o,i);e=Fu(e=Wt(),{isLoading:!1}),t&&("error"in t?e=Fu(e,{error:t.error}):(e=fn(e)?Fu(e=dm(e,"ton"),{state:co.UnstakeConnectHardware}):Fu(e,{state:co.UnstakePassword}),e=Fu(e,{fee:t.fee,amount:o,error:void 0,tokenAmount:t.tokenAmount})))}else{const t=await ee("checkStakeDraft",r,o,i);e=Fu(e=Wt(),{isLoading:!1}),t&&("error"in t?e=Fu(e,{error:t.error}):(e=fn(e)?Fu(e=dm(e,"ton"),{state:co.StakeConnectHardware}):Fu(e,{state:co.StakePassword}),e=Fu(e,{fee:t.fee,amount:o,error:void 0})))}Ht(e)}),Vt("submitStaking",async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{password:a,isUnstaking:o}=n,{amount:r,tokenAmount:i}=e.currentStaking,{currentAccountId:s}=e;if(!await hm(o?co.UnstakeConfirmHardware:co.StakeConfirmHardware,Fu,a))return;const c=Vo(e=Wt(),s);if(o){const t="nominators"===c.type?c.balance:i;if(!gm(await ee("submitUnstake",e.currentAccountId,a,t,c,Nm(c.type).unstake.real),Fu))return;const n=Bm(c,t);e=Fu(e=hu(e=Wt(),s,{isLongUnstakeRequested:n}),{state:co.UnstakeComplete}),Ht(e)}else{if(!gm(await ee("submitStake",e.currentAccountId,a,r,c,Nm(c.type).stake.real),Fu))return;e=Fu(e=Wt(),{state:co.StakeComplete}),Ht(e)}}),Vt("clearStakingError",e=>{Ht(Fu(e,{error:void 0}))}),Vt("cancelStaking",e=>{Cd()&&(e=uu(e)),e=function(e){return{...e,currentStaking:{state:co.None}}}(e),Ht(e)}),Vt("setStakingScreen",(e,t,n)=>{const{state:a}=n;Ht(Fu(e,{state:a}))}),Vt("fetchStakingHistory",async e=>{const t=await ee("getStakingHistory",e.currentAccountId);t&&(e=hu(e=Wt(),e.currentAccountId,{stakingHistory:t},!0),Ht(e))}),Vt("openAnyAccountStakingInfo",async(e,t,n)=>{let{accountId:a,network:o,stakingId:i}=n;r.bA?nu("openAnyAccountStakingInfo",{accountId:a,network:o,stakingId:i}):(await Promise.all([Nl(),um(e,a,o)]),t.changeCurrentStaking({stakingId:i}),t.openStakingInfo())}),Vt("openStakingInfo",e=>{r.bA?nu("openStakingInfo"):(e={...e,isStakingInfoModalOpen:!0},Ht(e))}),Vt("closeStakingInfo",e=>{e={...e,isStakingInfoModalOpen:void 0},Ht(e)}),Vt("changeCurrentStaking",async(e,t,n)=>{let{stakingId:a,shouldReopenModal:o}=n;r.bA&&o?nu("changeCurrentStaking",{stakingId:a,shouldReopenModal:o}):(o&&await(0,c.v7)(50),e=Pu(e=Wt(),e.currentAccountId,{stakingId:a}),Ht(e),o&&t.openStakingInfoOrStart())}),Vt("startStakingClaim",(e,t,n)=>{const{stakingId:a}=n||{};a&&(e=Pu(e=Wt(),e.currentAccountId,{stakingId:a}),Ht(e),e=Wt()),r.bA?nu("startStakingClaim",n):(e=fn(e)?Fu(e=dm(e,"ton"),{state:co.ClaimConnectHardware}):Fu(e,{state:co.ClaimPassword}),Ht(e))}),Vt("cancelStakingClaim",e=>{e=Fu(e,{state:co.None}),Ht(e)}),Vt("submitStakingClaim",async function(e,t){var n;let{password:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.currentAccountId;if(!await hm(co.ClaimConfirmHardware,Fu,a))return;if(r.bA)return void nu("submitStakingClaim",{password:a});const i=Vo(e=Wt(),o),s="ethena"===i.type;gm(await ee("submitStakingClaimOrUnlock",o,a,i,null===(n=Nm(i.type).claim)||void 0===n?void 0:n.real),Fu)&&(e=Fu(e=Wt(),{state:s?co.ClaimComplete:co.None}),Ht(e),r.KI&&au("setStakingScreen",{state:s?co.ClaimComplete:co.None}))}),Vt("openStakingInfoOrStart",(e,t)=>{e.currentAccountId&&(Tm(Vo(e,e.currentAccountId))?t.openStakingInfo():t.startStaking())}),Vt("submitDappConnectRequestConfirm",async(e,t,n)=>{let{password:a,accountId:o}=n;const{promiseId:r,permissions:i,proof:s}=e.dappConnectRequest;if(!await wm(o,io.ConfirmHardware,Ru,!(null==i||!i.isPasswordRequired),a))return;const l=s?await ee("signTonProof",o,s,a):{signature:void 0};bm(l,Ru)&&(t.switchAccount({accountId:o}),await ou("confirmDappRequestConnect",r,{accountId:o,proofSignature:l.signature}),e=Uu(e=Wt()),Ht(e),await(0,c.v7)(250),t.getDapps())}),Vt("cancelDappConnectRequestConfirm",e=>{r.bA&&nu("clearDappConnectRequestConfirm"),Lm(e=>e.dappConnectRequest,Uu)}),Vt("clearDappConnectRequestConfirm",e=>Uu(e)),Vt("setDappConnectRequestState",(e,t,n)=>{let{state:a}=n;Ht(Ru(e,{state:a}))}),Vt("cancelDappTransfer",e=>{r.bA&&nu("clearDappTransfer"),Lm(e=>e.currentDappTransfer,Hu)}),Vt("clearDappTransfer",e=>Hu(e)),Vt("submitDappTransfer",async function(e,t){let{password:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:a}=e.currentDappTransfer;if(!a)return;if(!await wm(e.currentAccountId,Xa.ConfirmHardware,Wu,!0,n))return;e=Wt();const{transactions:o,validUntil:r,vestingAddress:i}=e.currentDappTransfer,s=e.currentAccountId,c=await ee("signTransfers",s,o,{password:n,validUntil:r,vestingAddress:i});bm(c,Wu)&&await ou("confirmDappRequestSendTransaction",a,c)}),Vt("submitDappSignData",async function(e,t){let{password:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:a}=e.currentDappSignData;if(!a)return;if(!await wm(e.currentAccountId,0,$u,!0,n))return;e=Wt();const{dapp:o,payloadToSign:r}=e.currentDappSignData,i=e.currentAccountId,s=await ee("signData",i,o.url,r,n);bm(s,$u)&&await ou("confirmDappRequestSignData",a,s)}),Vt("getDapps",async(e,t)=>{const{currentAccountId:n}=e;let a=await ee("getDapps",n);if(!a)return;const o=a.find(e=>{let{url:t}=e;return!t});o&&(t.deleteDapp({url:o.url,uniqueId:_m(o)}),a=a.filter(e=>{let{url:t}=e;return t})),e=function(e,t){return fu(e,{dapps:t})}(e=Wt(),a),Ht(e)}),Vt("deleteAllDapps",e=>{const{currentAccountId:t}=e;ee("deleteAllDapps",t),e=function(e){return fu(e,{dapps:void 0,dappLastOpenedDatesByUrl:void 0})}(e=Wt()),Ht(e)}),Vt("deleteDapp",(e,t,n)=>{let{url:a,uniqueId:o}=n;const{currentAccountId:i}=e;r.bA?nu("deleteDapp",{url:a,uniqueId:o}):ee("deleteDapp",i,a,o),e=function(e,t){const{dapps:n,dappLastOpenedDatesByUrl:a}=dn(e)||{};return a&&delete a[t],fu(e,{dapps:n.filter(e=>e.url!==t),dappLastOpenedDatesByUrl:a})}(e=Wt(),a),Ht(e)}),Vt("cancelDappSignData",e=>{r.bA&&nu("clearDappSignData"),Lm(e=>e.currentDappSignData,Vu)}),Vt("clearDappSignData",e=>Vu(e)),Vt("apiUpdateDappConnect",async(e,t,n)=>{let{accountId:a,dapp:o,permissions:i,promiseId:s,proof:l}=n;if(r.bA){if(!await(0,c.fm)(()=>Boolean(Wt().dappConnectRequest),300,5))return;e=Wt()}e=Ru(e,{state:io.Info,promiseId:s,accountId:a,dapp:o,permissions:{isAddressRequired:i.address,isPasswordRequired:i.proof},proof:l}),Ht(e),t.addSiteToBrowserHistory({url:o.url})}),Vt("apiUpdateDappSendTransaction",async(e,t,n)=>{const{promiseId:a,transactions:o,emulation:r,dapp:i,validUntil:s,vestingAddress:c}=n;await Dm(n,e=>e.currentDappTransfer,t.closeDappTransfer,e=>e.currentDappTransfer.state!==Xa.None,Hu,e=>Wu(e,{state:Xa.Initial,promiseId:a,transactions:o,emulation:r,dapp:i,validUntil:s,vestingAddress:c}))}),Vt("apiUpdateDappSignData",async(e,t,n)=>{const{promiseId:a,dapp:o,payloadToSign:r}=n;await Dm(n,e=>e.currentDappSignData,t.closeDappSignData,e=>e.currentDappSignData.state!==Ja.None,Vu,e=>$u(e,{state:Ja.Initial,promiseId:a,dapp:o,payloadToSign:r}))}),Vt("apiUpdateDappLoading",async(e,t,n)=>{let{connectionType:a,isSse:o,accountId:i}=n;if(r.bA){if(!await(0,c.fm)(()=>Om(Wt(),a),300,5))return;e=Wt()}!r.bA&&i&&t.switchAccount({accountId:i}),"connect"===a?e=Ru(e,{state:io.Info,isSse:o}):"sendTransaction"===a?e=Wu(e,{state:Xa.Initial,isSse:o}):"signData"===a&&(e=$u(e,{state:Ja.Initial,isSse:o})),Ht(e)}),Vt("apiUpdateDappCloseLoading",async(e,t,n)=>{var a;let{connectionType:o}=n;if(r.bA){if(!await(0,c.fm)(()=>Om(Wt(),o),300,5))return;e=Wt()}"connect"===o&&(null===(a=e.dappConnectRequest)||void 0===a?void 0:a.state)===io.Info?e=Uu(e):"sendTransaction"===o&&e.currentDappTransfer.state===Xa.Initial?e=Hu(e):"signData"===o&&e.currentDappSignData.state===Ja.Initial&&(e=Vu(e)),Ht(e)}),Vt("loadExploreSites",async(e,t,n)=>{let{isLandscape:a}=n;const o=await ee("loadExploreSites",{isLandscape:a});iu(o,(e=Wt()).exploreData)||(e={...e,exploreData:o},Ht(e))});const qm={},jm=9e5,Ym={"Insufficient liquidity":oo.NotEnoughLiquidity,"Tokens must be different":oo.InvalidPair,"Asset not found":oo.InvalidPair,"Pair not found":oo.InvalidPair,"Too small amount":oo.TooSmallAmount};function Gm(e){var t;const{currentDexLabel:n,amountIn:a,amountOut:o,amountOutMin:r,slippage:i,networkFee:s,swapFee:c,ourFee:l,dieselFee:d,realNetworkFee:u,estimates:m}=e.currentSwap,p=ko(e),f=Co(e),h=Vm(p),g=Vm(f),v=a,y=o,w=cn(e,e.currentAccountId),b=ya(wa(p.slug)),E=b?Yn(e,b.slug):void 0,k=No(e);return{from:h,to:g,fromAmount:v,toAmount:y,toMinAmount:r,slippage:i,fromAddress:((null==w?void 0:w.byChain[p.chain])||(null==w?void 0:w.byChain.ton)).address,shouldTryDiesel:Pm({...e.currentSwap,swapType:k,nativeTokenInBalance:E}),dexLabel:n,networkFee:u??s,swapFee:c,ourFee:l,dieselFee:d,routes:null==m||null===(t=m[0])||void 0===t?void 0:t.routes}}Vt("startSwap",async(e,t,n)=>{const a=e.currentSwap.state!==no.None;if(r.KI&&a&&(au("cancelSwap"),await(0,c.v7)(100),e=Wt()),r.bA)return void nu("startSwap",n);const{state:o}=n??{},i=_s(),s=o||(i?no.Initial:no.None);e=Iu(e,{...n,state:s,swapId:(0,ht.A)(),inputSource:ao.In}),Ht(e),i||t.setLandscapeActionsActiveTabIndex({index:po.Swap})}),Vt("setDefaultSwapParams",(e,t,n)=>{let{tokenInSlug:o,tokenOutSlug:r}=n??{};const{withResetAmount:i}=n??{};o=o||a.JhS,r=r||a.rKC,(e.currentSwap.tokenInSlug!==o||e.currentSwap.tokenOutSlug!==r||i)&&(e=Iu(e,{tokenInSlug:o,tokenOutSlug:r,inputSource:ao.In,...i?{amountIn:void 0,amountOut:void 0}:void 0}),Ht(e))}),Vt("cancelSwap",function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const{tokenInSlug:t,tokenOutSlug:n}=e.currentSwap;return e=Iu(e=Tu(e),{tokenInSlug:t,tokenOutSlug:n,amountIn:void 0,amountOut:void 0,inputSource:ao.In}),void Ht(e)}Cd()&&(e=uu(e)),e=Iu(e,{state:no.None,swapId:void 0}),Ht(e)}),Vt("submitSwap",async(e,t,n)=>{let{password:a}=n;if(!await hm(0,Iu,a))return;Ht(Iu(Wt(),{shouldResetOnClose:void 0}));const o=Gm(e),r=await ee("swapBuildTransfer",e.currentAccountId,a,o);if(!gm(r,Iu))return void Ht(Iu(Wt(),{shouldResetOnClose:!0}));const i={id:r.id,timestamp:Date.now(),status:"pendingTrusted",from:o.from,fromAmount:o.fromAmount,to:o.to,toAmount:o.toAmount,networkFee:e.currentSwap.realNetworkFee??e.currentSwap.networkFee,swapFee:e.currentSwap.swapFee,ourFee:e.currentSwap.ourFee,hashes:[]};Ht(Iu(Wt(),{tokenInSlug:void 0,tokenOutSlug:void 0,amountIn:void 0,amountOut:void 0,state:no.Complete,shouldResetOnClose:!0}));const s=await ee("swapSubmit",e.currentAccountId,a,r.transfers,i,o.shouldTryDiesel);if(vm(s))return ym(s,Iu),void Ht(Iu(Wt(),{shouldResetOnClose:!0}));Ht(Iu(Wt(),{activityId:s.activityId}))}),Vt("submitSwapCex",async(e,t,n)=>{var a;let{password:o}=n;if(!await hm(0,Iu,o))return;e=Wt(),Ht(Iu(e,{shouldResetOnClose:void 0}));const r=Cn(e,e.currentAccountId),i=sn(e),s=function(e){var t;return Object.keys((null===(t=cn(e,e.currentAccountId))||void 0===t?void 0:t.byChain)||{ton:!0})}(e),l=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],d=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],u="ton"===l.chain,m=r&&"tron"===l.chain,p=u||m,f=r?s.includes(l.chain):"ton"===l.chain,h=i.byChain.ton.address,g=(null==i||null===(a=i.byChain[d.chain])||void 0===a?void 0:a.address)??e.currentSwap.toAddress,v={...N(Gm(e),["from","fromAmount","to","swapFee","networkFee"]),fromAddress:h,toAddress:g},y=await ee("swapCexCreateTransaction",e.currentAccountId,o,v);if(gm(y,Iu)){if(e=Iu(e=Wt(),{state:f?no.Complete:no.WaitTokens,activityId:y.activity.id,payinAddress:y.swap.cex.payinAddress,payoutAddress:y.swap.cex.payoutAddress,payinExtraId:y.swap.cex.payinExtraId,shouldResetOnClose:!0}),Ht(e),p){const t={password:o,accountId:e.currentAccountId,fee:(0,zn.UH)(y.swap.networkFee,l.decimals),amount:(0,zn.UH)(y.swap.fromAmount,l.decimals),toAddress:y.swap.cex.payinAddress,tokenAddress:r?l.tokenAddress:void 0};let n;if(await(0,c.v7)(5e3),u?n=await ee("swapCexSubmit","ton",t,y.swap.id):m&&(n=await ee("swapCexSubmit","tron",t,y.swap.id)),vm(n))return ym(n,Iu),void Ht(Iu(Wt(),{shouldResetOnClose:!0}))}}else Ht(Iu(Wt(),{shouldResetOnClose:!0}))}),Vt("switchSwapTokens",e=>{const{tokenInSlug:t,tokenOutSlug:n,amountIn:a,amountOut:o}=e.currentSwap;e=Iu(e,{isMaxAmount:!1,amountIn:o,amountOut:a,tokenInSlug:n,tokenOutSlug:t,inputSource:ao.In}),Ht(e)}),Vt("setSwapTokenIn",(e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=o?(0,zn.QQ)(o,c.decimals):o,d=a===s?i:s,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=r&&u?(0,zn.QQ)(r,u.decimals):r;e=Iu(e,{amountIn:"0"===l?void 0:l,amountOut:"0"===m?void 0:m,tokenInSlug:a,tokenOutSlug:d}),Ht(e)}),Vt("setSwapTokenOut",(e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=r?(0,zn.QQ)(r,c.decimals):r,d=a===i?s:i,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=o&&u?(0,zn.QQ)(o,u.decimals):o;e=Iu(e,{amountOut:"0"===l?void 0:l,amountIn:"0"===m?void 0:m,tokenOutSlug:a,tokenInSlug:d}),Ht(e)}),Vt("setSwapAmountIn",(e,t,n)=>{let{amount:a,isMaxAmount:o=!1}=n;e=Iu(e,{amountIn:a,isMaxAmount:o,inputSource:ao.In}),Ht(e)}),Vt("setSwapAmountOut",(e,t,n)=>{let{amount:a}=n;e=Iu(e,{amountOut:a,isMaxAmount:!1,inputSource:ao.Out}),Ht(e)}),Vt("setSlippage",(e,t,n)=>{let{slippage:a}=n;return Iu(e,{slippage:a})}),Vt("estimateSwap",async()=>{await async function(){const e=Wt();if(!ku(e)&&!Qm)try{Qm=!0;const t=Cu.bind(void 0,e),n=await(async(e,t)=>{const{tokenInSlug:n,tokenOutSlug:o}=e.currentSwap,r=(!n||ga(n,!0))&&(!o||ga(o,!0))&&!(!n&&!o),i=3===e.swapVersion&&r;if(i!==Boolean(e.currentSwap.shouldShowAllPairs)&&(e=Iu(e,{shouldShowAllPairs:i||void 0}),Ht(e)),n&&!i){if(await async function(e){var t;await(0,c.fm)(()=>{const{swapTokenInfo:{isLoaded:t,bySlug:n}}=Wt();return!(!t&&!n[e])},500,100);let n=Wt();const o=n.swapTokenInfo.bySlug[e];if(!o)return;const r=Vm(o),i=qm[e];if(i&&Date.now()-i.timestamp<=jm)return;const s=await ee("swapGetPairs",r);let l;if(n=Wt(),s){const t="ton"===o.chain;l=s.reduce((e,n)=>{const r=ga(n.slug,!0),i=Number(t)+(r?1:0),s=!(2===i||1===i&&[o.slug,n.slug].includes(a.Tu9.slug));return e[n.slug]={...s&&{isMultichain:s},...n.isReverseProhibited&&{isReverseProhibited:n.isReverseProhibited}},e},{}),qm[e]={timestamp:Date.now()}}else l={};Ht({...n,swapPairs:{bySlug:{...null===(t=n.swapPairs)||void 0===t?void 0:t.bySlug,[e]:l}}})}(n),t())return;e=Wt()}var s;if(n&&o&&!(null===(s=e.swapPairs)||void 0===s||null===(s=s.bySlug)||void 0===s||null===(s=s[n])||void 0===s?void 0:s[o])&&!i)return{...Su(e),errorType:oo.InvalidPair};return Nu(e)?No(e)===ro.OnChain?async function(e){const t=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],n=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],o=va(wa(t.slug)),r=t.slug===a.Tu9.slug?t.symbol:t.tokenAddress,i=n.slug===a.Tu9.slug?n.symbol:n.tokenAddress,{fromAmount:s,isFromAmountMax:c}=function(e){const t=ko(e);let n=e.currentSwap.amountIn??"0",a=!1;if(e.currentSwap.amountIn&&No(e)===ro.OnChain&&e.currentSwap.inputSource===ao.In&&e.currentSwap.isMaxAmount){const o=Yn(e,t.slug);n=(0,zn.nI)(o,t.decimals),a=!0}return{fromAmount:n,isFromAmountMax:a}}(e),l=e.currentSwap.amountOut??"0",d=sn(e).byChain.ton.address,u=e.currentSwap.inputSource===ao.In?{fromAmount:s}:{toAmount:l},m=Gn(e),p=m<(0,zn.UH)(e.currentSwap.networkFee??"0",o.decimals),f=await ee("swapEstimate",e.currentAccountId,{...u,from:r,to:i,slippage:e.currentSwap.slippage,fromAddress:d,shouldTryDiesel:p,isFromAmountMax:c,toncoinBalance:(0,zn.nI)(m??0n,a.Tu9.decimals)});if(e=Wt(),!f||"error"in f){const t=Ym[null==f?void 0:f.error]??oo.UnexpectedError;return{...Su(e),errorType:t}}const h="0"===f.toAmount&&p?oo.NotEnoughForFee:void 0,g=function(e){return[{...N(e,["fromAmount","toAmount","toMinAmount","impact","dexLabel","networkFee","realNetworkFee","swapFee","swapFeePercent","ourFee","dieselFee","networkFee","routes"])},...e.other??[]].sort((e,t)=>e.dexLabel.localeCompare(t.dexLabel))}(f),v=function(e,t,n){if(0===t.length)throw new Error("Unexpected empty `newEstimates` array");const{tokenInSlug:a,currentDexLabel:o,isDexLabelChanged:r}=e.currentSwap;if(o&&r){const e=t.find(e=>{let{dexLabel:t}=e;return t===o});if(e)return e}const i=a?e.swapTokenInfo.bySlug[a]:void 0,s=a?Yn(e,a):void 0,c=a?ya(wa(a)):void 0,l=c&&Yn(e,c.slug);let d=t.filter(e=>function(e){if(!e.tokenIn||void 0===e.nativeTokenInBalance)return;const t=ya(wa(e.tokenIn.slug));if(!t)return;const n=(0,zn.UH)(e.variant.networkFee,t.decimals);if(e.nativeTokenInBalance>=n)return!0;if(e.variant.dieselFee){if(void 0===e.tokenInBalance)return;const t=(0,zn.UH)(e.variant.dieselFee,e.tokenIn.decimals);if(e.tokenInBalance>=t)return!0}return!1}({variant:e,tokenIn:i,tokenInBalance:s,nativeTokenInBalance:l}));return 0===d.length&&(d=t),d.find(e=>{let{dexLabel:t}=e;return t===n})??d[0]}(e,g,f.dexLabel);return{...Su(e),...e.currentSwap.inputSource===ao.In?{amountOut:v.toAmount}:{amountIn:v.fromAmount},...c?{amountIn:v.fromAmount}:void 0,bestRateDexLabel:f.dexLabel,amountOutMin:v.toMinAmount,priceImpact:v.impact,errorType:h,dieselStatus:f.dieselStatus,estimates:g,currentDexLabel:v.dexLabel,networkFee:v.networkFee,realNetworkFee:v.realNetworkFee,swapFee:v.swapFee,swapFeePercent:v.swapFeePercent,ourFee:v.ourFee,ourFeePercent:f.ourFeePercent,dieselFee:v.dieselFee}}(e):async function(e,t){var n;const o=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],r=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],i=Vm(o),s=Vm(r),c=e.currentSwap.amountIn??"0",l=No(e),d=await ee("swapCexEstimate",{fromAmount:c,from:i,to:s});if(t())return;if(e=Wt(),!d)return{...Su(e),errorType:window.navigator.onLine?oo.InvalidPair:oo.UnexpectedError};if("error"in d){const{error:t}=d;return t.includes("requests limit")?"rateLimited":{...Su(e),errorType:oo.UnexpectedError}}const u=null===(n=e.accounts)||void 0===n?void 0:n.byId[e.currentAccountId];let m,p,f=d.fromAmount;if(l===ro.CrosschainFromWallet){if("ton"!==o.chain&&"tron"!==o.chain)throw new Error(`Unexpected chain ${o.chain}`);const t={ton:u.byChain.ton.address,tron:a.jt9}[o.chain],n=await ee("checkTransactionDraft",o.chain,{accountId:e.currentAccountId,toAddress:t,tokenAddress:o.tokenAddress});n&&({networkFee:m,realNetworkFee:p}=function(e,t){const n=va(t);let a,o;return void 0!==(null==e?void 0:e.fee)&&(a=(0,zn.nI)(e.fee,n.decimals)),void 0!==(null==e?void 0:e.realFee)&&(o=(0,zn.nI)(e.realFee,n.decimals)),{networkFee:a,realNetworkFee:o}}(n,o.chain));const r=va(wa(o.slug)).slug===o.slug;if(e.currentSwap.isMaxAmount&&m&&r){const t=Yn(e,o.slug)-(0,zn.UH)(m,o.decimals);f=(0,zn.nI)(t,o.decimals)}}return{...Su(e),amountOut:"0"===d.toAmount?void 0:d.toAmount,amountIn:f,limits:{fromMin:d.fromMin,fromMax:d.fromMax},swapFee:d.swapFee,networkFee:m,realNetworkFee:p,ourFee:"0",ourFeePercent:0,dieselStatus:"not-available",amountOutMin:d.toAmount,errorType:(0,$n.z)(c).lt(d.fromMin)?oo.ChangellyMinSwap:(0,$n.z)(c).gt(d.fromMax)?oo.ChangellyMaxSwap:void 0}}(e,t):Su(e)})(e,()=>{const e=Wt();return ku(e)||!t(e)}),o=Wt();if(!t(o))return;if("rateLimited"===n)return;Ht(Iu(o,{isEstimating:!1,...ku(o)?void 0:n}))}finally{Qm=!1}}()}),Vt("setSwapScreen",(e,t,n)=>{let{state:a}=n;a===no.Initial&&(e=Iu(e,{swapId:(0,ht.A)()})),e=Iu(e,{state:a}),Ht(e)}),Vt("clearSwapError",e=>{e=Iu(e,{error:void 0}),Ht(e)}),Vt("setSwapCexAddress",(e,t,n)=>{let{toAddress:a}=n;e=Iu(e,{toAddress:a}),Ht(e)}),Vt("updatePendingSwaps",async e=>{const t=e.currentAccountId;if(!t)return;let{activities:n}=un(e,t)??{};if(!n)return;const a=Object.values(n.byId).filter(e=>Boolean("swap"===e.kind&&Ua(e)&&e.cex)).map(e=>{let{id:t}=e;return Aa(t).hash});if(!a.length)return;const o=await ee("fetchSwaps",t,a);if(null==o||!o.swaps.length)return;const{swaps:r,nonExistentIds:i}=o;if((e=Wt()).currentAccountId!==t)return;({activities:n}=un(e,t)??{});for(const e of o.swaps)e.isCanceled&&(e.shouldHide=!0);const s={};for(const e of i)s[e]={...n.byId[e],status:"expired",shouldHide:!0};e=hu(e,t,{activities:{...n,byId:{...n.byId,...s,...k(r,"id")}}}),Ht(e)}),Vt("setSwapDex",(e,t,n)=>{let{dexLabel:a}=n;const{estimates:o,bestRateDexLabel:r}=e.currentSwap,i=(o||[]).find(e=>e.dexLabel===a);i&&(e=Iu(e,{amountIn:i.fromAmount,amountOut:i.toAmount,amountOutMin:i.toMinAmount,networkFee:i.networkFee,realNetworkFee:i.realNetworkFee,swapFee:i.swapFee,swapFeePercent:i.swapFeePercent,ourFee:i.ourFee,dieselFee:i.dieselFee,priceImpact:i.impact,currentDexLabel:a,isDexLabelChanged:a!==r||void 0},!0),Ht(e))});let Qm=!1;Vt("loadPriceHistory",async(e,t,n)=>{const{slug:a,period:o,currency:r=e.settings.baseCurrency}=n??{},i=await ee("fetchPriceHistory",a,o,r);i&&(e=function(e,t,n){const{bySlug:a}=e.tokenPriceHistory;return{...e,tokenPriceHistory:{bySlug:{...a,[t]:{...a[t],...n}}}}}(e=Wt(),a,{[o]:i}),Ht(e))});const Xm=/^\w{26,}\./;function Zm(e){return Xm.test(e)}Vt("submitTransferInitial",async(e,t,n)=>{if(r.KI)return void au("submitTransferInitial",n);const{tokenSlug:a,toAddress:o,amount:i,comment:s,shouldEncrypt:c,nfts:l,withDiesel:d,stateInit:u,isGaslessWithStars:m,binPayload:p}=n;Ht(Du(e,!0));const f=Boolean(null==l?void 0:l.length);let h;if(f)h=await ee("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:l,toAddress:o,comment:s});else{const{tokenAddress:t,chain:n}=Xn(e,a);h=await ee("checkTransactionDraft",n,{accountId:e.currentAccountId,tokenAddress:t,toAddress:o,amount:i,data:p??s,shouldEncrypt:c,stateInit:u,isBase64Data:Boolean(p),allowGasless:!0})}var g,v;e=Du(e=Wt(),!1),h&&(e=Bu(e,h)),h&&!("error"in h)?Ht(xu(e,{state:Xa.Confirm,error:void 0,toAddress:o,resolvedAddress:h.resolvedAddress,amount:i,comment:s,shouldEncrypt:c,tokenSlug:a,isToNewAddress:h.isToAddressNew,withDiesel:d,isGaslessWithStars:m})):(Ht(e),(null===(g=h)||void 0===g?void 0:g.error)!==Zo.InsufficientBalance||f?t.showError({error:null===(v=h)||void 0===v?void 0:v.error}):t.showDialog({message:"The network fee has slightly changed, try sending again."}))}),Vt("fetchTransferFee",async(e,t,n)=>{var o;e=xu(e,{isLoading:!0,error:void 0}),Ht(e);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:c,binPayload:l,stateInit:d}=n,{tokenAddress:u,chain:m}=Xn(e,r),p=await ee("checkTransactionDraft",m,{accountId:e.currentAccountId,toAddress:i,data:l??s,tokenAddress:u,shouldEncrypt:c,isBase64Data:Boolean(l),stateInit:d,allowGasless:!0});if(!(r!==(e=Wt()).currentTransfer.tokenSlug||null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length)){if(e=xu(e,{isLoading:!1}),p&&(e=Bu(e,p)),Ht(e),null!=p&&p.error&&p.error!==Zo.InsufficientBalance&&t.showError({error:p.error}),(null==p?void 0:p.error)===Zo.InsufficientBalance){const t=sn(e),n=jn(e),{chain:o}=Xn(e,r);(function(e,t,n){var o;return!(null==e||null===(o=e.byChain[n])||void 0===o||!o.isMultisig)||"tron"===n&&t.some(e=>e.slug===a.QSz||"tron"===e.chain&&e.amount>0n&&e.slug!==a.X7T.slug)})(t,n,o)&&(e=xu(e=Wt(),{scamWarningType:Za.SeedPhrase}),Ht(e))}(null==p?void 0:p.error)!==Zo.DomainNotResolved&&Zm(i)&&(e=xu(e=Wt(),{scamWarningType:Za.DomainLike}),Ht(e))}}),Vt("fetchNftFee",async(e,t,n)=>{var a;const{toAddress:o,nfts:r,comment:i}=n;e=xu(e,{isLoading:!0,error:void 0}),Ht(e);const s=await ee("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:r,toAddress:o,comment:i});null!==(a=(e=Wt()).currentTransfer.nfts)&&void 0!==a&&a.length&&(e=xu(e,{isLoading:!1}),s&&(e=Bu(e,s)),Zm(o)&&(e=xu(e,{scamWarningType:Za.DomainLike})),Ht(e),null!=s&&s.error&&t.showError({error:(null==s?void 0:s.error)===Zo.InsufficientBalance?"Insufficient TON for fee.":s.error}))}),Vt("submitTransfer",async function(e,t){var n,o;let{password:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{resolvedAddress:i,comment:s,amount:c,promiseId:l,tokenSlug:d,shouldEncrypt:u,binPayload:m,nfts:p,withDiesel:f,diesel:h,stateInit:g,isGaslessWithStars:v}=e.currentTransfer;if(!await hm(Xa.ConfirmHardware,xu,r))return;if(l)return void await ee("confirmDappRequest",l,r);const y=Io((e=Wt()).currentTransfer),w=null===(n=y.fullFee)||void 0===n?void 0:n.nativeSum,b=null===(o=y.realFee)||void 0===o?void 0:o.nativeSum;let E;if(null!=p&&p.length){const t=function(e,t){const n=[];for(let a=0;a<e.length;a+=t)n.push(e.slice(a,a+t));return n}(p,fn(e)?1:a.gR8);for(const n of t){const t=await ee("submitNftTransfers",e.currentAccountId,r,n,i,s,b&&(0,Ao.fC)(b,p.length/n.length));e=xu(e=Wt(),{sentNftsCount:(e.currentTransfer.sentNftsCount||0)+n.length}),Ht(e),E=t}}else{const{tokenAddress:t,chain:n}=Xn(e,d),a={accountId:e.currentAccountId,password:r,toAddress:i,amount:c,comment:m??s,tokenAddress:t,fee:w,realFee:b,shouldEncrypt:u,isBase64Data:Boolean(m),withDiesel:f,dieselAmount:h&&Bo(h),stateInit:g,isGaslessWithStars:v,noFeeCheck:!0};E=await ee("submitTransfer",n,a)}gm(E,xu)&&(Ht(xu(Wt(),{state:Xa.Complete,txId:"activityIds"in E&&E.activityIds[0]||"activityId"in E&&E.activityId||void 0})),ga(d)&&t.fetchTransferDieselState({tokenSlug:d}))}),Vt("cancelTransfer",function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:a,tokenSlug:o}=e.currentTransfer;if(n)return a&&ee("cancelDappRequest",a,"Canceled by the user"),e=xu(e=_u(e),{tokenSlug:o}),void Ht(e);Cd()&&(e=uu(e)),e=xu(e,{state:Xa.None}),Ht(e)}),Vt("fetchTransferDieselState",async(e,t,n)=>{let{tokenSlug:o}=n;const r=function(e,t){if(t!==a.Tu9.slug)return Xn(e,t).tokenAddress}(e,o);if(!r)return;const i=await ee("fetchEstimateDiesel",e.currentAccountId,r);if(!i)return;const s=un(e=Wt(),e.currentAccountId);e=Lu(e,xu(e,{diesel:i})),null!=s&&s.isDieselAuthorizationStarted&&"not-authorized"!==i.status&&(e=hu(e,e.currentAccountId,{isDieselAuthorizationStarted:void 0})),Ht(e)}),Vt("checkTransferAddress",async(e,t,n)=>{let{address:a}=n;if(!a)return e=xu(e,{toAddressName:void 0,resolvedAddress:void 0}),void Ht(e);const o=rn(e),r=await ee("getAddressInfo",o,a);e=xu(e=Wt(),!r||"error"in r?{toAddressName:void 0,resolvedAddress:void 0}:{toAddressName:r.addressName,resolvedAddress:r.resolvedAddress}),Ht(e)});const Jm=r.KI?100:0;Vt("fetchNftsFromCollection",(e,t,n)=>{let{collectionAddress:a}=n;ee("fetchNftsFromCollection",e.currentAccountId,a)}),Vt("burnNfts",(e,t,n)=>{let{nfts:o}=n;t.startTransfer({isPortrait:_s(),nfts:o});const r=o.some(e=>e.collectionAddress===a.KmP);setTimeout(()=>{t.submitTransferInitial({tokenSlug:a.Tu9.slug,amount:0n,toAddress:r?a.WVU[0]:a.pV9,nfts:o})},Jm)}),Vt("addNftsToBlacklist",(e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=dn(e)||{};return o=M(o,a),r=M(r,a),fu(e,{blacklistedNftAddresses:[...o,...a],whitelistedNftAddresses:r})}),Vt("addNftsToWhitelist",(e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=dn(e)||{};return o=M(o,a),r=M(r,a),fu(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:[...r,...a]})}),Vt("removeNftSpecialStatus",(e,t,n)=>{let{address:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=dn(e)||{};return o=o.filter(e=>e!==a),r=r.filter(e=>e!==a),fu(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:r})}),Vt("openUnhideNftModal",(e,t,n)=>{let{address:a,name:o}=n;return fu(e,{isUnhideNftModalOpen:!0,selectedNftToUnhide:{address:a,name:o}})}),Vt("closeUnhideNftModal",e=>fu(e,{isUnhideNftModalOpen:void 0,selectedNftToUnhide:void 0})),Vt("openHideNftModal",(e,t,n)=>{let{addresses:a,isCollection:o}=n;return fu(e,{selectedNftsToHide:{addresses:a,isCollection:o}})}),Vt("closeHideNftModal",e=>fu(e,{selectedNftsToHide:void 0})),Vt("openNftAttributesModal",(e,t,n)=>{let{nft:a}=n;return fu(e,{currentNftForAttributes:a})}),Vt("closeNftAttributesModal",e=>fu(e,{currentNftForAttributes:void 0})),Vt("submitClaimingVesting",async function(e,t){let{password:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.currentAccountId,i=(e,t)=>rm(e,o,t);if(!await hm(lo.ConfirmHardware,i,n))return;if(r.bA)return void nu("submitClaimingVesting",{password:n});const s=En(e=Wt(),o),c={accountId:e.currentAccountId,password:n,toAddress:a.OKZ,amount:a.aEZ,comment:a.ZYg};gm(await ee("submitTransfer","ton",c),i)&&(e=rm(e=Wt(),o,{isConfirmRequested:void 0,unfreezeRequestedIds:s}),Ht(e),t.openVestingModal())}),Vt("loadMycoin",(e,t)=>{const{isTestnet:n}=e.settings;t.importToken({address:n?a.GX2.minterAddress:a.oUU.minterAddress})}),Vt("submitMintCard",async function(e,t){let{password:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.currentAccountId;if(!await hm(mo.ConfirmHardware,im,n))return;const r=function(e,t){const{currentAccountId:n,currentMintCard:o}=e,{config:r}=un(e,n),{cardsInfo:i}=r,s=i[o.type];return{accountId:n,password:t,toAddress:a.lnc,amount:(0,zn.UH)(s.price,a.Tu9.decimals),comment:a.sml}}(Wt(),n);gm(await ee("submitTransfer","ton",r),im)&&(e=hu(e=im(e=Wt(),{state:mo.Done}),o,{isCardMinting:!0}),Ht(e))}),Vt("checkCardNftOwnership",e=>{if(r.bA||a.TI6)return;const{byAccountId:t}=e.settings;Object.entries(t).forEach(async e=>{var t,n;let[a,o]=e;const r=null===(t=o.cardBackgroundNft)||void 0===t?void 0:t.address,i=null===(n=o.accentColorNft)||void 0===n?void 0:n.address;if(!r&&!i)return;const s=[r?ee("checkNftOwnership",a,r):void 0,i&&i!==r?ee("checkNftOwnership",a,i):void 0],[c,l]=await Promise.all(s);let d=Wt();r&&!1===c&&(d=vu(d,a,{cardBackgroundNft:void 0})),i&&(i===r&&!1===c||i!==r&&!1===l)&&(d=vu(d,a,{accentColorNft:void 0,accentColorIndex:void 0})),Ht(d)})});var ep=i(9705);function tp(e,t){let n=new ep.A;return function(){return n.resolve(e),n=new ep.A,Promise.race([t(...arguments),n.promise])}}function np(e,t){const n=e.pushNotifications.enabledAccounts,{[t]:a,...o}=n;return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:o}}}function ap(e){return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:{}}}}function op(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={...e.pushNotifications.enabledAccounts,[t]:n};return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}const rp=tp({aborted:!0},e=>ee("subscribeNotifications",e)),ip=tp({aborted:!0},e=>ee("unsubscribeNotifications",e));Vt("registerNotifications",async(e,t,n)=>{let{userToken:o,platform:r}=n;const{pushNotifications:i}=e;let s,c=Object.keys(i.enabledAccounts);const l=nn(e)||{};if(i.userToken||Xt(l))i.userToken!==o&&c.length&&([s]=await Promise.all([ee("subscribeNotifications",{userToken:o,platform:r,addresses:Object.values(ad(e,c))}),ee("unsubscribeNotifications",{userToken:i.userToken,addresses:Object.values(ad(e,c))})]));else{const t=ad(e,Object.keys(l),a.vdF);c=Object.keys(t),s=await ee("subscribeNotifications",{userToken:o,platform:r,addresses:Object.values(t)})}if(e=Wt(),e={...e,pushNotifications:{...e.pushNotifications,userToken:o,platform:r}},!s||"error"in s)return void Ht(e);const d=c.reduce((e,t)=>{var n;const a=null===(n=l[t].byChain.ton)||void 0===n?void 0:n.address;return a&&(e[t]=s.addressKeys[a]),e},{});Ht({...e,pushNotifications:{...e.pushNotifications,enabledAccounts:d}})}),Vt("deleteNotificationAccount",async(e,t,n)=>{let{accountId:a,withAbort:o}=n;const{userToken:r,enabledAccounts:i}=e.pushNotifications,s=i[a];if(!r)return;Ht(np(e,a));const c=Object.values(ad(e,[a]));if(0===c.length)return;const l={userToken:r,addresses:c},d=o?await ip(l):await ee("unsubscribeNotifications",l);d&&"aborted"in d||(e=Wt(),Ht(d&&"ok"in d?np(e,a):op(e,a,s)))}),Vt("createNotificationAccount",async(e,t,n)=>{let{accountId:a,withAbort:o}=n;const{userToken:r,platform:i}=e.pushNotifications;if(!r||!i)return;const s=Object.values(ad(e,[a]));if(!s.length)return;Ht(op(e,a,{}));const c={userToken:r,platform:i,addresses:s},l=o?await rp(c):await ee("subscribeNotifications",c);l&&"aborted"in l||(e=Wt(),Ht(l&&"ok"in l?function(e,t,n){const a=e.pushNotifications.enabledAccounts;return a[t]={...a[t],...n},{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}(e,a,l.addressKeys[s[0].address]):np(e,a)))}),Vt("toggleNotifications",async(e,t,n)=>{let{isEnabled:o}=n;const{enabledAccounts:r={},userToken:i="",platform:s,isAvailable:c}=e.pushNotifications;if(!c)return;let l;if(o){l=ad(e,Object.keys(nn(e)||{}),a.vdF);for(const t of Object.keys(l))e=op(e,t,{})}else l=ad(e,Object.keys(r)),e=ap(e);if(Ht(e),Xt(l))return;const d={userToken:i,addresses:Object.values(l),platform:s},u=o?await rp(d):await ip(d);if(!u||!("aborted"in u))if(e=Wt(),u&&"ok"in u){if(o&&"addressKeys"in u){const t=u.addressKeys;for(const[n,{address:a}]of Object.entries(l))t[a]&&(e=op(e,n,t[a]))}Ht(e)}else{if(o)e=ap(e);else for(const t of Object.keys(l))e=op(e,t,r[t]);Ht(e)}});const sp={},cp={};async function lp(e,t){await function(e){return cp[e]||=(0,c.fm)(()=>{var t;const n=Wt();return!cn(n,e)||void 0!==(null===(t=un(n,e))||void 0===t||null===(t=t.activities)||void 0===t?void 0:t.idsMain)},od,60),cp[e]}(e);let n=Wt();if(ja(n,e,t))return;let a=[],o=function(e,t,n){var a;const o=null===(a=un(e,t))||void 0===a?void 0:a.activities;if(!o)return;const{byId:r,idsMain:i,idsBySlug:s}=o,c=function(e,t){let n=e.length;for(;n--;)if(t(e[n]))return e[n]}((n?null==s?void 0:s[n]:i)||[],e=>xa(r[e]));return c?r[c].timestamp:void 0}(n,e,t),r=!0,i=!1;for(;r;){const s=await ee("fetchPastActivities",e,50,t,o);if(!s)return;if(n=Wt(),!s.length){i=!0;break}const{areTinyTransfersHidden:c}=n.settings,l=s.filter(e=>!("transaction"===e.kind&&(ra(e)||c&&$m(e))));a=ju(a,s),r=l.length<50&&a.length<50,o=s[s.length-1].timestamp}n=Zu(n,e,t,a,i),Ht(n)}function dp(e,t,n){(function(e,t){if(!e.length)return!0;const n=e.findIndex(vm);return gm(e[n>=0?n:0],t)})(e,t)&&Ht(t(Wt(),{state:n,...1===e.length?{txId:e[0]}:void 0}))}Vt("fetchPastActivities",(e,t,n)=>{let{slug:a,shouldLoadWithBudget:o}=n;const r=e.currentAccountId,i=`${r} ${a??"__main__"}`;sp[i]||=(0,c.nF)(lp.bind(void 0,r,a),200,!0),sp[i](),o&&sp[i]()}),Vt("fetchActivityDetails",async(e,t,n)=>{var a;let{id:o}=n;const r=e.currentAccountId,i=null===(a=un(e,r))||void 0===a||null===(a=a.activities)||void 0===a?void 0:a.byId[o];if(null==i||!i.shouldLoadDetails)return;const s=await ee("fetchActivityDetails",r,i);s&&(e=function(e,t,n){const{id:a}=n,{activities:o}=un(e,t)||{},{byId:r}=o??{};return r&&a in r?hu(e,t,{activities:{...o,byId:{...r,[a]:n}}}):e}(Wt(),r,s),Ht(e))}),Vt("checkDomainsRenewalDraft",async(e,t,n)=>{let{nfts:a}=n;const o=e.currentAccountId,r=await ee("checkDnsRenewalDraft",o,a);r&&!("error"in r)?(e=sm(e=Wt(),{realFee:r.realFee}),Ht(e)):t.showError({error:null==r?void 0:r.error})}),Vt("submitDomainsRenewal",async function(e,t){var n;let{password:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.currentAccountId,r=null===(n=dn(e))||void 0===n||null===(n=n.nfts)||void 0===n?void 0:n.byAddress;if(!r)return;const i=e.currentDomainRenewal.addresses,s=e.currentDomainRenewal.realFee,c=i.map(e=>r[e]).filter(Boolean);c.length&&await hm(eo.ConfirmHardware,sm,a)&&dp((await ee("submitDnsRenewal",o,a,c,s)??[void 0]).map(e=>e&&"activityIds"in e?e.activityIds[0]:e),sm,eo.Complete)}),Vt("checkDomainLinkingDraft",async(e,t,n)=>{let{nft:a}=n;const o=e.currentAccountId,r=sn(e).byChain.ton.address,i=await ee("checkDnsChangeWalletDraft",o,a,r);i&&!("error"in i)?(e=cm(e=Wt(),{realFee:i.realFee}),Ht(e)):t.showError({error:null==i?void 0:i.error})}),Vt("submitDomainLinking",async function(e,t){var n;let{password:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.currentAccountId,r=rn(e),i=null===(n=dn(e))||void 0===n||null===(n=n.nfts)||void 0===n?void 0:n.byAddress,s=e.currentDomainLinking.address,c=e.currentDomainLinking.realFee,l=null==i?void 0:i[s],d=e.currentDomainLinking.walletAddress,u=await ee("getAddressInfo",r,d);if(u&&"error"in u)return void t.showError({error:u.error});if(!l||!u||"resolvedAddress"in u&&!u.resolvedAddress)return;if(!await hm(to.ConfirmHardware,cm,a))return;const m=await ee("submitDnsChangeWallet",o,a,l,u.resolvedAddress,c);dp([m&&"activityId"in m?m.activityId:m],cm,to.Complete)}),Vt("checkLinkingAddress",async(e,t,n)=>{let{address:a}=n;if(!a)return e=cm(e,{walletAddressName:void 0,resolvedWalletAddress:void 0}),void Ht(e);const o=rn(e),r=await ee("getAddressInfo",o,a);e=cm(e=Wt(),!r||"error"in r?{walletAddressName:void 0,resolvedWalletAddress:void 0}:{walletAddressName:r.addressName,resolvedWalletAddress:r.resolvedAddress}),Ht(e)}),Vt("apiUpdate",(e,t,n)=>{switch(n.type){case"updateBalances":e=function(e,t,n,o){var r,i;const s={...o},c=(null===(r=un(e,t))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{};for(const[e,t]of Object.entries(c))wa(e)!==n&&(s[e]=t);const l=(null===(i=mn(e,t))||void 0===i?void 0:i.importedSlugs)??[],d=rn(e);for(const e of[...a.Fgn[d],...l])wa(e)!==n||e in s||(s[e]=0n);return hu(e,t,{balances:{bySlug:s}})}(e,n.accountId,n.chain,n.balances),Ht(e);break;case"updateStaking":{var o;const{accountId:t,states:r,totalProfit:i,shouldUseNominators:s}=n,c=k(r,"id");e=Pu(e=function(e,t){return{...e,stakingDefault:t}}(e,{...c[a.USn.id],balance:0n,unstakeRequestAmount:0n,tokenBalance:0n}),t,{stateById:c,shouldUseNominators:s,totalProfit:i});const{stakingId:l}=(null===(o=un(e,t))||void 0===o?void 0:o.staking)??{};if(!l){const n=[...r].sort((e,t)=>Number(t.balance-e.balance))[0];n&&n.balance>0n?e=Pu(e,t,{stakingId:n.id}):s&&c.nominators&&(e=Pu(e,t,{stakingId:c.nominators.id}))}Ht(e);break}case"updateTokens":{const{tokens:t}=n;e=function(e,t){var n;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug;return t[a.Tu9.slug].priceUsd||(t=Object.values(t).reduce((e,t)=>{const n=null==r?void 0:r[t.slug];return e[t.slug]={...t,priceUsd:(null==n?void 0:n.priceUsd)??t.priceUsd,percentChange24h:(null==n?void 0:n.percentChange24h)??t.percentChange24h},e},{})),o&&r&&su(r,t)?e:{...e,tokenInfo:{...e.tokenInfo,bySlug:{...r,...t}}}}(e,t,!0),Ht(e);break}case"updateSwapTokens":e=function(e,t){var n;const a=null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug;return{...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...a,...t},isLoaded:!0}}}(e,n.tokens),Ht(e);break;case"updateCurrencyRates":e=function(e,t){return{...e,currencyRates:t}}(e,n.rates),Ht(e);break;case"updateNfts":{var i;const{accountId:o,shouldAppend:r}=n,s=k(n.nfts,"address"),c=null===(i=un(e,o))||void 0===i?void 0:i.nfts,l=Object.keys(s);e=hu(e,o,{nfts:{...c,byAddress:{...s,...null==c?void 0:c.byAddress},orderedAddresses:T(r?[].concat((null==c?void 0:c.orderedAddresses)??[],l):[].concat(l,(null==c?void 0:c.orderedAddresses)??[]))}}),a.TI6||n.nfts.forEach(t=>{t.collectionAddress===a.qL&&(e=om(e,t))}),n.nfts.some(e=>e.isTelegramGift)&&t.addCollectionTab({collectionAddress:a.X6R,isAuto:!0}),Ht(e),t.checkCardNftOwnership();break}case"nftSent":{const{accountId:o,nftAddress:r,newOwnerAddress:i}=n,s=kn(e,o,r);e=function(e,t,n){const a=un(e,t).nfts,o=((null==a?void 0:a.orderedAddresses)??[]).filter(e=>e!==n),r=((null==a?void 0:a.selectedAddresses)??[]).filter(e=>e!==n),{[n]:i,...s}=(null==a?void 0:a.byAddress)??{};return hu(e,t,{nfts:{...a,byAddress:s,orderedAddresses:o,selectedAddresses:r}})}(e,o,r),(null==s?void 0:s.collectionAddress)===a.qL&&(s.ownerAddress=i,e=om(e,s)),Ht(e),t.checkCardNftOwnership();break}case"nftReceived":{const{accountId:o,nft:r}=n;e=nm(e,o,r),Ht(e),a.TI6||(t.checkCardNftOwnership(),r.collectionAddress===a.qL&&(t.setCardBackgroundNft({nft:r}),t.installAccentColorFromNft({nft:r})));break}case"nftPutUpForSale":{const{accountId:t,nftAddress:a}=n;e=am(e,t,a,{isOnSale:!0}),Ht(e);break}case"updateAccount":{const{accountId:t,chain:a,domain:o,address:r,isMultisig:i}=n,s=cn(e,t);if(null==s||!s.byChain[a])break;const c={};r&&(c.address=r),void 0!==o&&(c.domain=o||void 0),void 0!==i&&(c.isMultisig=i||void 0),e=function(e,t,n,a){var o;const r=cn(e,t);if(!r)throw new Error(`Account ${t} doesn't exist`);const i=r.byChain[n];if(!i)throw new Error(`Account ${t} doesn't have the ${n} chain`);const s={...r,byChain:{...r.byChain,[n]:{...i,...a}}};return{...e,accounts:{...e.accounts,byId:{...null===(o=e.accounts)||void 0===o?void 0:o.byId,[t]:s}}}}(e,t,a,c),Ht(e);break}case"updateConfig":{const{isLimited:t,isCopyStorageEnabled:o,supportAccountsCount:i,countryCode:s,isAppUpdateRequired:c,swapVersion:l}=n,d=r.ZH&&t||a.TI6;e=function(e,t){return{...e,restrictions:{...e.restrictions,...t}}}(e,{isLimitedRegion:t,isSwapDisabled:d,isOnRampDisabled:d,isNftBuyingDisabled:d,isCopyStorageEnabled:o,supportAccountsCount:i,countryCode:s}),e={...e,isAppUpdateRequired:a.TI6?void 0:c,swapVersion:l??a.AuB},Ht(e);break}case"updateWalletVersions":r.KI&&au("apiUpdateWalletVersions",n),t.apiUpdateWalletVersions(n);break;case"openUrl":Il(n.url,{isExternal:n.isExternal,title:n.title,subtitle:n.subtitle});break;case"requestReconnectApi":t.initApi();break;case"incorrectTime":e.isIncorrectTimeNotificationReceived||t.showIncorrectTimeError();break;case"updateVesting":{const{accountId:t,vestingInfo:a}=n,o=En(e,t);e=function(e,t,n){return rm(e,t,{info:n})}(e,t,a),iu(o,En(e,t))||(e=rm(e,t,{unfreezeRequestedIds:void 0})),Ht(e);break}case"updatingStatus":{const{kind:t,accountId:a,isUpdating:o}=n,r="balance"===t?"balanceUpdateStartedAt":"activitiesUpdateStartedAt",i=un(e,a);if(o&&null!=i&&i[r])break;Ht(hu(e,a,{[r]:o?Date.now():void 0}));break}case"migrateCoreApplication":{const{accountId:a,isTestnet:o,address:r,secondAddress:i,secondAccountId:s,isTonProxyEnabled:c,isTonMagicEnabled:l}=n;e=mu({global:e=gu(e,{isTestnet:o}),accountId:a,type:"mnemonic",byChain:{ton:{address:r}}}),e=mu({global:e,accountId:s,type:"mnemonic",byChain:{ton:{address:i}},network:o?"mainnet":"testnet"}),Ht(e),requestAnimationFrame(()=>{t.tryAddNotificationAccount({accountId:a}),t.switchAccount({accountId:a,newNetwork:o?"testnet":"mainnet"}),t.afterSignIn(),l&&t.toggleTonMagic({isEnabled:!0}),c&&t.toggleTonProxy({isEnabled:!0})});break}case"updateAccountConfig":{const{accountConfig:t,accountId:a}=n;e=hu(e,a,{config:t}),Ht(e);break}case"updateAccountDomainData":{var s;const{accountId:t,expirationByAddress:a,linkedAddressByAddress:o,nfts:r}=n,i=(null===(s=un(e,t))||void 0===s?void 0:s.nfts)||{byAddress:{}};e=function(e,t,n){var a;if(!n||Xt(n))return e;const{byAddress:o}=(null===(a=un(e,t))||void 0===a?void 0:a.nfts)||{byAddress:{}};return Object.values(n).forEach(n=>{const a=null==o?void 0:o[n.address];e=a?am(e,t,n.address,n):nm(e,t,n,!0)}),e}(e=hu(e,t,{nfts:{...i,dnsExpiration:a,linkedAddressByAddress:o}}),t,r),Ht(e);break}}});const up=(0,t.F3)("NativeAudio",{web:()=>i.e(477).then(i.bind(i,4477)).then(e=>new e.NativeAudioWeb)}),mp=i.p+"incoming-transaction.4ddd93d8f1ec1c4e2651.mp3",pp=xo.Z2,fp=new(window.AudioContext||window.webkitAudioContext);let hp,gp=a.UMQ||"running"===fp.state;function vp(){gp||fp.resume().then(()=>{gp=!0}).catch(e=>{(0,o.SJ)("appSounds:initializeSounds",e)})}!async function(){const e={assetId:"incomingTransactionSound",assetPath:"public/incoming-transaction.mp3",audioChannelNum:1,isUrl:!1};if(a.UMQ){if(await up.isPreloaded(e))return;up.preload(e).catch(e=>{(0,o.SJ)("appSounds:loadSound",e)})}else fetch(mp).then(e=>e.arrayBuffer()).then(e=>fp.decodeAudioData(e)).then(e=>{hp=e}).catch(e=>{(0,o.SJ)("appSounds:loadSound",e)})}();const yp=(0,c.sg)(()=>{if(r.bA)return;if(!gp)return void(0,o.MD)("appSounds:playIncomingTransactionSound","sound is not initialized");if(a.UMQ)return void up.play({assetId:"incomingTransactionSound"}).catch(e=>{(0,o.SJ)("appSounds:playIncomingTransactionSound",e)});if(!hp)return void(0,o.MD)("playIncomingTransactionSound","audioBuffer is not loaded");const e=fp.createBufferSource();e.buffer=hp,e.connect(fp.destination),e.start(0)},pp,!0,!1);Vt("apiUpdate",(e,t,n)=>{switch(n.type){case"initialActivities":{const{accountId:t,mainActivities:a,bySlug:o,chain:r}=n;aa(a),e=function(e,t,n,a,o){const{activities:r}=un(e,t)||{};let{byId:i,idsMain:s,areInitialActivitiesLoaded:c}=r||{};i={...i,...k(n,"id")},c={...c,[o]:!0},s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const o=Math.max(...n.map(t=>t.length?e[t[t.length-1]].timestamp:-1/0)),r=t=>e[t].timestamp>=o;return Yu(e,...n.map(e=>e.filter(r)))}(i,O(n,"id"),s??[]),0!==s.length||function(e,t,n){var a;const o=(null===(a=ln(e,t))||void 0===a?void 0:a.byChain)??{};return Object.keys(o).every(e=>n[e])}(e,t,c)||(s=void 0),e=hu(e,t,{activities:{...r,idsMain:s,byId:i,areInitialActivitiesLoaded:c}});for(const[n,o]of Object.entries(a))e=Zu(e,t,n,o,0===o.length);return e}(e,t,a,o,r),Ht(e),async function(e,t){var n;await(0,c.fm)(()=>!!Qn(Wt(),e),od,10);const a=Wt(),o=(Qn(a,e)??[]).slice(0,10).filter(e=>wa(e.slug)===t),{idsBySlug:r}=(null===(n=un(a,e))||void 0===n?void 0:n.activities)||{},{fetchPastActivities:i}=$t();for(const{slug:e}of o)void 0===(null==r?void 0:r[e])&&i({slug:e})}(t,r);break}case"newLocalActivities":{const{accountId:t,activities:a}=n,o=function(e,t,n){const a=function(e,t,n){var a;const{byId:o={},idsMain:r=[]}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=[];for(const e of r){if(i.length>=n)break;if(Ia(e))continue;const t=o[e];t&&i.push(t)}return i}(e,t,n.length+20);return Wa(n,a)}(e,t,a);!function(e,t){for(const n of e)n.id in t&&(n.shouldHide=!0)}(a,o),e=function(e,t,n,a){const o=un(e,t),r=null==o?void 0:o.activities;if(null==r||!r.byId)return e;const i={...r.byId};for(const e of n){const t=a[e.id];if(t&&"pendingTrusted"===e.status){const e=r.byId[t];"pending"===(null==e?void 0:e.status)&&(i[t]={...e,status:"pendingTrusted"})}}return hu(e,t,{activities:{...r,byId:i}})}(e,t,a,o),e=Xu(e,t,a),Ht(e);break}case"newActivities":{r.KI&&!n.noForward&&au("apiUpdate",{...n,noForward:!0}),r.bA&&!n.noForward&&nu("apiUpdate",{...n,noForward:!0});const{accountId:t,activities:o,pendingActivities:i,chain:s}=n,c=[...Ka(e,t),...s?qa(e,t,s):[]],l=Wa(c,[...i??[],...o]);e=function(e,t,n){var a;return hu(e,t,{currentActivityId:Sl(null===(a=un(e,t))||void 0===a?void 0:a.currentActivityId,n)})}(e=function(e,t){return Iu(e,{activityId:Sl(e.currentSwap.activityId,t)})}(e=function(e,t){return sm(e,{txId:Sl(e.currentDomainRenewal.txId,t)})}(e=function(e,t){return cm(e,{txId:Sl(e.currentDomainLinking.txId,t)})}(e=function(e,t){return xu(e,{txId:Sl(e.currentTransfer.txId,t)})}(e=Xu(e=function(e,t,n,a,o,r){if(!n||void 0===a)return e;const i=F(o),s=k(r,"id");return e=function(e,t,n,a){var o;const{pendingActivityIds:r}=(null===(o=un(e,t))||void 0===o?void 0:o.activities)||{};return Xu(e=Ju(e,t,(null==r?void 0:r[n])??[]),t,a,n)}(e,t,n,a.map(e=>{const t=i[e.id],n=t?s[t]:void 0;return n&&"pendingTrusted"===n.status?{...e,status:"pendingTrusted"}:e})),e}(e=Ju(e,t,Object.keys(l)),t,s,i,l,c),t,o),l),l),l),l),t,l),function(e,t){if(!e.settings.canPlaySounds)return;t.some(t=>{var n;return"transaction"===t.kind&&t.isIncoming&&"completed"===t.status&&Date.now()-t.timestamp<6e4&&!(e.settings.areTinyTransfersHidden&&$m(t,null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug[t.slug]))&&!ra(t)})&&yp()}(e,o),aa(o),a.TI6||(e=function(e,t,n){const{isCardMinting:o}=un(e,t)||{};if(!o||!n.length)return e;const r=n.find(e=>{var t;return"transaction"===e.kind&&e.isIncoming&&(null==e||null===(t=e.nft)||void 0===t?void 0:t.collectionAddress)===a.qL}),i=n.find(e=>"transaction"===e.kind&&e.isIncoming&&e.fromAddress===a.lnc&&(null==e?void 0:e.comment)===a.pyN);if(r){const n=r.nft;e=nm(e=hu(e,t,{isCardMinting:void 0}),t,n),$t().setCardBackgroundNft({nft:n}),$t().installAccentColorFromNft({nft:n})}else i&&(e=hu(e,t,{isCardMinting:void 0}));return e}(e,t,o)),Ht(e);break}}}),Vt("apiUpdate",(e,t,n)=>{switch(n.type){case"tonConnectOnline":t.closeLoadingOverlay();break;case"createTransaction":{const{promiseId:t,amount:o,toAddress:r,comment:i,rawPayload:s,stateInit:c,checkResult:l}=n;e=Bu(e=xu(e=_u(e),{state:Xa.Confirm,toAddress:r,resolvedAddress:l.resolvedAddress,isToNewAddress:l.isToAddressNew,amount:o,comment:i,promiseId:t,tokenSlug:a.Tu9.slug,rawPayload:s,stateInit:c}),l),Ht(e);break}case"completeTransaction":{const{activityId:t}=n;Ht(xu(e,{state:Xa.Complete,txId:t}));break}case"createSignature":{const{promiseId:t,dataHex:a}=n;e=Mu(e=function(e){return{...e,currentSignature:void 0}}(e),{promiseId:t,dataHex:a}),Ht(e);break}case"showError":{const{error:e}=n;t.showError({error:e});break}case"dappConnect":r.KI&&au("apiUpdateDappConnect",n),t.apiUpdateDappConnect(n);break;case"dappConnectComplete":e=Uu(e),Ht(e);break;case"dappDisconnect":{var o;const{url:t}=n;(null===(o=e.currentDappTransfer.dapp)||void 0===o?void 0:o.url)===t&&(e=Hu(e),Ht(e));break}case"dappLoading":r.KI&&au("apiUpdateDappLoading",n),t.apiUpdateDappLoading(n);break;case"dappCloseLoading":r.KI&&au("apiUpdateDappCloseLoading",n),t.apiUpdateDappCloseLoading(n);break;case"dappSendTransactions":r.KI&&au("apiUpdateDappSendTransaction",n),t.apiUpdateDappSendTransaction(n);break;case"dappSignData":r.KI&&au("apiUpdateDappSignData",n),t.apiUpdateDappSignData(n);break;case"updateDapps":r.KI&&au("getDapps"),t.getDapps();break;case"prepareTransaction":{const{amount:t,toAddress:o,comment:r,binPayload:i}=n;e=xu(e=_u(e),{state:Xa.Initial,toAddress:o,amount:t??0n,comment:r,tokenSlug:a.Tu9.slug,binPayload:i}),Ht(e);break}case"processDeeplink":{const{url:e}=n;$l(e);break}case"dappTransferComplete":r.KI&&au("apiUpdate",n),e.currentDappTransfer.state!==Xa.None&&(e=Wu(e,{state:Xa.Complete,isLoading:!1}),Ht(e));break;case"dappSignDataComplete":r.KI&&au("apiUpdate",n),e.currentDappSignData.state!==Ja.None&&(e=$u(e,{state:Ja.Complete,isLoading:!1}),Ht(e))}}),Vt("openAbout",e=>{Ht(cu(e,{state:Ga.about,error:void 0}))}),Vt("closeAbout",e=>{Ht(cu(e,{state:Ga.none,error:void 0}))}),Vt("openDisclaimer",e=>{Ht(cu(e,{state:Ga.disclaimer,error:void 0}))}),Vt("closeDisclaimer",e=>{Ht(cu(e,{state:Ga.none,error:void 0}))}),Vt("startImportViewAccount",e=>{Ht(cu(e,{state:Ga.importViewAccount,error:void 0}))}),Vt("closeImportViewAccount",e=>{Ht(cu(e,{state:Ga.none,error:void 0}))}),Vt("openAuthImportWalletModal",e=>{e=cu(e,{isImportModalOpen:!0}),Ht(e)}),Vt("closeAuthImportWalletModal",e=>{r.bA&&nu("closeAuthImportWalletModal"),e=cu(e,{isImportModalOpen:void 0}),Ht(e)}),Vt("cleanAuthError",e=>{Ht(cu(e,{error:void 0}))}),Vt("openHardwareWalletModal",(e,t,n)=>{let{chain:a}=n;return e=dm(e,a,!0),{...e,isHardwareModalOpen:!0}}),Vt("closeHardwareWalletModal",e=>({...e,isHardwareModalOpen:!1}));const wp=[a.dnp,a.zHL,a.zP3];function bp(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||wp.forEach(t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)})}Vt("init",(e,t)=>{(0,we.RK)(()=>{const{documentElement:e}=document;r.pz?e.classList.add("is-ios","is-mobile"):r.Ni?(e.classList.add("is-android","is-mobile"),r.xy&&e.classList.add("is-android-app")):r.MP?e.classList.add("is-macos"):r.H8?e.classList.add("is-windows"):r.ig&&e.classList.add("is-linux"),r.Yw&&e.classList.add("is-safari"),r.By&&e.classList.add("is-opera"),a.hL1&&e.classList.add("is-extension"),r.cp&&e.classList.add("is-electron"),a.tKX&&e.classList.add("is-telegram-app"),(0,r.v3)()&&e.classList.add("is-mobile-telegram-app"),r.bA&&e.classList.add("is-native-bottom-sheet"),(0,r.Kc)(),t.afterInit()})}),Vt("afterInit",e=>{const{theme:n,animationLevel:r,langCode:i,authConfig:s}=e.settings;Es(n),bp(r),Ns({forceDarkBackground:!1}),zi(i),function(){const e=a.CV.replace(/\d+$/,""),t=Number((a.CV.match(/\d+$/)||[0])[0]);for(let n=0;n<t;n++)Ci(`${e}${0===n?"":n}`)}(),a.UMQ?async function(e){const n=!!e&&"native-biometrics"===e.kind,a=await Go.isAvailable({isWeakAuthenticatorAllowed:n,useFallback:!1});ud=a.isAvailable,md=a.biometryType===jo.FACE_ID,pd=a.biometryType===jo.TOUCH_ID,async function(e){const n=t.Ii.isPluginAvailable("PushNotifications");if(Ht({...e,pushNotifications:{...e.pushNotifications,isAvailable:n}}),!n)return;await nd.addListener("pushNotificationActionPerformed",cd),await nd.addListener("registration",ld),await nd.addListener("registrationError",e=>{(0,o.SJ)("Registration error: ",e.error)});let a=await nd.checkPermissions();"prompt-with-rationale"!==a.receive&&("prompt"===a.receive&&(a=await nd.requestPermissions()),"granted"===a.receive&&await nd.register())}(Wt())}(s):(a.tKX&&function(e){e.isFullscreen&&gr.requestFullscreen(),gr.onEvent("fullscreenChanged",Ar),gr.onEvent("fullscreenFailed",Ir)}(e),document.addEventListener("click",vp,{once:!0}))}),Vt("afterSignIn",(e,t)=>{Ht({...e,appState:Ya.Main}),setTimeout(()=>{t.resetAuth(),Wl&&($l(Wl),Wl=void 0)},320)}),Vt("afterSignOut",(e,t,n)=>{var a;null!=n&&n.shouldReset&&("native-biometrics"===(null===(a=e.settings.authConfig)||void 0===a?void 0:a.kind)&&Hr(),t.setInMemoryPassword({password:void 0,force:!0}),t.resetApiSettings({areAllDisabled:!0}))}),Vt("showDialog",(e,t,n)=>{const a=[...e.dialogs],o=a.findIndex(e=>e.message===n.message);return-1!==o&&a.splice(o,1),a.push(n),{...e,dialogs:a}}),Vt("dismissDialog",e=>{r.KI&&au("dismissDialog");const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}}),Vt("selectToken",function(e,t){let{slug:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const o=n===a.Tu9.slug,r=Eo(e);(o||null!=r&&r.some(e=>e.slug===n))&&(o?t.setDefaultSwapParams({tokenInSlug:a.rKC,tokenOutSlug:n}):t.setDefaultSwapParams({tokenOutSlug:n}),t.changeTransferToken({tokenSlug:n}))}else{var o;const n=e.byAccountId[e.currentAccountId].currentTokenSlug,r=e.currentSwap.tokenOutSlug===a.JhS&&e.currentSwap.tokenInSlug===a.rKC;e.currentSwap.tokenOutSlug===n&&(e.currentSwap.tokenInSlug===a.JhS&&e.currentSwap.tokenOutSlug!==a.rKC||r)&&t.setDefaultSwapParams({tokenInSlug:void 0,tokenOutSlug:void 0,withResetAmount:!0}),e.currentTransfer.tokenSlug===n&&e.currentTransfer.tokenSlug!==a.ScF&&(null===(o=e.currentTransfer.nfts)||void 0===o||!o.length)&&t.changeTransferToken({tokenSlug:a.ScF,withResetAmount:!0})}return fu(e,{currentTokenSlug:n})}),Vt("showError",function(e,t){let{error:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.bA?nu("showError",{error:n}):t.showDialog({message:void 0===n||"string"==typeof n?fm(n):n})}),Vt("showNotification",(e,t,n)=>{if(r.bA)return void nu("showNotification",n);const{message:a,icon:o}=n,i=[...e.notifications],s=i.findIndex(e=>e.message===a);return-1!==s&&i.splice(s,1),i.push({message:a,icon:o}),{...e,notifications:i}}),Vt("dismissNotification",e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}}),Vt("toggleTonProxy",(e,t,n)=>{let{isEnabled:a}=n;return ee("doProxy",a),{...e,settings:{...e.settings,isTonProxyEnabled:a}}}),Vt("toggleTonMagic",(e,t,n)=>{let{isEnabled:a}=n;return ee("doMagic",a),{...e,settings:{...e.settings,isTonMagicEnabled:a}}}),Vt("toggleDeeplinkHook",(e,t,n)=>{let{isEnabled:a}=n;var o;return r.cp?null===(o=window.electron)||void 0===o||o.toggleDeeplinkHandler(a):ee("doDeeplinkHook",a),{...e,settings:{...e.settings,isDeeplinkHookEnabled:a}}}),Vt("signOut",async(e,t,n)=>{var a;r.bA&&nu("signOut",n);const{level:o}=n,i=rn(e),s=on(e),c=Object.keys(s),l="account"!==o,d="mainnet"===i?"testnet":"mainnet";let u=Object.keys(an(d,null===(a=e.accounts)||void 0===a?void 0:a.byId));if("all"===o&&u.length>0&&(await ee("removeNetworkAccounts",d),u=[]),l||1===c.length)if(t.deleteAllNotificationAccounts({accountIds:c}),u.length){await ee("removeNetworkAccounts",i),e=Wt();const n=u[0],a=Object.entries(e.accounts.byId).reduce((e,t)=>{let[n,a]=t;return jt(n).network!==i&&(e[n]=a),e},{}),o=Object.entries(e.byAccountId).reduce((e,t)=>{let[n,a]=t;return jt(n).network!==i&&(e[n]=a),e},{}),r=Object.entries(e.settings.byAccountId).reduce((e,t)=>{let[n,a]=t;return jt(n).network!==i&&(e[n]=a),e},{});e=bu(e,n),e={...e,accounts:{...e.accounts,byId:a},byAccountId:o,settings:{...e.settings,byAccountId:r}},Ht(e),t.switchAccount({accountId:n,newNetwork:d}),t.closeSettings(),t.afterSignOut()}else await ee("resetAccounts"),t.afterSignOut({shouldReset:!0}),t.init();else{const n=e.currentAccountId,a=c.find(e=>e!==n),o=za(e,a);await ee("removeAccount",n,a,o),t.deleteNotificationAccount({accountId:n});const r=A((e=Wt()).accounts.byId,[n]),i=A(e.byAccountId,[n]),s=A(e.settings.byAccountId,[n]);e=bu(e,a),e={...e,accounts:{...e.accounts,byId:r},byAccountId:i,settings:{...e.settings,byAccountId:s}},Ht(e),t.afterSignOut()}});var Ep=i(51);const kp=(0,t.F3)("BarcodeScanner",{web:()=>i.e(215).then(i.bind(i,29215)).then(e=>new e.BarcodeScannerWeb)}),Cp=/^\d+\.\d+(\.\d+)?$/,Np=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=at(e,t);return[n,ct(()=>{a(!0)},[]),ct(()=>{a(!1)},[])]};const Sp=new Set(["INPUT","TEXTAREA","SELECT"]),Ap=fe();function Ip(e){rt(()=>{if(!e)return;const t=Object.entries(e);return Ap.addCallback(function(e){(function(e){return!(e.target instanceof HTMLElement)||!Sp.has(e.target.tagName)})(e)&&t.forEach(t=>{let[n,a]=t;(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:o,mod:r,shift:i,key:s}=e,{altKey:c,ctrlKey:l,metaKey:d,shiftKey:u,key:m}=t;if(n!==c)return!1;if(r){if(!l&&!d)return!1}else{if(a!==l)return!1;if(o!==d)return!1}return i===u&&Boolean(s&&(m.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map(e=>e.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find(e=>!a.includes(e))}}(e),t)})(n)(e)&&a(e)})})},[e])}function Tp(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=ct(e,t);return st(()=>"number"==typeof n?(0,c.nF)(o,n,!a):(0,c.nb)(n,o),[o,n,a])}function Bp(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=ct(e,t);return st(()=>(0,c.sg)(r,n,!a,!o),[r,n,a,o])}function xp(){const{width:e,height:t,screenHeight:n}=dr(),[a,o]=at(e),[r,i]=at(t),[s,l]=at(n),[d,u]=at(!1),m=Bp(u,[u],250,!0);return rt(()=>{const e=(0,c.nF)(()=>{u(!0)},250,!0),t=(0,c.nF)(()=>{const{width:e,height:t,screenHeight:n}=dr();o(e),i(t),l(n),m(!1)},250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[m]),st(()=>({width:a,height:r,screenHeight:s,isResizing:d}),[r,d,s,a])}document.documentElement.addEventListener("keydown",Ap.runCallbacks);const[_p,Lp]=ye(void 0);let Dp;const Op=!r.ZH||r.KI;let Mp;async function Fp(){return Dp||(Dp=await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),Dp)}function Pp(){return void 0!==_p()}async function Rp(){const e=_p();if(e)try{return await async function(e){const t=await Fp(),n=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e.iv},t,e.ciphertext);return(new TextDecoder).decode(n)}(e)}catch(e){return}}function Up(e){var t;Op&&(null===(t=Mp)||void 0===t||t(),Mp=function(e,t){if(t<=0)return e(),()=>{};const n=Date.now();let a,o=!1;const r=()=>{o||(o=!0,a&&(clearInterval(a),a=void 0))};return a=window.setInterval(()=>{o||Date.now()-n>=t&&(r(),e())},5e3),r}(()=>{$t().setInMemoryPassword({password:void 0})},a.gbw*xo.pY)),void 0!==e?async function(e){const t=await Fp(),n=(new TextEncoder).encode(e),a=window.crypto.getRandomValues(new Uint8Array(12));return{ciphertext:await window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},t,n),iv:a}}(e).then(e=>{Lp(e)}):Lp(void 0)}Fp();const Wp=i.p+"add_dark.8aaf6cc3b06c8c29c0b8.tgs",Hp=i.p+"add_light.be170b963afd3d68fffa.tgs",$p=i.p+"clock_dark.67c2082b0ca3be15abf5.tgs",Vp=i.p+"clock_dark_blue.dcdade09cdb1018439a5.tgs",zp=i.p+"clock_dark_gray.2f8e5bd8283b1b6fbc8b.tgs",Kp=i.p+"clock_dark_green.30d56a71568b4a6c2265.tgs",qp=i.p+"clock_dark_orange.1b7e7886b361ac3ea6dd.tgs",jp=i.p+"clock_dark_purple.44d7e54c80d7bfcdc066.tgs",Yp=i.p+"clock_dark_purple_white.b5df424559c900b23895.tgs",Gp=i.p+"clock_dark_red.67cef0a9056652cc9fc4.tgs",Qp=i.p+"clock_light.0f820ef9df9307b005b3.tgs",Xp=i.p+"clock_light_blue.5e4780c003d1e4b827e4.tgs",Zp=i.p+"clock_light_gray.4826990b5758e7e75dc0.tgs",Jp=i.p+"clock_light_green.81cd8075f0eea6108c88.tgs",ef=i.p+"clock_light_orange.f5958c528759646c52c6.tgs",tf=i.p+"clock_light_purple.38ce19dce815fecda5d9.tgs",nf=i.p+"clock_light_purple_white.5f9e760bc1f22f84b046.tgs",af=i.p+"clock_light_red.55b1cfeadab5652b419e.tgs",of=i.p+"core_wallet_logo.2055ba52598574ce57c1.tgs",rf=i.p+"duck_bill.f055b12619440839e0be.tgs",sf=i.p+"duck_forges.8b2d0ebddaa6d89f49f9.tgs",cf=i.p+"duck_guard.80ca79a0dd4e872c97de.tgs",lf=i.p+"duck_happy.341e288409ae85100bda.tgs",df=i.p+"duck_hello.40447128d7d2e35c9513.tgs",uf=i.p+"duck_no-data.235bf383a43e5d277cc7.tgs",mf=i.p+"duck_run.4f00386469e72bd5f970.tgs",pf=i.p+"duck_snitch.1de91932b48b813238a6.tgs",ff=i.p+"duck_thumb.4ae249f4ed4f4a37176a.tgs",hf=i.p+"duck_ton.6583e2880c36d10daee2.tgs",gf=i.p+"duck_wait.94faee2d1128c376e8d9.tgs",vf=i.p+"duck_yeee.883032cf50944d474730.tgs",yf=i.p+"earn_dark.cc3100d59f35656a0d80.tgs",wf=i.p+"earn_dark_purple.ef283884f712c29765f8.tgs",bf=i.p+"earn_light.ba7d6daf7c43c22f37c5.tgs",Ef=i.p+"earn_light_purple.f5bf3ef47824c05e92a7.tgs",kf=i.p+"send_dark.a03d74d5dbf4d09aa6cd.tgs",Cf=i.p+"send_light.5056ea189e9f728cbf1c.tgs",Nf=i.p+"swap_dark.0cca83400e60322ddc57.tgs",Sf=i.p+"swap_light.f484bcd0bc90ab8c5f43.tgs",Af=i.p+"clock_dark.4d48eb223dd9504ba763.svg",If=i.p+"clock_dark_blue.6ff286b9d74c5324b1c2.svg",Tf=i.p+"clock_dark_gray.90b560b1cf4e8aadd9e0.svg",Bf=i.p+"clock_dark_green.93f238675a9074c4fd47.svg",xf=i.p+"clock_dark_orange.89b283245ca5322b089c.svg",_f=i.p+"clock_dark_purple.e08f76411ffbefe55602.svg",Lf=i.p+"clock_dark_purple_white.fbc63a9cd9546cfb5f54.svg",Df=i.p+"clock_dark_red.87606426eff5cba41693.svg",Of=i.p+"clock_light.f1160b287a4cea0dcf7e.svg",Mf=i.p+"clock_light_blue.4bdde15cdd60e35f47ec.svg",Ff=i.p+"clock_light_gray.eea045c0de30311b7d83.svg",Pf=i.p+"clock_light_green.71f692ac565e957d540a.svg",Rf=i.p+"clock_light_orange.eae8d1c2585dd579c470.svg",Uf=i.p+"clock_light_purple.171b47626b50eac4fe77.svg",Wf=i.p+"clock_light_purple_white.fc89347ebf34b9556bfc.svg",Hf=i.p+"clock_light_red.1ed27eda79512bb8e06e.svg",$f=i.p+"core_wallet_logo.e5460356e39ce9c0ba0e.png",Vf=i.p+"duck_bill.966ff858d718072aae75.png",zf=i.p+"duck_forges.52c157bd0cc621f324e1.png",Kf=i.p+"duck_guard.d4ebb8f84ebdd68f3da2.png",qf=i.p+"duck_happy.b8afd923624d1ef9061d.png",jf=i.p+"duck_hello.c865862ea6c03bf4088b.png",Yf=i.p+"duck_no-data.21cf5ad05a9a06aebcff.png",Gf=i.p+"duck_run.a70c5e12b26ee1d82b73.png",Qf={hello:df,snitch:pf,bill:rf,thumbUp:ff,holdTon:hf,happy:lf,noData:uf,forge:sf,wait:gf,run:mf,yeee:vf,guard:cf,helloPreview:jf,snitchPreview:i.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:Vf,thumbUpPreview:i.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:i.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:qf,noDataPreview:Yf,forgePreview:zf,waitPreview:i.p+"duck_wait.b0fe6ec6993586b30e65.png",runPreview:Gf,yeeePreview:i.p+"duck_yeee.6a3e6f89a1e9cdb20fc7.png",guardPreview:Kf,...a.TI6&&{coreWalletLogo:of,coreWalletLogoPreview:$f},light:{iconAdd:Hp,iconClock:Qp,iconClockBlue:Xp,iconClockGray:Zp,iconClockGreen:Jp,iconClockOrange:ef,iconClockPurple:tf,iconClockPurpleWhite:nf,iconClockRed:af,iconEarn:bf,iconEarnPurple:Ef,iconSend:Cf,iconSwap:Sf,preview:{iconClock:Of,iconClockBlue:Mf,iconClockGray:Ff,iconClockGreen:Pf,iconClockOrange:Rf,iconClockPurple:Uf,iconClockPurpleWhite:Wf,iconClockRed:Hf}},dark:{iconAdd:Wp,iconClock:$p,iconClockBlue:Vp,iconClockGray:zp,iconClockGreen:Kp,iconClockOrange:qp,iconClockPurple:jp,iconClockPurpleWhite:Yp,iconClockRed:Gp,iconEarn:yf,iconEarnPurple:wf,iconSend:kf,iconSwap:Nf,preview:{iconClock:Af,iconClockBlue:If,iconClockGray:Tf,iconClockGreen:Bf,iconClockOrange:xf,iconClockPurple:_f,iconClockPurpleWhite:Lf,iconClockRed:Df}}};function Xf(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;rt(()=>{r.TF||t||setTimeout(()=>{var t;null===(t=e.current)||void 0===t||t.focus()},n)},[e,n,t])}function Zf(e,t){const n=lt(0),a=lt(!1);return!a.current&&e&&n.current<t&&(n.current+=1),a.current=e,n.current>=t}const Jf=ut(function(e){let{id:t,className:n,contentClassName:a,children:o,checked:r,isDisabled:i,onChange:s}=e;const c=ri(e=>{e.preventDefault(),s(e.currentTarget.checked)});return pt.createElement("label",{className:qi("ydGmLQB9",n)},pt.createElement("input",{id:t,type:"checkbox",className:"aOFCdA5h",checked:r,disabled:i,tabIndex:0,onChange:i?void 0:c}),pt.createElement("div",{className:qi("ZEXtFSPZ",a)},o))}),eh="egsZTzXN",th=ut(zt(e=>{const t=on(e)||{},n=dn(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}})(function(e){let{isOpen:t,currentAccountId:n,hasManyAccounts:o,accounts:i,accountStates:s,isBackupRequired:c,onClose:l,isInAppLock:d}=e;const{signOut:u,switchAccount:m}=$t(),p=Ki(),[f,h]=at(a.TI6||!!d),g=st(()=>o?Object.entries(i).reduce((e,t)=>{var a;let[o,r]=t;return o!==n&&null!==(a=s[o])&&void 0!==a&&a.isBackupRequired&&e.push({id:o,title:Qt(r)??""}),e},[]):[],[i,s,n,o]);rt(()=>{t&&h(a.TI6||!!d)},[t,d]);const v=ri(()=>{l(!f&&o),u({level:a.TI6?"all":f?"network":"account"})}),y=ri(()=>{l(!1)});const w=f&&g.length>0,b=c&&!w,E=qi(ml.button,r.ZH&&ml.shortButton);return pt.createElement(bl,{isOpen:t,isCompact:!0,title:r.ZH?p("Remove Wallet"):p("Log Out"),onClose:y,isInAppLock:d},pt.createElement("p",{className:qi(ml.text,ml.text_noExtraMargin)},bi(p("$logout_warning","12/24"))),!(a.TI6||d)&&o&&pt.createElement(Jf,{id:"logount_all_accounts",className:"B2lzpHP0",checked:f,onChange:h},bi(p("$logout_confirm"))),b&&pt.createElement("p",{className:ml.text},pt.createElement("b",{className:eh},p("Warning!"))," ",p("$logout_without_backup_warning")),w&&pt.createElement("p",{className:ml.text},pt.createElement("b",{className:eh},p("Warning!"))," ",p("$logout_accounts_without_backup_warning",{links:pt.createElement(pt.Fragment,null,g.map(function(e,t){const{id:n,title:a}=e,o=qi(!d&&"mSBmBqo6",t+2===g.length&&"T7L1H3Tm");return pt.createElement("span",{className:o},d?pt.createElement("strong",null,a):pt.createElement("a",{key:n,href:"#",className:"FsSJDg8c",onClick:e=>{var t;e.preventDefault(),t=n,l(!1),m({accountId:t})}},a))}))})),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{className:E,onClick:y},p("Cancel")),pt.createElement(dl,{isDestructive:!0,onClick:v,className:ml.button},r.ZH?p("Remove Wallet"):p("Exit"))))}));function nh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}function ah(e,t){const n=Boolean(e),{ref:a}=rl({isOpen:n,noMountTransition:n,className:"slow",...t});return a}let oh,rh;async function ih(){return oh||(oh=i.e(949).then(i.bind(i,70949)).then(e=>e.default),rh=await oh),oh}function sh(){return rh}function ch(e){const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function lh(e){let[t,n,a]=e.map(e=>e/255);[t,n,a]=[t,n,a].map(e=>e>.04045?((e+.055)/1.055)**2.4:e/12.92);let o=.4124*t+.3576*n+.1805*a,r=.2126*t+.7152*n+.0722*a,i=.0193*t+.1192*n+.9505*a;return[o,r,i]=[o/.95047,r,i/1.08883].map(e=>e>.008856?e**(1/3):7.787*e+16/116),[116*r-16,500*(o-r),200*(r-i)]}setTimeout(ih,3e3);const dh=fe(),uh=fe();function mh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ri(e),o=ri(t);rt(()=>{if(!n)return Ae()&&a(),dh.addCallback(a),uh.addCallback(o),()=>{uh.removeCallback(o),dh.removeCallback(a)}},[n,o,a])}Ae.subscribe(()=>{Ae()?dh.runCallbacks():uh.runCallbacks()});const ph=fe(),fh=fe();const hh=new Map,gh=ut(e=>{let{ref:t,renderId:n,className:a,style:o,tgsUrl:i,play:s,playSegment:c,speed:l,noLoop:d,size:u,shouldStretch:m,quality:p,isLowPriority:f,color:h,forceOnHeavyAnimation:g,forceInBackground:v,sharedCanvas:y,sharedCanvasCoords:w,onClick:b,onLoad:E,onEnded:k,onLoop:C}=e,N=lt();t&&(N=t);const S=wt(),[A,I]=at(),T=lt(),B=lt(!0),x=s||!1!==s&&c,_=oi(s),L=oi(c),D=lt(),O=lt(!1);rt(()=>()=>{O.current=!0},[]),yt(()=>{if(h){const[e,t,n]=ch(h);D.current=[e,t,n]}else D.current=void 0},[h]);const M=ri(()=>{if(T.current||O.current||!i||y&&(!w||!y.offsetWidth||!y.offsetHeight))return;const e=N.current||y;if(!e)return;const t=sh().init(i,e,n||(0,ht.A)(),{size:u,shouldStretch:m,noLoop:d,quality:p,isLowPriority:f,coords:w},S,D.current,E,k,C);l&&t.setSpeed(l),I(t),T.current=t});rt(()=>{sh()?M():ih().then(M)},[M,i,y,w]);const F=Tp(M,[M],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=oi(t);rt(()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,i]=hh.get(t)||[void 0,void 0];return r||(i=fe(),r=new IntersectionObserver(i.runCallbacks),hh.set(t,[r,i]),r.observe(t)),i.addCallback(o),()=>{i.removeCallback(o),i.hasCallbacks()||(r.unobserve(t),r.disconnect(),hh.delete(t))}},[n,a,e])}(y,F),rt(()=>{A&&A.setColor(D.current)},[h,A]),rt(()=>()=>{var e;null===(e=T.current)||void 0===e||e.removeView(S)},[S]);const P=ri(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A&&(_.current||L.current)&&!vh(g,v)&&(L.current?A.playSegment(L.current,e,S):A.play(e,S))}),R=ri(()=>{(0,we.YS)(P)}),U=ri(()=>{null!=A&&A.isPlaying()&&A.pause(S)});if(Ds(e=>{let[t]=e;void 0!==t&&d!==t&&(null==A||A.setNoLoop(d))},[d,A]),Ds(e=>{let[t]=e;void 0!==t&&w!==t&&(null==A||A.setSharedCanvasCoords(S,w))},[w,S,A]),rt(()=>{A&&(x?vh(g,v)||P(d):U())},[A,x,d,P,U,g,v]),rt(()=>{A&&(B.current?B.current=!1:i&&(A.changeData(i),P(d)))},[P,A,i,d]),mh(U,P,g||r.pz||!x),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ri(e),o=ri(t);rt(()=>{if(!n)return ph.addCallback(a),fh.addCallback(o),()=>{fh.removeCallback(o),ph.removeCallback(a)}},[n,a,o])}(U,P,!x),qd(U,R,!x||v),!y)return pt.createElement("div",{ref:N,className:a,style:nh(void 0!==u&&!m&&`width: ${u}px; height: ${u}px;`,b&&!r.cp&&"cursor: pointer",o),onClick:b})});function vh(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!r.pz&&Ae()||!e&&jd()}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yh.apply(null,arguments)}const wh=ut(function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:i,onLoad:s,onClick:c,...l}=e,[d,u]=Np(!1),m=ah(r||d),p=ri(()=>{u(),null==s||s()}),[f,h]=at(String(Math.random())),g=ri(()=>{!0===n&&h(String(Math.random())),null==c||c()});return pt.createElement(gh,yh({ref:m,className:o,size:t,play:!0===n?f:n,noLoop:a,onClick:i?void 0:g,onLoad:p},l))}),bh="haM4SCte";function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Eh.apply(null,arguments)}const kh=new Set,Ch=150,Nh=ut(zt(e=>({noAnimation:e.settings.animationLevel===a.dnp}))(function(e){const{size:t=Ch,previewUrl:n,iconPreviewClass:a,thumbDataUri:o,className:r,noAnimation:i,noPreviewTransition:s,...c}=e,[l,d]=Np(Boolean(a)||Boolean(o)||kh.has(n)),u=ah(l||s),[m,p,f]=Np(!1);rt(()=>{i&&f()},[f,i]);const h=ri(()=>{d(),kh.add(n)});return pt.createElement("div",{ref:s?void 0:u,className:qi(r,"aNPdKxlh"),style:nh(void 0!==t&&!c.shouldStretch&&`width: ${t}px; height: ${t}px;`),"data-preview-url":n},o&&!n&&!m&&pt.createElement("img",{src:o,className:bh}),n&&!m&&pt.createElement("img",{src:n,className:bh,onLoad:h}),a&&!m&&pt.createElement("i",{className:qi(bh,a),"aria-hidden":!0}),!i&&pt.createElement(wh,Eh({size:t},c,{onLoad:p,noTransition:!0})))})),Sh={wrapper:"LCV_ofSL",input:"O85V9ajV",error:"hhZYLQar",disabled:"sAhrzaLV",input_password:"MawuFp3r",inputPassword:"MawuFp3r",rich:"_JfHIm8U",rich__value:"VyaUZjoQ",richValue:"VyaUZjoQ",rich__placeholder:"Fd5oMpfT",richPlaceholder:"Fd5oMpfT",isLoading:"oLkTqd0H",large:"cp2mDTzv",inputWrapperStatic:"_30fntf1",input__wrapper:"Q9N6yVvw",inputWrapper:"Q9N6yVvw",input__wrapper_hasFocus:"xJ8YLUEc",inputWrapperHasFocus:"xJ8YLUEc",visibilityToggle:"tXgxOPqo",visibilityToggle_push:"uXlOxDsj",visibilityTogglePush:"uXlOxDsj",fractional:"Q68NbVRf",label:"dGKNlTrc",label_error:"PFA7oH6u",labelError:"PFA7oH6u",label_forPassword:"i9G7zfox",labelForPassword:"i9G7zfox",label_errorUnderInput:"N0y6_7Nt",labelErrorUnderInput:"N0y6_7Nt",label_errorBottom:"fAnhlq4h",labelErrorBottom:"fAnhlq4h",swapCorner:"hcCyNq6V",swapCorner_error:"tRQeFT_t",swapCornerError:"tRQeFT_t",mask:"dYsHTHj3",inputContainer:"vjJxciaS",input_withValueOverlay:"qHmkgxAZ",inputWithValueOverlay:"qHmkgxAZ",valueOverlay:"yLnZrd5z",static:"PXCfAg02"},Ah=ut(function(e){let{ref:t,id:n,label:a,placeholder:o,valueOverlay:r,inputMode:i,isRequired:s,isDisabled:c,isMultiline:l,hasError:d,type:u="text",error:m,value:p="",maxLength:f,inputArg:h,className:g,wrapperClassName:v,autoCapitalize:y,autoComplete:w,autoCorrect:b,isStatic:E,enterKeyHint:k,children:C,onInput:N,onKeyDown:S,onFocus:A,onBlur:I}=e;const T=Ki(),[B,x]=at(!1),[_,L,D]=Np(!1),O=Boolean(r&&!_),M=e=>{N(e.currentTarget.value,h)},F=e=>{L(),null==A||A(e)},P=e=>{D(),null==I||I(e)},R="text"===u||B?"text":"password",U=qi(Sh.input,g,"password"===u&&Sh.input_password,(d||m)&&Sh.error,c&&Sh.disabled,r&&Sh.input_withvalueOverlay),W=qi(Sh.label,(d||m)&&Sh.error,(d||m)&&"password"===u&&Sh.label_forPassword);return pt.createElement("div",{className:qi(Sh.wrapper,v)},m&&!!a&&pt.createElement("label",{className:qi(Sh.label,Sh.label_error,Sh.error),htmlFor:n},m),!!a&&pt.createElement("label",{className:W,htmlFor:n},a),pt.createElement("div",{className:Sh.inputContainer},l?pt.createElement("textarea",{ref:t,id:n,className:U,value:p,disabled:c,maxLength:f,autoComplete:w,onInput:M,onChange:e=>{const{currentTarget:t}=e,{scrollHeight:n}=t;(0,we.RK)(()=>{t.style.height="0",t.style.height=`${n}px`})},onKeyDown:S,onFocus:F,onBlur:P,tabIndex:0,required:s,placeholder:r?void 0:o}):pt.createElement("input",{ref:t,id:n,className:U,type:R,value:p,disabled:c,inputMode:i,maxLength:f,autoCapitalize:y,autoComplete:w,autoCorrect:b,spellCheck:b,onInput:M,onKeyDown:S,onFocus:F,onBlur:P,tabIndex:0,required:s,placeholder:r?void 0:o,enterKeyHint:k}),O&&pt.createElement("div",{className:qi(Sh.valueOverlay,E&&Sh.static)},r)),"password"===u&&pt.createElement("button",{className:qi(Sh.visibilityToggle,a&&Sh.visibilityToggle_push),type:"button",onClick:()=>{x(!B)},"aria-label":T("Change password visibility"),tabIndex:-1},pt.createElement("i",{className:B?"icon-eye":"icon-eye-closed","aria-hidden":!0})),C,m&&!a&&pt.createElement("label",{className:qi(Sh.label,Sh.label_errorBottom,Sh.error),htmlFor:n},m))});function Ih(e,t,n,a){return Th("animationend",e,t,n,a)}function Th(e,t,n,a,o){let r=!1;function i(){t.removeEventListener(e,s)}function s(e){r||e.target!==e.currentTarget||a&&(e instanceof TransitionEvent&&e.propertyName===a||e instanceof AnimationEvent&&e.animationName===a)||(r=!0,i(),setTimeout(()=>{n()},50))}return t.addEventListener(e,s),o&&setTimeout(()=>{r||(i(),n())},o),i}const Bh=se.qM.easeOutCubic,xh="swipe-disabled";let _h,Lh,Dh,Oh,Mh=!1;function Fh(e,t){return ns(e,{swipeThreshold:10,withNativeDrag:!0,excludedClosestSelector:`.${xh}`,onSwipe(e,n,a){if(n===Xi.Left){var o;null===(o=t.onSwipeLeftStart)||void 0===o||o.call(t)}else{if(n!==Xi.Right)return!1;var i;null===(i=t.onSwipeRightStart)||void 0===i||i.call(t)}return r.pz&&(Mh=!0,_h=a),!0},onDrag(e,t,n){var a;Mh&&(null===(a=Lh)||void 0===a||a(n))},onRelease(){var e;Mh&&(Mh=!1,null===(e=Dh)||void 0===e||e(t.onCancel),Lh=void 0,Dh=void 0)}})}function Ph(e,t){e.map(e=>e.getAnimations()).flat().forEach(e=>{e.currentTime=e.effect.getTiming().duration*t})}function Rh(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}function Uh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,a]=at(e);return rt(()=>{if(e===n)return;const o=window.setTimeout(()=>{a(e)},t);return()=>{window.clearTimeout(o)}},[e,t,n]),n}const Wh="jLzZScDB",Hh="oVsGIXA4",$h=ut(function(e){let{value:t,children:n,className:a,isDisabled:o,onClick:r}=e;const[i,s]=at(!1);return pt.createElement("div",{onMouseDown:o?void 0:()=>{Td(),null==r||r(t),s(!0),setTimeout(()=>{s(!1)},200)},className:qi("lnaBx8hc",i&&"qBoIeNzV",a),role:"button",tabIndex:0},t||n)}),Vh=xo.Z2,zh="Transition_slide-active",Kh="Transition_slide-from",qh="Transition_slide-to",jh="Transition_slide-inactive",Yh=zh,Gh=qh,Qh=function(e){let{ref:t,activeKey:n,nextKey:o,prevKey:r,name:i,direction:s="auto",renderCount:c,shouldRestoreHeight:l,shouldCleanup:d,cleanupExceptionKey:u,shouldWrap:m,wrapExceptionKey:p,id:f,className:h,slideClassName:g,withSwipeControl:v,onStart:y,onStop:w,onContainerClick:b,onScroll:E,children:k}=e;const C=lt(),{animationLevel:N}=Wt().settings,S=N===a.dnp;let A=lt();t&&(A=t);const I=lt({}),T=vt(n),B=ft(),x=lt(!1),_=lt(!1),L=void 0!==T&&n!==T;!c&&L&&(I.current={[T]:I.current[T]}),I.current[n]=k,r&&(I.current[r]=k),o&&(I.current[o]=k);const D=-1===s||"auto"===s&&T>n||"inverse"===s&&T<n;it(()=>{function e(){if(!d)return;const e=void 0!==u?I.current[u]:void 0;I.current=e?{[u]:e}:{},B()}const t="slideOptimized"===i||"slideOptimizedRtl"===i,a=A.current,o=Object.keys(I.current).map(Number),r=c?T:o.indexOf(T),s=c?n:o.indexOf(n),m=Array.from(a.childNodes);if(!m.length)return;const p=Array.from(a.children);if(p.forEach(e=>{qc(e,"Transition_slide"),g&&g.split(/\s+/).forEach(t=>{qc(e,t)})}),!L){if(x.current)return;return void p.forEach(e=>{e===m[s]?(qc(e,zh),t&&Gc(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):t||qc(e,jh)})}if(C.current=n,t){if(!m[s])return;return void function(e,t,n,a,o,r,i,s,c,l,d,u,m){if(e)return Yc(s,`Transition-${t}`,!n),Yc(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&(jc(l,zh),Gc(l,{transition:"none",transform:""})),c instanceof HTMLElement&&(qc(c,zh),Gc(c,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),i.current=!0;const p=Ie();null==u||u(),Yc(s,`Transition-${t}`,!n),Yc(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&Gc(l,{transition:"none",transform:"translate3d(0, 0, 0)"}),c instanceof HTMLElement&&Gc(c,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,we.gm)(()=>(c instanceof HTMLElement&&c.offsetWidth,()=>{l instanceof HTMLElement&&(jc(l,zh),Gc(l,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),c instanceof HTMLElement&&(qc(c,zh),Gc(c,{transition:"",transform:"translate3d(0, 0, 0)"}))})),Th("transitionend",c,()=>{const e=c instanceof HTMLElement?c.clientHeight:void 0;(0,we.RK)(()=>{o===r.current?(l instanceof HTMLElement&&Gc(l,{transition:"none",transform:""}),d&&e&&c instanceof HTMLElement&&(Gc(c,{height:"auto"}),Gc(s,{height:`${e}px`})),null==m||m(),p(),i.current=!1,a()):p()})},undefined,undefined)}(S,i,D,e,n,C,x,a,m[s],m[r],l,y,w)}if("none"===i||S||_.current)return _.current&&(_.current=!1),m.forEach((e,t)=>{e instanceof HTMLElement&&(jc(e,Kh),jc(e,qh),Yc(e,zh,t===s),Yc(e,jh,t!==s))}),void e();m.forEach((e,t)=>{e instanceof HTMLElement&&(jc(e,zh),Yc(e,Kh,t===r),Yc(e,qh,t===s),Yc(e,jh,t!==r&&t!==s))}),x.current=!0;const f=Ie();function h(){const t=a.querySelector(`.${zh}`),{clientHeight:o}=t||{};(0,we.RK)(()=>{n===C.current?(jc(a,`Transition-${i}`),jc(a,`Transition-${i}Backwards`),m.forEach((e,t)=>{e instanceof HTMLElement&&(jc(e,Kh),jc(e,qh),Yc(e,zh,t===s),Yc(e,jh,t!==s))}),l&&t&&(Gc(t,{height:"auto"}),Gc(a,{height:`${o}px`})),null==w||w(),f(),x.current=!1,e()):f()})}null==y||y(),Yc(a,`Transition-${i}`,!D),Yc(a,`Transition-${i}Backwards`,D);const b="reveal"!==i&&"slideFadeAndroid"!==i||!D?m[s]:m[r];if(b)if(v&&m[r]){const e=Ih(b,h);!function(e,t,n){var a;if(null===(a=Oh)||void 0===a||a(),!Mh)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=Rh(e.transform);if(t)return t}}(e);if(!o)return;let r;e.getAnimations().forEach(e=>e.pause()),t.getAnimations().forEach(e=>e.pause()),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,we.YS)(()=>{const a=(i=getComputedStyle(e).transform,s=o.axis,i.slice(7,-1).split(",").map(Number)["X"===s?4:5]);var i,s;const c=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-a;let l=0;Lh=n=>{let{dragOffsetX:a,dragOffsetY:i}=n;const s="X"===o.axis?a-_h.dragOffsetX:i-_h.dragOffsetY,d=Yi(s/c,0,1);r=d>l?1:-1,l=d,Ph([e,t],l)},Dh=a=>{const o=-1===r;function i(){e.getAnimations().forEach(e=>e.cancel()),t.getAnimations().forEach(e=>e.cancel()),(0,we.RK)(()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""})}o||Ih(e,i),Oh=(0,se.Hd)({from:l,to:o?0:1,duration:300,timing:Bh,onUpdate(n){Ph([e,t],n)},onEnd(){Oh=void 0,(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o)&&(i(),n(),a())}})}})}(m[r],m[s],()=>{e(),_.current=!0,null==w||w(),f(),x.current=!1})}else Ih(b,h,void 0,Vh);else h()},[n,o,T,L,D,i,y,w,c,l,d,g,u,S,B,v]),rt(()=>{if(!l)return;const e=A.current,t=e.querySelector(`.${zh}`)||e.querySelector(`.${Kh}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,we.RK)(()=>{Gc(t,{height:"auto"}),Gc(e,{height:`${n}px`,flexBasis:`${n}px`})})},[l,k]);const O=!c,M=I.current,F=Object.keys(c?new Array(c).fill(void 0):M).map(Number).map(e=>{const t=M[e];if(!t)return;const a="function"==typeof t?t(e===n,e===T,e,n):t;return m&&e!==p||O?pt.createElement("div",{key:e,teactOrderKey:e},a):a});return pt.createElement("div",{ref:A,onScroll:E,onClick:b,id:f,className:qi("Transition",h),teactFastList:O},F)},Xh=4,Zh=1500,Jh=r.pz?650:300,eg=ut(zt(e=>{const{isPinAccepted:t}=e;return{isPinAccepted:t}})(function(e){let{isActive:t,title:n,type:o,value:i,resetStateDelayMs:s=Zh,length:c=Xh,isPinAccepted:l,className:d,isMinified:u,topContent:m,onBiometricsClick:p,onChange:f,onClearError:h,onSubmit:g,onLogOutClick:v}=e;const{clearIsPinAccepted:y}=$t(),w=Ed(),b=i.length>0,E="success"===o||l,k=Uh(E,Jh),C=vt(l),N=E||i.length===c&&"error"!==o,S=qi("r4k7w6HQ","error"===o&&Wh,(E||k)&&Hh),A=Zf("error"===o,a.Avc);rt(()=>{C&&!l&&c===i.length&&f("")},[l,c,f,C,i.length]),rt(()=>y,[]),Ds(e=>{let[n]=e;r.bA&&(t?jr.clearScrollPatch():n&&jr.applyScrollPatch())},[t]),rt(()=>{if("error"!==o)return;const e=window.setTimeout(()=>{i.length===c&&f(""),null==h||h()},s);return Bd(),()=>{window.clearTimeout(e)}},[c,f,h,s,o,i.length]),rt(()=>{if(t)return ls(),()=>{ds()}},[t]);const I=ri(e=>{if(i.length!==c&&0!==i.length||null==h||h(),i.length===c)return void f(e);const t=`${i}${e}`;f(t),t.length===c&&g(t)}),T=ri(()=>{null==h||h(),i.length&&f(i.slice(0,-1))});return pt.createElement("div",{className:qi("Lbq2gMzt",d,xh)},m??pt.createElement("div",{className:S},n),function(){const e=qi("__vkSP7q","error"===o&&"LI_tisFH",(E||k)&&"HnSSbC5N");return pt.createElement("div",{className:e,"aria-hidden":!0},Array.from({length:c},(e,t)=>pt.createElement("div",{key:t,className:qi("CH4h9HQz",t<i.length&&"r_kAZ0Dm","error"===o&&Wh,(E||k)&&Hh)})))}(),pt.createElement("div",{className:qi("CUQ0KIAI",u&&"MGnO4hqt")},pt.createElement($h,{value:"1",onClick:I,isDisabled:N}),pt.createElement($h,{value:"2",onClick:I,isDisabled:N}),pt.createElement($h,{value:"3",onClick:I,isDisabled:N}),pt.createElement($h,{value:"4",onClick:I,isDisabled:N}),pt.createElement($h,{value:"5",onClick:I,isDisabled:N}),pt.createElement($h,{value:"6",onClick:I,isDisabled:N}),pt.createElement($h,{value:"7",onClick:I,isDisabled:N}),pt.createElement($h,{value:"8",onClick:I,isDisabled:N}),pt.createElement($h,{value:"9",onClick:I,isDisabled:N}),p?pt.createElement($h,{onClick:p,isDisabled:E},pt.createElement("i",{className:qi("icon",w?"icon-face-id":"icon-touch-id"),"aria-hidden":!0})):pt.createElement("span",null),pt.createElement($h,{value:"0",onClick:I,isDisabled:N}),pt.createElement(Qh,{name:"zoomFade",activeKey:A&&!i.length?0:1},v&&A&&!i.length?pt.createElement($h,{className:"nvnxE80n",onClick:v},pt.createElement("i",{className:"icon icon-exit","aria-hidden":!0})):pt.createElement($h,{className:!b&&"c_i4rWyo",isDisabled:!b||E,onClick:T},pt.createElement("i",{className:"icon icon-backspace","aria-hidden":!0})))))})),tg={sticker:"ifHfFY2u",label:"C3jlHNpF",title:"kC9WGOYP",errorMessage:"q8niLQND",verify:"SDEJGboy",error:"ZokzPDAj",pinPadHeader:"sftOkqxr",closeButton:"twjZlrDJ",autoConfirmCheckbox:"MgA9JMMb",logOutWrapper:"N0lWn9sM",logOutButton:"jhtp0Nsp"},ng=180,[ag,og]=ye(Date.now());function rg(e){e&&Yr(e),og(Date.now())}const ig=ut(zt(e=>{const{isPasswordNumeric:t,authConfig:n,isAutoConfirmEnabled:a}=e.settings;return{isPasswordNumeric:t,isBiometricAuthEnabled:Sn(e),isNativeBiometricAuthEnabled:An(e),authConfig:n,isAutoConfirmEnabled:a}})(function(e){let{isActive:t,isLoading:n,operationType:o,isPasswordNumeric:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:l,authConfig:d,cancelLabel:u,submitLabel:m,stickerSize:p=ng,placeholder:f="Enter your password",error:h,help:g,resetStateDelayMs:v,containerClassName:y,pinPadClassName:w,children:b,withCloseButton:E,noAnimatedIcon:k,inputWrapperClassName:C,forceBiometricsInMain:N,skipAuthScreen:S,isAutoConfirmEnabled:A,onUpdate:I,onCancel:T,onSubmit:B}=e;const{openSettings:x,setInMemoryPassword:_,setIsAutoConfirmEnabled:L}=$t(),D=Ki(),O=lt(),M=function(e){const t=st(()=>Pp(),[]);return t&&!e.current&&Rp().then(t=>{e.current=t}),t}(O),F=S&&M,P=lt(),[R,U]=at(""),[W,H]=at(""),[$,V]=at(0),[z,K,q]=Np(!1),{isSmallHeight:j,isPortrait:Y}=xs(),G=!R.length&&!F,Q=Cd(),[X,Z,J]=Np(!1),te=Zf(!!h||!!W,a.Avc),ne=function(e){const{showDialog:t}=$t();return ri(()=>{t({title:"$storage_cleared_title",message:Vi("$storage_cleared_message",{support_link:pt.createElement("a",{href:`https://t.me/${a.Fkn}`,target:"_blank",rel:"noreferrer"},"@",a.Fkn)}),buttons:{cancel:{title:"Cancel"},confirm:{title:"Log Out",isDestructive:!0,action:"signOutAll"}},noBackdropClose:!0,isInAppLock:"unlock"===e})})}(o);rt(()=>{t&&(H(""),U(""),V(0))},[t]);const ae=ri(async e=>{const t=F?O.current:e;if(B(t),F)return;const n=await ee("verifyPassword",t);if(!n&&!await ee("checkWorkerStorageIntegrity"))return ne();n&&_({password:t})}),oe=ri(()=>{ae(R)}),re=ri(async()=>{try{H("");const e=await $r(d);e?ae(e):(V($+1),H("Biometric confirmation failed"),r.xy&&$>2&&K())}catch(e){H(e.message||D("Something went wrong."))}});rt(()=>{r.KI&&!N||!t||!s||F||(0,c.v7)(300).then(re)},[N,re,t,s,F]),gt(()=>ag.subscribe(re)),Xf(P,!t||s);const ie=ri(()=>{H(""),I()}),se=ri(()=>{q(),null==T||T(),x()}),ce=ri(e=>{U(e),h&&I()}),le=ri(e=>{L({isEnabled:e})}),de=ri(e=>{Yr(e),Z()});rt(()=>G||n?void 0:rs({onEnter:oe}),[oe,n,G]);const ue="unlock"===o,me=qi(ml.footerButtons,ue&&ml.footerButtonFullWidth);function pe(){return pt.createElement("div",{className:me},T&&pt.createElement(dl,{isLoading:n&&s,isDisabled:n&&!s,className:ml.buttonHalfWidth,onClick:T},u||D("Cancel")),s&&Boolean(W)&&pt.createElement(dl,{isPrimary:!0,isLoading:n,isDisabled:n,className:ml.buttonHalfWidth,onClick:n?void 0:re,shouldStopPropagation:!0},D("Try Again")),(!s||F)&&pt.createElement(dl,{isPrimary:!0,isLoading:n,isDisabled:G,className:ue?ml.buttonFullWidth:ml.buttonHalfWidth,onClick:n?void 0:oe},m||D("Send")))}function fe(){return pt.createElement(Jf,{checked:!!A,onChange:le,className:tg.autoConfirmCheckbox},D("Remember for %1$d minutes",a.gbw))}const he="turnOnBiometrics"!==o&&!s;if(Q){const e=Boolean(W||h),n=function(){switch(o){case"unfreeze":return"Confirm Unfreezing";case"passcode":case"turnOnBiometrics":return"Confirm Passcode";case"transfer":case"sending":return"Confirm Sending";case"staking":return"Confirm Staking";case"unstaking":return"Confirm Unstaking";case"swap":return"Confirm Swap";case"unlock":return;case"claim":return"Confirm Rewards Claim";case"mintCard":return"Confirm Upgrading";default:return"Confirm Action"}}(),r=D(l?Ed()?"Enter code or use Face ID":kd()?"Enter code or use Touch ID":"Enter code or use biometrics":"Enter code"),i=pt.createElement(pt.Fragment,null,E&&pt.createElement(dl,{isRound:!0,className:qi(ml.closeButton,tg.closeButton),ariaLabel:D("Close"),onClick:T},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0})),pt.createElement("div",{className:tg.pinPadHeader},Y&&!k&&pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0}),!j&&n&&pt.createElement("div",{className:tg.title},D(n)),b),F?pe():pt.createElement(eg,{isActive:t,title:D(e?W||h:j&&n?n:r),type:e?"error":void 0,length:a.NEx,resetStateDelayMs:v,value:R,topContent:he?fe():void 0,className:w,onBiometricsClick:l?re:void 0,onLogOutClick:"unlock"===o?Z:void 0,onChange:U,onClearError:ie,onSubmit:ae}),"unlock"===o&&pt.createElement(th,{isOpen:X,onClose:J,isInAppLock:!0}));return F?pt.createElement("div",{className:ml.transitionContent},i):i}return pt.createElement("div",{className:qi(ml.transitionContent,y)},!k&&pt.createElement(Nh,{tgsUrl:Qf.holdTon,previewUrl:Qf.holdTonPreview,play:t,size:p,nonInteractive:!0,noLoop:!1,className:tg.sticker}),b,!F&&(s?function(){const e=W||h;return e?pt.createElement("div",{className:tg.error},D(e)):pt.createElement("div",{className:tg.verify},D("transfer"===o?"Please confirm transaction using biometrics":"Please confirm operation using biometrics"))}():pt.createElement(pt.Fragment,null,pt.createElement(Ah,{ref:P,type:"password",isRequired:!0,id:"first-password",wrapperClassName:C,inputMode:i?"numeric":void 0,error:h?D(h):W,placeholder:D(f),value:R,onInput:ce,maxLength:i?a.NEx:void 0}),W&&pt.createElement("div",{className:tg.errorMessage},D(W)),g&&!h&&pt.createElement("div",{className:tg.label},g),he&&fe())),te&&"unlock"===o&&pt.createElement("div",{className:tg.logOutWrapper},D("Can't confirm?"),pt.createElement("span",{role:"button",tabIndex:0,className:tg.logOutButton,onClick:de},D("Exit all wallets"),pt.createElement("i",{className:qi("icon-chevron-right",tg.detailsIcon),"aria-hidden":!0}))),pe(),pt.createElement(bl,{isOpen:z,isCompact:!0,title:D("Biometric authentication failed"),onClose:q},pt.createElement("p",{className:ml.text},D("Reinstall biometrics in your device's system settings, or use a passcode.")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{className:ml.button,onClick:q},D("Close")),pt.createElement(dl,{isPrimary:!0,className:ml.button,onClick:se},D("Settings")))),"unlock"===o&&pt.createElement(th,{isOpen:X,onClose:J,isInAppLock:!0}))})),sg=window.matchMedia("(prefers-color-scheme: dark)"),cg=function(e){const[t,n]=at("system"===e?sg.matches?"dark":"light":e),a=ri(()=>{n(()=>"system"===e?sg.matches?"dark":"light":e)});return rt(()=>{if("system"===e)return sg.addEventListener("change",a),()=>{sg.removeEventListener("change",a)}},[e]),a(),t},lg=new Set,dg=ut(function(e){let{url:t,alt:n,loading:a,isSlow:o,className:r,imageClassName:i,children:s,fallback:c}=e;const l=lt(),[d,u]=Np(lg.has(t)),[m,p]=Np(),f=(m||!t)&&!!c,h=ah(d||f);return pt.createElement("div",{ref:h,className:r,style:o?"transition-duration: 0.5s;":void 0},f?c:pt.createElement("img",{ref:l,src:t,alt:n,loading:a,className:i,draggable:!1,referrerPolicy:"same-origin",onLoad:d?void 0:()=>{u(),lg.add(t)},onError:p}),s)}),ug="a0ISx2DN",mg="Mg8ZA3ww",pg="AfTARhCR",fg=i.p+"logoCoreWallet.7209423c2390840b4a91.svg",hg=i.p+"logoDark.db78fa7a76eea19a30e7.svg",gg=i.p+"logoLight.c9797ad4583a416a16c9.svg",vg=ut(function(e){let{theme:t}=e;const n=Ki(),o=cg(t),r=a.TI6?fg:"light"===o?gg:hg;return pt.createElement("div",{className:pg},pt.createElement(dg,{className:pg,imageClassName:pg,url:r,alt:n("Logo")}))}),yg=ut(function(e){let{isActive:t,ref:n,theme:o,innerContentTopPosition:r=0,shouldHideBiometrics:i,onSubmit:s}=e;const c=Ki(),{setIsPinAccepted:l}=$t(),[d,u]=at(""),m=ri(async e=>{await ee("verifyPassword",e)?(Cd()&&(l(),await xd(!0)),s()):u("Wrong password, please try again.")}),p=ri(()=>u(""));return pt.createElement("div",{ref:n,className:ug,style:`--position-top: ${r}px;`},pt.createElement(ig,{isActive:!(!t||bd()&&i),noAnimatedIcon:!0,forceBiometricsInMain:!0,error:d,resetStateDelayMs:300,operationType:"unlock",containerClassName:qi("y8VDu2CW","custom-scroll"),pinPadClassName:"TBzkDy1l",inputWrapperClassName:"lpSqrTfE",submitLabel:c("Unlock"),onSubmit:m,onUpdate:p},pt.createElement(vg,{theme:o}),pt.createElement("span",{className:qi(mg,"rounded-font")},a.C39)))}),wg=ut(function(e){let{ref:t,theme:n,innerContentTopPosition:o=0,handleChangeSlideForBiometricAuth:r}=e;const i=Ki();return pt.createElement("div",{ref:t,className:ug,style:`--position-top: ${o}px;`},pt.createElement(vg,{theme:n}),pt.createElement("span",{className:qi(mg,"rounded-font")},a.C39),pt.createElement(dl,{isPrimary:!0,onClick:r},i("Unlock")))}),bg=["focus","mousemove","touch","wheel","keydown"],Eg={capture:!0};var kg=function(e){return e[e.button=0]="button",e[e.passwordForm=1]="passwordForm",e}(kg||{});const[Cg,Ng]=ye(Date.now());const Sg=ut(zt(e=>{const{autolockValue:t,isAppLockEnabled:n}=e.settings,o=bn(e),r=Sn(e),i=An(e);return{isNonNativeBiometricAuthEnabled:r&&(!i||a.tKX),autolockValue:t,canRender:Boolean(n&&o),isAppLockEnabled:n,theme:e.settings.theme,isManualLockActive:e.isManualLockActive,shouldHideBiometrics:e.appLockHideBiometrics}})(function(e){let{isNonNativeBiometricAuthEnabled:t,autolockValue:n="never",theme:o,isManualLockActive:i,isAppLockEnabled:s,shouldHideBiometrics:c,canRender:l}=e;const{clearIsPinAccepted:d,submitAppLockActivityEvent:u,setIsManualLockActive:m,setIsAppLockActive:p}=$t(),[f,h,g,v]=function(e,t,n){const a=lt(!0),o=lt("never"!==e||t),r=lt(),i=ft();o.current&&!n&&(o.current=!1);const s=ri(()=>{o.current=!0,i()}),c=ri(()=>{o.current=!1,r.current=void 0,i()});return r.current=!t||a.current&&"never"!==e?"autolock":"manual",a.current=!1,[!!o.current,s,c,r.current]}(n,!!i,l),[y,w,b]=Np(f),E=lt(Date.now()),{ref:k,innerContentTopPosition:C,unfixSlide:N,slideForBiometricAuth:S,setSlideForBiometricAuth:A,getDefaultSlideForBiometricAuth:I}=function(e,t,n){const a=lt();function o(){return(jd()||"manual"===n)&&e?kg.button:kg.passwordForm}const[r,i]=at(o()),[s,c]=at(),l=void 0!==s,d=!Cd()&&e;function u(e){const n=a.current;if(n&&(!l||e)&&t&&d){const e=n.getBoundingClientRect().top;c(e)}}function m(){c(void 0)}rt(()=>{u()},[t]);const{height:p}=xp();return rt(()=>{d&&(m(),requestAnimationFrame(()=>u(!0)))},[p]),{ref:a,innerContentTopPosition:s,unfixSlide:m,slideForBiometricAuth:r,setSlideForBiometricAuth:i,getDefaultSlideForBiometricAuth:o}}(t,f,v),T=ri(()=>{r.bA?u():E.current=Date.now()}),B=Tp(T,[T],5e3),x=ri(()=>{var e;b(),A(I()),null===(e=Cl())||void 0===e||e.show(),d(),T(),m({isActive:void 0,shouldHideBiometrics:void 0}),r.KI&&jr.show(),N(),p({isActive:!1}),Td()}),_=st(()=>a.zTb.find(e=>e.value===n).period,[n]),{ref:L}=rl({isOpen:f,noMountTransition:!0,className:"slow",onCloseAnimationEnd:x});rt(()=>{f!==Wt().isAppLockActive&&p({isActive:!!f})},[f]);const D=ri(()=>{var e;h(),w(),document.activeElement&&document.activeElement.blur(),r.KI&&jr.hide(),null===(e=Cl())||void 0===e||e.hide(),A(I()),p({isActive:!0})}),O=ri(()=>{("never"!==n||i)&&l&&D()});a.Oig&&(window.lock=O),!i||f||y||O();const M=ri(()=>{A(kg.passwordForm)});gt(()=>{for(const e of bg)window.addEventListener(e,B,Eg);return()=>{for(const e of bg)window.removeEventListener(e,B,Eg)}}),gt(()=>{if(!r.bA)return Cg.subscribe(B)});const F=ri(e=>{Yr(e),m({isActive:!0,shouldHideBiometrics:!0})});Ip(st(()=>s&&!f?{"Ctrl+Shift+L":F,"Alt+Shift+L":F,"Meta+Shift+L":F,...r.cp&&{"Mod+L":F}}:void 0,[s,f])),rt(()=>{if(r.bA)return;const e=setInterval(()=>{s&&!f&&Date.now()-E.current>_&&O()},5e3);return()=>clearInterval(e)},[f,_,O,s]),qd(void 0,M);const P=Number(S===kg.passwordForm)+2*Number(y),R=t?S===kg.passwordForm?a.tKX?void 0:rg:M:void 0;if(Ip(st(()=>s&&f&&R?{Space:R,Enter:R,Escape:R}:void 0,[s,f,R])),!r.bA)return pt.createElement(Qh,{ref:L,name:t&&a.tKX?"slideFade":"semiFade",onContainerClick:R,activeKey:P,className:"F1wWh0wj",shouldCleanup:!0},y?function(e){return pt.createElement("div",{className:qi("VzAZj1DO",void 0!==C&&"bO3Yeq_N",Cd()&&S===kg.passwordForm&&"KGdyJD8j")},S===kg.button&&t?pt.createElement(wg,{ref:k,theme:o,innerContentTopPosition:C,handleChangeSlideForBiometricAuth:M}):pt.createElement(yg,{ref:k,isActive:e,theme:o,innerContentTopPosition:C,shouldHideBiometrics:!!c,onSubmit:g}))}:void 0)})),Ag=r.xy?`${a.p8S?a.yq6:a.DvZ}/version.txt`:"version.txt";Vt("showActivityInfo",(e,t,n)=>{let{id:a}=n;if(!r.bA)return fu(e,{currentActivityId:a});nu("showActivityInfo",{id:a})}),Vt("showAnyAccountTx",async(e,t,n)=>{let{txId:a,accountId:o,network:i}=n;r.bA?nu("showAnyAccountTx",{txId:a,accountId:o,network:i}):(await Promise.all([Nl(),um(e,o,i)]),t.showActivityInfo({id:a}))}),Vt("showAnyAccountTokenActivity",async(e,t,n)=>{let{slug:a,accountId:o,network:i}=n;r.bA?nu("showAnyAccountTokenActivity",{slug:a,accountId:o,network:i}):(await Promise.all([Nl(),um(e,o,i)]),t.showTokenActivity({slug:a}))}),Vt("closeActivityInfo",(e,t,n)=>{var a;let{id:o}=n;if((null===(a=dn(e))||void 0===a?void 0:a.currentActivityId)===o)return fu(e,{currentActivityId:void 0})}),Vt("addSavedAddress",(e,t,n)=>{let{address:a,name:o,chain:r}=n;const{savedAddresses:i=[]}=dn(e)||{};return fu(e,{savedAddresses:[...i,{address:a,name:o,chain:r}]})}),Vt("removeFromSavedAddress",(e,t,n)=>{let{address:a,chain:o}=n;const{savedAddresses:r=[]}=dn(e)||{};return fu(e,{savedAddresses:r.filter(e=>!(e.address===a&&e.chain===o))})}),Vt("toggleTinyTransfersHidden",function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}}),Vt("setCurrentTokenPeriod",(e,t,n)=>{let{period:a}=n;return fu(e,{currentTokenPeriod:a})}),Vt("addAccount",async(e,t,n)=>{let{method:a,password:o,isAuthFlow:i}=n;const s=bn(e),c="importMnemonic"===a;if(s){if(i||(e=lu(e,{isLoading:!0}),Ht(e)),!await ee("verifyPassword",o))return e=Wt(),e=i?cu(e,{isLoading:void 0,error:"Wrong password, please try again."}):lu(Wt(),{isLoading:void 0,error:"Wrong password, please try again."}),void Ht(e);Cd()&&(e=du(Wt()),Ht(e)),await xd(!0)}e=Wt(),e=c||!s?{...e,isAddAccountModalOpen:void 0}:lu(e,{isLoading:!0}),Ht(e),r.bA?nu("addAccount2",{method:a,password:o}):t.addAccount2({method:a,password:o})}),Vt("addAccount2",(e,t,n)=>{let{method:a,password:o}=n;const i="importMnemonic"===a,s=bn(e),c=s?i?Ga.importWallet:void 0:Cd()?Ga.createPin:r.uh?Ga.createBiometrics:Ga.createPassword;!i&&s||(e={...e,appState:Ya.Auth}),e=Tu(e=_u(e=cu(e,{password:o,state:c}))),Ht(e),i?t.startImportingWallet():t.startCreatingWallet()}),Vt("renameAccount",(e,t,n)=>{let{accountId:a,title:o}=n;e={...e,shouldForceAccountEdit:!1},Ht(function(e,t,n){return function(e,t,n){var a;const o=cn(e,t);if(!o)throw new Error(`Account ${t} doesn't exist`);return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,[t]:{...o,...n}}}}}(e,t,{title:n})}(e,a,o)),t.renameNotificationAccount({accountId:a})}),Vt("clearAccountError",e=>lu(e,{error:void 0})),Vt("openAddAccountModal",(e,t,n)=>{const{forceAddingTonOnlyAccount:a}=n||{};!r.bA||e.areSettingsOpen?(e={...e,isAddAccountModalOpen:!0},a&&(e=cu(e,{forceAddingTonOnlyAccount:a})),Ht(e)):nu("openAddAccountModal",n)}),Vt("closeAddAccountModal",(e,t,n)=>(Cd()&&(e=uu(e)),e=cu(e,{forceAddingTonOnlyAccount:void 0}),{...e,isAddAccountModalOpen:void 0})),Vt("changeNetwork",(e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}}),Vt("openSettings",e=>(e=gu(e,{state:uo.Initial}),{...e,areSettingsOpen:!0})),Vt("openSettingsWithState",(e,t,n)=>{let{state:a}=n;!r.bA||e.areSettingsOpen?(e=gu(e,{state:a}),Ht({...e,areSettingsOpen:!0})):nu("openSettingsWithState",{state:a})}),Vt("setSettingsState",(e,t,n)=>{let{state:a}=n;e=gu(e,{state:a}),Ht(e)}),Vt("closeSettings",e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e),Vt("openBackupWalletModal",e=>{if(!r.bA)return{...e,isBackupWalletModalOpen:!0};nu("openBackupWalletModal")}),Vt("closeBackupWalletModal",e=>({...e,isBackupWalletModalOpen:void 0})),Vt("toggleInvestorView",function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}}),Vt("changeLanguage",(e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}}),Vt("toggleCanPlaySounds",function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}}),Vt("setLandscapeActionsActiveTabIndex",(e,t,n)=>{let{index:a}=n;return fu(e,{landscapeActionsActiveTabIndex:a})}),Vt("closeSecurityWarning",e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}})),Vt("toggleTokensWithNoCost",(e,t,n)=>{let{isEnabled:a}=n;return gu(e,{areTokensWithNoCostHidden:a})}),Vt("toggleSortByValue",(e,t,n)=>{let{isEnabled:a}=n;return gu(e,{isSortByValueEnabled:a})}),Vt("updateOrderedSlugs",(e,t,n)=>{let{orderedSlugs:a}=n;return yu(e,{...pn(e),orderedSlugs:a})}),Vt("toggleTokenVisibility",(e,t,n)=>{let{slug:a,shouldShow:o}=n;const r=pn(e)??{},{alwaysShownSlugs:i=[],alwaysHiddenSlugs:s=[]}=r,c=new Set(i),l=new Set(s);return o?(l.delete(a),c.add(a)):(c.delete(a),l.add(a)),yu(e,{...r,alwaysHiddenSlugs:Array.from(l),alwaysShownSlugs:Array.from(c)})}),Vt("deleteToken",(e,t,n)=>{var a,o,r,i;let{slug:s}=n;const c=pn(e)??{};return yu(e,{...c,orderedSlugs:null===(a=c.orderedSlugs)||void 0===a?void 0:a.filter(e=>e!==s),alwaysHiddenSlugs:null===(o=c.alwaysHiddenSlugs)||void 0===o?void 0:o.filter(e=>e!==s),alwaysShownSlugs:null===(r=c.alwaysShownSlugs)||void 0===r?void 0:r.filter(e=>e!==s),deletedSlugs:[...c.deletedSlugs??[],s],importedSlugs:null===(i=c.importedSlugs)||void 0===i?void 0:i.filter(e=>e!==s)})}),Vt("checkAppVersion",e=>{fetch(`${Ag}?${Date.now()}`).then(e=>e.text()).then(t=>{(function(e,t){const n=e.trim();return!!Cp.test(n)&&n!==t})(t=t.trim(),a.hl5)&&(e=Wt(),e={...e,isAppUpdateAvailable:!0,latestAppVersion:t.trim()},Ht(e))}).catch(e=>{a.Oig&&console.error("[checkAppVersion failed] ",e)})}),Vt("requestConfetti",e=>e.settings.animationLevel===a.dnp?e:{...e,confettiRequestedAt:Date.now()}),Vt("requestOpenQrScanner",async(e,t)=>{if((0,r.v3)()){const e=Cr();return void(null==e||e.showScanQrPopup({},n=>{xd(),e.closeScanQrPopup(),t.handleQrCode({data:n})}))}if(r.bA)return void nu("requestOpenQrScanner");let n;e.currentTransfer.state===Xa.Initial?n={currentTransfer:e.currentTransfer}:e.currentSwap.state===no.Blockchain?n={currentSwap:e.currentSwap}:e.currentDomainLinking.state===to.Initial&&(n={currentDomainLinking:e.currentDomainLinking});const{camera:a}=await kp.requestPermissions();"granted"===a||"limited"===a?(e=Wt(),e={...e,isQrScannerOpen:!0,currentQrScan:n},Ht(e)):t.showNotification({message:Vi("Permission denied. Please grant camera permission to use the QR code scanner.")})}),Vt("closeQrScanner",e=>(r.bA&&nu("closeQrScanner"),{...e,isQrScannerOpen:void 0,currentQrScan:void 0})),Vt("handleQrCode",async(e,t,n)=>{let{data:a}=n;if(r.bA)return void nu("handleQrCode",{data:a});const{currentTransfer:o,currentSwap:i,currentDomainLinking:s}=e.currentQrScan||{};if(o){const n=Yl(a,e);return void(n?("error"in n&&t.showError({error:n.error}),Ht(xu(e,{...o,...A(n,["error"])}))):Ht(Ou(xu(e,o),a)))}if(i||s){const t=Yl(a,e),n=(null==t?void 0:t.toAddress)??a;return void Ht(i?Iu(e,{...i,toAddress:n}):cm(e,{...s,walletAddress:n}))}if(await $l(a))return;const c=function(e,t){var n;const a=function(e,t){for(const n of Object.keys(t))if(Fo(e,n))return n}(t,(null===(n=sn(e))||void 0===n?void 0:n.byChain)??{});if(!a)return;const o=e.currentTransfer.tokenSlug;return{toAddress:t,tokenSlug:a!==wa(o)?va(a).slug:o}}(e=Wt(),a);c?t.startTransfer({...c,isPortrait:_s()}):t.showDialog({title:"This QR Code is not supported",message:""})}),Vt("changeBaseCurrency",(e,t,n)=>{let{currency:a}=n;e=gu(e,{baseCurrency:a}),Ht(e)}),Vt("setIsPinAccepted",e=>du(e)),Vt("clearIsPinAccepted",e=>(r.bA&&nu("clearIsPinAccepted"),uu(e))),Vt("openOnRampWidgetModal",(e,t,n)=>{let{chain:a}=n;r.bA?nu("openOnRampWidgetModal",{chain:a}):Ht({...e,chainForOnRampWidgetModal:a})}),Vt("closeOnRampWidgetModal",e=>{Ht({...e,chainForOnRampWidgetModal:void 0})}),Vt("openMediaViewer",(e,t,n)=>{let{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}=n;const c=dn(e),{byAddress:l}=(null==c?void 0:c.nfts)||{};if(null==l?void 0:l[a])return{...e,mediaViewer:{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}}}),Vt("closeMediaViewer",e=>({...e,mediaViewer:{mediaId:void 0,mediaType:void 0}})),Vt("setReceiveActiveTab",(e,t,n)=>{let{chain:a}=n;return fu(e,{receiveModalChain:a})}),Vt("openReceiveModal",(e,t,n)=>{r.bA?nu("openReceiveModal",n):(e=fu(e,{receiveModalChain:null==n?void 0:n.chain}),e={...e,isReceiveModalOpen:!0},Ht(e))}),Vt("closeReceiveModal",e=>({...e,isReceiveModalOpen:void 0})),Vt("openInvoiceModal",(e,t,n)=>{r.bA?nu("openInvoiceModal",n):(e=fu(e,{invoiceTokenSlug:null==n?void 0:n.tokenSlug}),Ht({...e,isInvoiceModalOpen:!0}))}),Vt("changeInvoiceToken",(e,t,n)=>{r.bA&&nu("changeInvoiceToken",n),e=fu(e,{invoiceTokenSlug:n.tokenSlug}),Ht(e)}),Vt("closeInvoiceModal",e=>(e=fu(e,{invoiceTokenSlug:void 0}),{...e,isInvoiceModalOpen:void 0})),Vt("showIncorrectTimeError",(e,t)=>(t.showDialog({message:Vi("Time synchronization issue. Please ensure your device's time settings are correct.")}),{...e,isIncorrectTimeNotificationReceived:!0})),Vt("openLoadingOverlay",e=>{Ht({...e,isLoadingOverlayOpen:!0})}),Vt("closeLoadingOverlay",e=>{Ht({...e,isLoadingOverlayOpen:void 0})}),Vt("clearAccountLoading",e=>{r.bA&&nu("clearAccountLoading"),Ht(lu(e,{isLoading:void 0}))}),Vt("setIsAccountLoading",(e,t,n)=>{let{isLoading:a}=n;Ht(lu(e,{isLoading:a}))}),Vt("authorizeDiesel",e=>{var t;const n=null===(t=sn(e).byChain.ton)||void 0===t?void 0:t.address;if(!n)throw new Error("TON address missing");Ht(fu(e,{isDieselAuthorizationStarted:!0})),Il(`https://t.me/${a.B9l}?start=auth-${n}`)}),Vt("submitAppLockActivityEvent",()=>{r.bA?nu("submitAppLockActivityEvent"):Ng(Date.now())}),Vt("closeAnyModal",()=>{r.bA?nu("closeAnyModal"):gl(Date.now())}),Vt("openExplore",e=>({...e,isExploreOpen:!0})),Vt("closeExplore",e=>({...e,isExploreOpen:void 0})),Vt("openFullscreen",e=>{Ht({...e,isFullscreen:!0}),Td()}),Vt("closeFullscreen",e=>{Ht({...e,isFullscreen:void 0}),Td()}),Vt("setIsSensitiveDataHidden",(e,t,n)=>{let{isHidden:a}=n;Ht(gu(e,{isSensitiveDataHidden:!!a||void 0})),Td()}),Vt("setIsAppLockActive",(e,t,n)=>{let{isActive:a}=n;r.KI&&au("setIsAppLockActive",{isActive:a}),Ht({...e,isAppLockActive:a||void 0})}),Vt("switchAccountAndOpenUrl",async(e,t,n)=>{r.bA?nu("switchAccountAndOpenUrl",n):(await Promise.all([Nl(),n.accountId&&um(e,n.accountId,n.network)]),await Hl(n.url,n))}),Vt("switchToWallet",(e,t)=>{const{areSettingsOpen:n,isExploreOpen:a}=e,o=dn(e),r=(null==o?void 0:o.activeContentTab)===fo.Assets,i=!a&&!n;t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),!r&&i&&(t.selectToken({slug:void 0},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:fo.Assets},{forceOnHeavyAnimation:!0}))}),Vt("switchToExplore",(e,t)=>{const{isExploreOpen:n}=e;n&&t.closeSiteCategory(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),t.openExplore(void 0,{forceOnHeavyAnimation:!0})}),Vt("switchToSettings",(e,t)=>{t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.openSettings(void 0,{forceOnHeavyAnimation:!0})}),Vt("setAppLayout",(e,t,n)=>{let{layout:a}=n;var o;r.cp?null===(o=window.electron)||void 0===o||o.changeAppLayout(a):ee("setAppLayout",a)}),Vt("clearDappConnectRequestError",e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),Ht(e)}),Vt("showDappTransferTransaction",(e,t,n)=>{const{transactionIdx:a}=n;e=Wu(e,{state:Xa.Confirm,viewTransactionOnIdx:a}),Ht(e)}),Vt("setDappTransferScreen",(e,t,n)=>{const{state:a}=n;e=Wu(e,{state:a}),Ht(e)}),Vt("submitDappTransferConfirm",async(e,t)=>{const n=await Rp();fn(e=Wt())?(e=Wu(e=dm(e,"ton"),{state:Xa.ConnectHardware}),Ht(e)):n?(e=Wu(e,{isLoading:!0}),Ht(e),t.submitDappTransfer({password:n})):(e=Wu(e,{state:Xa.Password}),Ht(e))}),Vt("clearDappTransferError",e=>{e=Wu(e,{error:void 0}),Ht(e)}),Vt("openBrowser",(e,t,n)=>{let{url:a,title:o,subtitle:r}=n;e={...e,currentBrowserOptions:{url:a,title:o,subtitle:r}},Ht(e)}),Vt("closeBrowser",e=>{e={...e,currentBrowserOptions:void 0},Ht(e)}),Vt("addSiteToBrowserHistory",(e,t,n)=>{let{url:o}=n;const r=dn(e);e=fu(e,{browserHistory:T([o,...(null==r?void 0:r.browserHistory)||[]]).slice(0,a.uSm)}),Ht(e)}),Vt("removeSiteFromBrowserHistory",(e,t,n)=>{var a;let{url:o}=n;const r=dn(e),i=null==r||null===(a=r.browserHistory)||void 0===a?void 0:a.filter(e=>e!==o);e=fu(e,{browserHistory:null!=i&&i.length?i:void 0}),Ht(e)}),Vt("updateDappLastOpenedAt",(e,t,n)=>{let{url:a}=n;const{dappLastOpenedDatesByUrl:o}=dn(e);e=fu(e,{dappLastOpenedDatesByUrl:{...o,[a]:Date.now()}}),Ht(e)}),Vt("openSiteCategory",(e,t,n)=>{let{id:a}=n;return fu(e,{currentSiteCategoryId:a})}),Vt("closeSiteCategory",e=>fu(e,{currentSiteCategoryId:void 0})),Vt("closeDappTransfer",e=>{e=Wu(e,{state:Xa.None}),Ht(e)}),Vt("setDappSignDataScreen",(e,t,n)=>{const{state:a}=n;return $u(e,{state:a})}),Vt("submitDappSignDataConfirm",async(e,t)=>{const n=await Rp();e=Wt(),n?(e=$u(e,{isLoading:!0}),Ht(e),t.submitDappSignData({password:n})):(e=$u(e,{state:Ja.Password}),Ht(e))}),Vt("clearDappSignDataError",e=>$u(e,{error:void 0})),Vt("closeDappSignData",e=>$u(e,{state:Ja.None}));var Ig=i(51915);async function Tg(e){const t=await Promise.all([i.e(235),i.e(576)]).then(i.bind(i,87576)),n=await t.connectLedger(e);let a=Wt();var o;return n?(Ht(lm(a,{isLedgerConnected:!0,lastUsedTransport:e})),!0):(a=lm(a,{isLedgerConnected:!1,hardwareState:so.Failed}),"usb"===e&&null!==(o=a.hardware.availableTransports)&&void 0!==o&&o.includes("bluetooth")&&(a=lm(a,{lastUsedTransport:"bluetooth"})),Ht(a),!1)}async function Bg(e){const{chain:t}=Wt().hardware,n=await ee("waitForLedgerApp",t);return vm(n)?Lg(n,e):n?(Ht(lm(Wt(),{isChainAppConnected:!0})),!0):(Ht(lm(Wt(),{isChainAppConnected:!1,hardwareState:so.Failed})),!1)}async function xg(){Ht(lm(Wt(),{hardwareState:so.WaitingForRemoteTab})),await(0,c.v7)(500);const e=await(0,Ig.nm)(),t=await chrome.windows.getCurrent();await new Promise(t=>(0,Ig.i6)(e,t)),await chrome.windows.update(t.id,{focused:!0})}async function _g(e){const t=Wt(),n=rn(t),{chain:a}=t.hardware,o=await ee("getLedgerWallets",a,n,0,5);return vm(o)?Lg(o,e):(Ht(lm(Wt(),{hardwareWallets:o})),!0)}function Lg(e,t){const n=(null==e?void 0:e.error)===er.ConnectionBroken;return n&&t?"reconnect":(Ht(lm(Wt(),{isLedgerConnected:!n,...n?{isChainAppConnected:void 0}:void 0,hardwareState:so.Failed})),$t().showError({error:null==e?void 0:e.error}),!1)}let Dg;Vt("initLedgerPage",e=>({...e,appState:Ya.Ledger})),Vt("initializeHardwareWalletModal",async(e,t)=>{const n=await Promise.all([i.e(235),i.e(576)]).then(i.bind(i,87576)),{isBluetoothAvailable:o,isUsbAvailable:s}=await n.detectAvailableTransports(),c=await n.hasUsbDevice(),l=[];s&&l.push("usb"),o&&l.push("bluetooth"),e=lm(e=Wt(),{availableTransports:l}),0===l.length?(Ht(e),a.UMQ?t.showDialog({title:"Bluetooth unavailable",message:"$bluetooth_enable_guide",buttons:{confirm:{title:"Open Settings",action:"openBluetoothSettings"},cancel:{title:"Cancel"}}}):t.showNotification({message:"Ledger is not supported on this device."})):1===l.length?(Ht(e),r.Fe||t.initializeHardwareWalletConnection({transport:l[0]})):(c||(e=lm(e,{lastUsedTransport:"bluetooth"})),Ht(e))}),Vt("initializeHardwareWalletConnection",async(e,t,n)=>{let{transport:o}=n;for(let e=0;e<2;e++){const t=e<1;Ht(lm(Wt(),{hardwareState:so.Connecting,hardwareWallets:void 0,isLedgerConnected:void 0,isChainAppConnected:void 0}));let n=await Tg(o);if(n||!a.hL1||r.Fe||(await xg(),n=await Tg(o)),!n)return;if(r.Fe)return(0,Ig.ks)();const i=await Bg(t);if("reconnect"!==i){if(!i)return;if(Wt().hardware.shouldLoadWallets){const e=await _g(t);if("reconnect"===e)continue;if(!e)return}return void Ht(lm(Wt(),{hardwareState:so.Connected}))}}}),Vt("resetHardwareWalletConnect",(e,t,n)=>{let{chain:a,shouldLoadWallets:o}=n;return dm(e,a,o)}),Vt("loadMoreHardwareWallets",async(e,t)=>{var n;const a=rn(e),{chain:o,hardwareWallets:r=[]}=e.hardware;Ht(lm(Wt(),{isLoading:!0}));const i=(null===(n=r[r.length-1])||void 0===n?void 0:n.wallet.index)??-1,s=await ee("getLedgerWallets",o,a,i+1,6);if(vm(s))return t.showError({error:null==s?void 0:s.error}),void Ht(lm(Wt(),{isLoading:void 0}));Ht(lm(Wt(),{hardwareWallets:P([r,s],(e,t)=>e.wallet.index-t.wallet.index,!0),isLoading:void 0}))}),Pt(e=>{if(!Dg||!Dg.settings)return void(Dg=e);const{settings:t}=Dg,{settings:n}=e;n.theme!==t.theme&&Es(n.theme),n.langCode!==t.langCode&&zi(n.langCode),Dg=e}),Vt("setAppLockValue",(e,t,n)=>{let{value:a,isEnabled:o}=n;return{...e,settings:{...e.settings,autolockValue:a,isAppLockEnabled:o}}}),Vt("setIsManualLockActive",(e,t,n)=>{let{isActive:a,shouldHideBiometrics:o}=n;return{...e,isManualLockActive:a,appLockHideBiometrics:o}}),Vt("setIsAutoConfirmEnabled",(e,t,n)=>{let{isEnabled:a}=n;return a||t.setInMemoryPassword({password:void 0,force:!0}),{...e,settings:{...e.settings,isAutoConfirmEnabled:a||void 0}}}),Vt("setIsAllowSuspiciousActions",(e,t,n)=>{let{isEnabled:a}=n;return vu(e,e.currentAccountId,{isAllowSuspiciousActions:a||void 0})}),Vt("setInMemoryPassword",(e,t,n)=>{let{password:a,isFinalCall:o,force:i}=n;return e.settings.isAutoConfirmEnabled||o||i?(Sn(e)||(Up(a),o||(r.KI&&au("setInMemoryPassword",{password:a,isFinalCall:!0}),r.bA&&nu("setInMemoryPassword",{password:a,isFinalCall:!0}))),e):e}),Vt("openSettingsHardwareWallet",e=>{e=gu(e=dm(e,pa()[0],!0),{state:uo.LedgerConnectHardware}),Ht(e)}),Vt("openNftCollection",(e,t,n)=>{let{address:a}=n;const o=e.currentAccountId;return hu(e,o,{nfts:{...un(e,o).nfts,currentCollectionAddress:a}})}),Vt("closeNftCollection",e=>fu(e,{nfts:{...dn(e).nfts,currentCollectionAddress:void 0},selectedNftsToHide:void 0})),Vt("selectNfts",(e,t,n)=>{let{addresses:a}=n;e=function(e,t,n){const a=un(e,t).nfts,o=[...(null==a?void 0:a.selectedAddresses)??[],...n];return hu(e,t,{nfts:{...a,selectedAddresses:o}})}(e,e.currentAccountId,a),Ht(e)}),Vt("selectAllNfts",(e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,{blacklistedNftAddresses:r,whitelistedNftAddresses:i}=un(e,o)||{},s=new Set(i),c=new Set(r),{nfts:l}=un(e,o),d=Object.values(l.byAddress).filter(e=>(!e.isHidden||s.has(e.address))&&!c.has(e.address)&&(void 0===a||e.collectionAddress===a));e=hu(e,o,{nfts:{...l,selectedAddresses:d.map(e=>{let{address:t}=e;return t})}}),Ht(e)}),Vt("clearNftSelection",(e,t,n)=>{let{address:a}=n;e=function(e,t,n){const a=un(e,t).nfts,o=((null==a?void 0:a.selectedAddresses)??[]).filter(e=>e!==n);return hu(e,t,{nfts:{...a,selectedAddresses:o.length?o:void 0}})}(e,e.currentAccountId,a),Ht(e)}),Vt("clearNftsSelection",e=>{const t=e.currentAccountId;e=hu(e,t,{nfts:{...un(e,t).nfts,selectedAddresses:[]}}),Ht(e)}),Vt("addCollectionTab",(e,t,n)=>{let{collectionAddress:o,isAuto:r}=n;const i=e.currentAccountId,s=un(e,i),c=(null==s?void 0:s.nfts)||{byAddress:{}};if(r&&o===a.X6R&&c.wasTelegramGiftsAutoAdded)return e;const l=c.collectionTabs||[];return l.includes(o)||(e=hu(e,i,{nfts:{...c,collectionTabs:[...l,o],...r&&o===a.X6R&&{wasTelegramGiftsAutoAdded:!0}}})),e}),Vt("removeCollectionTab",(e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,r=un(e,o),i=(null==r?void 0:r.nfts)||{byAddress:{}};return i.collectionTabs?e=hu(e,o,{nfts:{...i,collectionTabs:i.collectionTabs.filter(e=>e!==a)}}):e}),Vt("openVestingModal",e=>{Ht({...e,isVestingModalOpen:!0})}),Vt("closeVestingModal",e=>{Ht({...e,isVestingModalOpen:void 0})}),Vt("startClaimingVesting",e=>{if(r.bA)return void nu("startClaimingVesting");const t=e.currentAccountId;e=fn(e=rm(e={...e,isVestingModalOpen:void 0},t,{isConfirmRequested:!0}))?rm(e=dm(e,"ton"),t,{unfreezeState:lo.ConnectHardware}):rm(e,t,{unfreezeState:lo.Password}),Ht(e)}),Vt("cancelClaimingVesting",e=>{e=rm(e,e.currentAccountId,{isConfirmRequested:void 0}),Ht(e)}),Vt("clearVestingError",e=>{e=rm(e,e.currentAccountId,{error:void 0}),Ht(e)}),Vt("rebuildOrderedSlugs",e=>{const t=pn(e)??{},{orderedSlugs:n=[]}=t,a=(jn(e)??[]).map(e=>{let{slug:t}=e;return t}),o=T([...n,...a]);return x(n,o)?e:yu(e,{...t,orderedSlugs:o})}),Vt("showTokenActivity",(e,t,n)=>{let{slug:a}=n;t.selectToken({slug:a},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:fo.Activity})}),Vt("startTransfer",(e,t,n)=>{var a,o;const i=e.currentTransfer.state!==Xa.None;if(r.bA&&!i)return void nu("startTransfer",n);const{isPortrait:s,...c}=n??{},l=Symbol("nft"),d=null!==(a=e.currentTransfer.nfts)&&void 0!==a&&a.length?l:e.currentTransfer.tokenSlug,u=null!=n&&null!==(o=n.nfts)&&void 0!==o&&o.length?l:null==n?void 0:n.tokenSlug,m=u&&u!==d;Ht(xu(e,{state:s?Xa.Initial:Xa.None,error:void 0,...m?{fee:void 0,realFee:void 0,diesel:void 0}:{},...c})),s||t.setLandscapeActionsActiveTabIndex({index:po.Transfer})}),Vt("changeTransferToken",(e,t,n)=>{let{tokenSlug:a,withResetAmount:o}=n;const{amount:r,tokenSlug:i,nfts:s}=e.currentTransfer;if(!(null!=s&&s.length||a!==i||o))return;const c=i?e.tokenInfo.bySlug[i]:void 0,l=e.tokenInfo.bySlug[a];o?e=xu(e,{amount:void 0}):r&&(null==c?void 0:c.decimals)!==(null==l?void 0:l.decimals)&&(e=xu(e,{amount:(0,zn.UH)((0,zn.nI)(r,null==c?void 0:c.decimals),null==l?void 0:l.decimals)})),Ht(xu(e,{tokenSlug:a,fee:void 0,realFee:void 0,diesel:void 0,nfts:void 0}))}),Vt("setTransferScreen",(e,t,n)=>{const{state:a}=n;return xu(e,{state:a})}),Vt("setTransferAmount",(e,t,n)=>{let{amount:a}=n;return xu(e,{amount:a})}),Vt("setTransferToAddress",(e,t,n)=>{let{toAddress:a}=n;return Ou(e,a)}),Vt("setTransferComment",(e,t,n)=>{let{comment:a}=n;return xu(e,{comment:a})}),Vt("setTransferShouldEncrypt",(e,t,n)=>{let{shouldEncrypt:a}=n;return xu(e,{shouldEncrypt:a})}),Vt("submitTransferConfirm",async(e,t)=>{const n=await Rp();e=Wt();const{tokenSlug:a}=e.currentTransfer,o=wa(a);fn(e)?(e=xu(e=dm(e,o),{state:Xa.ConnectHardware}),Ht(e)):n?(e=xu(e,{isLoading:!0}),Ht(e),t.submitTransfer({password:n})):(e=xu(e,{state:Xa.Password}),Ht(e))}),Vt("clearTransferError",e=>{Ht(xu(e,{error:void 0}))}),Vt("dismissTransferScamWarning",e=>{r.KI&&au("dismissTransferScamWarning"),e=xu(e,{scamWarningType:void 0}),Ht(e)}),Vt("showTransferScamWarning",(e,t,n)=>{let{type:a}=n;e=xu(e,{scamWarningType:a}),Ht(e)}),Vt("setTheme",(e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}}),Vt("setAnimationLevel",(e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}}),Vt("tryAddNotificationAccount",(e,t,n)=>{let{accountId:o}=n;e.pushNotifications.isAvailable&&Object.keys(nn(e)||{}).length<=a.vdF&&t.createNotificationAccount({accountId:o})}),Vt("renameNotificationAccount",(e,t,n)=>{let{accountId:a}=n;const{enabledAccounts:o,isAvailable:r}=e.pushNotifications;r&&null!=o&&o[a]&&t.createNotificationAccount({accountId:a})}),Vt("toggleNotificationAccount",(e,t,n)=>{let{accountId:o}=n;const{enabledAccounts:r,userToken:i,platform:s}=e.pushNotifications;if(!i||!s)return;const c=r&&r[o];!c&&r&&Zt(r,a.vdF-1)||(c?t.deleteNotificationAccount({accountId:o,withAbort:!0}):t.createNotificationAccount({accountId:o,withAbort:!0}))}),Vt("deleteAllNotificationAccounts",async(e,t,n)=>{const{enabledAccounts:a,userToken:o}=e.pushNotifications;if(!a||!o)return;const r=(null==n?void 0:n.accountIds)||Object.keys(a);await ee("unsubscribeNotifications",{userToken:o,addresses:Object.values(ad(e,r))}),e=Wt(),Ht(ap(e))});var Og=i(41074);const Mg={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]},Fg=new Set([13,14,15,16]);function Pg(e,t,n){const a=n?Mg[t][n]:void 0;it(()=>{const t="body"===e?document.body:e.current;t&&(Gc(t,{"--color-accent":a||"inherit","--color-accent-10o":a?`${a}1A`:"inherit","--color-accent-button-background":a||"inherit","--color-accent-button-background-hover":a?`${a}CC`:"inherit","--color-accent-button-text":"#FFFFFF"===a?"#000000":"inherit","--color-accent-button-text-hover":"#FFFFFF"===a?"#000000":"inherit"}),Yc(document.documentElement,"is-white-accent","#FFFFFF"===a))},[e,a])}async function Rg(e){const{mtwCardType:t,mtwCardBorderShineType:n}=e.metadata;if("radioactive"===n)return 13;if("silver"===t)return 14;if("gold"===t)return 15;if("platinum"===t||"black"===t)return 16;const a=vi(e);if(a)try{return await(0,Og.M1)({name:"offscreen-canvas:processNftImage",args:[a,1,2]},Math.round(e.index)%Og.bP)}catch(e){return void(0,o.SJ)("getAccentColorIndexFromNft",e)}}Mg.light.map((e,t)=>({color:e,index:t})).filter(e=>{let{index:t}=e;return!Fg.has(t)}),Vt("openMintCardModal",e=>im(e,{state:mo.Initial})),Vt("closeMintCardModal",e=>({...e,currentMintCard:void 0})),Vt("startCardMinting",(e,t,n)=>{let{type:a}=n;return fn(e)?im(e=dm(e,"ton"),{state:mo.ConnectHardware}):im(e,{state:mo.Password})}),Vt("clearMintCardError",e=>im(e,{error:void 0})),Vt("setCardBackgroundNft",(e,t,n)=>{let{nft:a}=n;r.bA?nu("setCardBackgroundNft",{nft:a}):(e=yu(e,{cardBackgroundNft:a}),Ht(e))}),Vt("clearCardBackgroundNft",e=>{r.bA?nu("clearCardBackgroundNft"):(e=yu(e,{cardBackgroundNft:void 0}),Ht(e))}),Vt("installAccentColorFromNft",async(e,t,n)=>{let{nft:a}=n;const o=await Rg(a);e=yu(e=Wt(),{accentColorNft:a,accentColorIndex:o}),Ht(e)}),Vt("clearAccentColorFromNft",e=>yu(e,{accentColorNft:void 0,accentColorIndex:void 0})),Vt("openDomainRenewalModal",async(e,t,n)=>{var a;let{accountId:o,network:r,addresses:i}=n;if(o&&await Promise.all([Nl(),um(e,o,r)]),!await(0,c.fm)(()=>{var e;return Boolean(null===(e=dn(Wt()))||void 0===e||null===(e=e.nfts)||void 0===e?void 0:e.byAddress)},1e3,30))return;e=Wt();const{byAddress:s}=(null===(a=dn(e))||void 0===a?void 0:a.nfts)||{};i=(i||[]).filter(e=>null==s?void 0:s[e]),i.length&&(e=sm(e,{state:eo.Initial,addresses:i}),Ht(e))}),Vt("startDomainsRenewal",e=>fn(e)?sm(e=dm(e,"ton"),{state:eo.ConnectHardware}):sm(e,{state:eo.Password})),Vt("clearDomainsRenewalError",e=>sm(e,{error:void 0})),Vt("cancelDomainsRenewal",e=>({...e,currentDomainRenewal:ru.currentDomainRenewal})),Vt("openDomainLinkingModal",(e,t,n)=>{let{address:a}=n;return cm(e,{state:to.Initial,address:a})}),Vt("startDomainLinking",e=>fn(e)?cm(e=dm(e,"ton"),{state:to.ConnectHardware}):cm(e,{state:to.Password})),Vt("clearDomainLinkingError",e=>cm(e,{error:void 0})),Vt("cancelDomainLinking",e=>({...e,currentDomainLinking:ru.currentDomainLinking})),Vt("setDomainLinkingWalletAddress",(e,t,n)=>{let{address:a}=n;return cm(e,{walletAddress:a})});const Ug=a.UMQ?500:5e3,Wg=(0,c.nF)(()=>Te(()=>jg()),Ug,!1),Hg=()=>jg(!0);let $g,Vg,zg=!1;function Kg(){var e;zg&&(window.removeEventListener("blur",Hg),null===(e=$g)||void 0===e||e(),function(e){const t=At.indexOf(e);-1!==t&&At.splice(t,1)}(Wg),zg=!1)}const qg=e=>{const t=new Set(Object.keys(a.lfO));if(e.currentAccountId){var n;const a=null===(n=e.byAccountId[e.currentAccountId])||void 0===n?void 0:n.currentTokenSlug;a&&t.add(a)}return Object.values(e.byAccountId).forEach(e=>{const{balances:n,activities:a,staking:o}=e;Object.keys((null==n?void 0:n.bySlug)??{}).forEach(e=>t.add(e)),Object.keys((null==a?void 0:a.byId)??{}).forEach(e=>{Ba(a.byId[e]).forEach(e=>t.add(e))}),Object.keys((null==a?void 0:a.idsBySlug)??{}).forEach(e=>t.add(e)),Object.keys((null==o?void 0:o.stateById)??{}).forEach(e=>{t.add(o.stateById[e].tokenSlug)})}),Array.from(t)};function jg(e){var t;if(a.UuV||!zg||!e&&Ae())return;const n=Wt(),o=(null===(t=n.accounts)||void 0===t?void 0:t.byId)||{},r={...ru,...N(n,["currentAccountId","stateVersion","restrictions","pushNotifications","isFullscreen","isManualLockActive","stakingDefault","currencyRates"]),accounts:{byId:o},byAccountId:Yg(n),settings:{...n.settings,byAccountId:N(n.settings.byAccountId,Object.keys(o))}},i=qg(r);r.tokenInfo={bySlug:S(n.tokenInfo.bySlug,i)};const s=JSON.stringify(r);localStorage.setItem(a.pge,s)}function Yg(e){return Object.entries(e.byAccountId).reduce((t,n)=>{var o,r,i;let[s,c]=n;if(null===(o=e.accounts)||void 0===o||!o.byId[s])return t;t[s]=N(c,["isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","staking","activeContentTab","landscapeActionsActiveTabIndex","browserHistory","blacklistedNftAddresses","whitelistedNftAddresses","dappLastOpenedDatesByUrl","dapps"]),null!==(r=c.nfts)&&void 0!==r&&r.collectionTabs&&(t[s].nfts={collectionTabs:c.nfts.collectionTabs,wasTelegramGiftsAutoAdded:c.nfts.wasTelegramGiftsAutoAdded});const l=function(e,t){const{currentTokenSlug:n}=un(e,t)??{},o=O(Qn(e,t)??[],"slug").slice(0,30);return o.includes(a.Tu9.slug)||o.push(a.Tu9.slug),n&&!o.includes(n)&&o.push(n),o}(e,s);var d,u;return t[s].balances=(u=l,null!=(d=c.balances)&&d.bySlug&&u?{...d,bySlug:N(d.bySlug,u)}:d),t[s].activities=function(e,t){const{idsBySlug:n,newestActivitiesBySlug:a,byId:o,idsMain:r}=e||{};if(!(t&&n&&o&&r))return;const i=Gg(r,o),s=C(S(n,t),e=>Gg(e,o)),c=a?N(a,t):void 0,l=Object.values(s).concat(i).flat();return{byId:N(o,l),idsMain:i,idsBySlug:s,newestActivitiesBySlug:c}}(c.activities,l),t[s].staking=function(e){let{stakingId:t,stateById:n}=e??{};var a;n&&!Xt(n)&&(n=function(e,t){return Object.keys(e).reduce((n,a,o)=>(t(e[a],a,o,e)&&(n[a]=e[a]),n),{})}(n,Tm),t&&t in n||(t=null===(a=Object.values(n)[0])||void 0===a?void 0:a.id));return{...e,stateById:n,stakingId:t}}(c.staking),t[s].stakingHistory=null!==(i=c.stakingHistory)&&void 0!==i&&i.length?c.stakingHistory.slice(0,30):void 0,t},{})}function Gg(e,t){const n=[];let a=0;return e.filter(e=>function(e,t){const n=t[e];return n&&!Ia(e)&&!Ra(n)}(e,t)).forEach(e=>{20!==a&&(t[e].shouldHide||(a+=1),n.push(e))}),n}r.bA||a.UuV||(Vt("afterSignIn",function(){zg||(zg=!0,Pt(Wg),$g=(0,c.yu)(Hg,!0),window.addEventListener("blur",Hg),Hg())}),Vt("afterSignOut",(e,t,n)=>{ia(),null!=n&&n.shouldReset&&(Vg=N(e,["swapTokenInfo","tokenInfo","restrictions"]),Kg(),localStorage.removeItem(a.pge))}),Vt("cancelCaching",Kg)),Vt("init",(e,t)=>{const n=_(ru),o=function(e){if(a.UuV)return e;a.Oig&&console.time("global-state-cache-read");const t=localStorage.getItem(a.pge);let n=t?JSON.parse(t,Ao.bk):void 0;if(a.Oig&&console.timeEnd("global-state-cache-read"),n)try{!function(e,t){if(e.settings={...t.settings,...e.settings},47!==e.stateVersion){var n;if(e.byAccountId||(e.accounts={byId:{[a.Kih]:{address:e.addresses.byAccountId[a.Kih],title:"Main Account"}}},delete e.addresses,e.byAccountId={},e.byAccountId[a.Kih]={isBackupRequired:Boolean(e.isBackupRequired),currentTokenSlug:e.currentTokenSlug,currentTokenPeriod:e.currentTokenPeriod},"balances"in e&&(e.byAccountId[a.Kih].balances=e.balances.byAccountId[a.Kih],delete e.balances),"transactions"in e&&(e.byAccountId[a.Kih].transactions=e.transactions,delete e.transactions),"nfts"in e&&(e.byAccountId[a.Kih].nfts=e.nfts,delete e.nfts),"savedAddresses"in e&&(e.byAccountId[a.Kih].savedAddresses=e.savedAddresses,delete e.savedAddresses),"backupWallet"in e&&delete e.backupWallet),e.currentAccountId&&e.byAccountId[e.currentAccountId]||!Object.keys(e.byAccountId).length||(e.currentAccountId=Object.keys(e.byAccountId)[0]),e.stateVersion||!e.accounts||Xt(e.accounts)||(e.stateVersion=1),1===e.stateVersion&&(e.stateVersion=2,null!==(n=e.tokenInfo)&&void 0!==n&&n.bySlug&&(e.tokenInfo.bySlug={toncoin:{...e.tokenInfo.bySlug.toncoin,decimals:a.Tu9.decimals}}),e.byAccountId&&Object.values(e.byAccountId).forEach(e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=N(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions})),2===e.stateVersion){e.stateVersion=3;const t="0",n=a.Kih;if(e.accounts&&t in e.accounts.byId&&(e.currentAccountId===t&&(e.currentAccountId=n),e.accounts.byId[n]=e.accounts.byId[t],delete e.accounts.byId[t],e.byAccountId[n]=e.byAccountId[t],delete e.byAccountId[t]),e.accounts)for(const t of Object.keys(e.accounts.byId)){const n=Yt({...jt(t),network:"testnet"});e.accounts.byId[n]=_(e.accounts.byId[t]),e.byAccountId[n]={}}}if(3===e.stateVersion&&(e.stateVersion=4,e.byAccountId))for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].transactions;if(4===e.stateVersion&&(e.stateVersion=5,e.staking={state:co.None}),5===e.stateVersion&&(e.stateVersion=6,e.byAccountId))for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].transactions;if(6===e.stateVersion&&(e.stateVersion=7,e.byAccountId))for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].transactions;if(7===e.stateVersion){if(e.byAccountId)for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].backupWallet;e.stateVersion=8}if(8===e.stateVersion&&(e.settings&&r.cp&&(e.settings.isDeeplinkHookEnabled=!0),e.stateVersion=9),9===e.stateVersion&&(i(),e.stateVersion=10),10===e.stateVersion&&(void 0===e.settings.areTokensWithNoBalanceHidden&&(e.settings.areTokensWithNoBalanceHidden=!0),e.stateVersion=11),11===e.stateVersion&&(i(),e.stateVersion=12),12===e.stateVersion){if(e.byAccountId)for(const t of Object.keys(e.byAccountId)){delete e.byAccountId[t].activities;const{balances:n}=e.byAccountId[t];n&&(n.bySlug=Object.entries(n.bySlug).reduce((e,t)=>{let[n,a]=t;return e[n]=BigInt(a),e},{}))}e.stateVersion=13}if(13===e.stateVersion){const{areTokensWithNoPriceHidden:t,areTokensWithNoBalanceHidden:n}=e.settings;e.settings.areTokensWithNoCostHidden=Boolean(t||n),e.stateVersion=14}if(e.stateVersion>=14&&e.stateVersion<=17&&(i(),e.stateVersion=18),18===e.stateVersion||19===e.stateVersion){for(const t of Object.keys(e.byAccountId))e.byAccountId[t].currentTokenPeriod="1D";e.stateVersion=20}if(e.stateVersion>=20&&e.stateVersion<=22&&(i(),e.stateVersion=23),23===e.stateVersion&&("isSortByValueEnabled"in e.settings||(e.settings.isSortByValueEnabled=t.settings.isSortByValueEnabled),e.stateVersion=24),24===e.stateVersion){if(e.accounts){i();for(const t of Object.values(e.accounts.byId))t.addressByChain={ton:t.address},delete t.address}e.stateVersion=25}if(25===e.stateVersion){if(e.byAccountId)for(const t of Object.keys(e.byAccountId)){const n=e.byAccountId[t].savedAddresses;n&&!("length"in n)&&(e.byAccountId[t].savedAddresses=Object.keys(n).map(e=>({name:n[e],address:e,chain:"ton"})))}e.stateVersion=26}if(26===e.stateVersion&&(i(),e.stateVersion=27),27===e.stateVersion&&(delete e.settings.dapps,e.stateVersion=28),28===e.stateVersion){const t=Object.keys(e.settings.byAccountId);for(const n of t){const t=e.settings.byAccountId[n].exceptionSlugs;e.settings.areTokensWithNoCostHidden?e.settings.byAccountId[n].alwaysShownSlugs=t:e.settings.byAccountId[n].alwaysHiddenSlugs=t}e.stateVersion=29}if(29===e.stateVersion&&(e.currentTransfer.tokenSlug=a.Tu9.slug,e.stateVersion=30),30===e.stateVersion&&(i(),e.stateVersion=31),31===e.stateVersion&&(e.settings.autolockValue&&"never"!==e.settings.autolockValue&&(e.settings.isAppLockEnabled=!0),e.stateVersion=32),e.stateVersion>=32&&e.stateVersion<=35&&(i(),e.stateVersion=36),36===e.stateVersion){for(const t of Object.values((null===(o=e.accounts)||void 0===o?void 0:o.byId)??{})){var o;t.type=t.isHardware?"hardware":"mnemonic",delete t.isHardware}e.stateVersion=37}if(37===e.stateVersion){for(const t of Object.values(e.tokenInfo.bySlug))t.price||(t.price=0),t.percentChange24h||(t.percentChange24h=0),t.priceUsd||(t.priceUsd=0),t.quote&&delete t.quote;e.stateVersion=38}if(e.stateVersion>=38&&e.stateVersion<=41&&(i(),e.stateVersion=42),41===e.stateVersion){for(const t of Object.keys(e.byAccountId)){const n=e.byAccountId[t];n.dappLastOpenedDatesByOrigin&&(n.dappLastOpenedDatesByUrl=n.dappLastOpenedDatesByOrigin,delete n.dappLastOpenedDatesByOrigin)}e.stateVersion=42}if(e.stateVersion>=42&&e.stateVersion<=44&&(i(),e.stateVersion=45),45===e.stateVersion){if(i(),e.accounts)for(const t of Object.values(e.accounts.byId)){const e=t;e.byChain||(e.byChain=C(e.addressByChain??{},(t,n)=>{var a,o;return{address:t,domain:null===(a=e.domainByChain)||void 0===a?void 0:a[n],isMultisig:(null===(o=e.isMultisigByChain)||void 0===o?void 0:o[n])||void 0}}),delete e.addressByChain,delete e.domainByChain,delete e.isMultisigByChain)}e.stateVersion=46}if(46===e.stateVersion){if(e.accounts)for(const t of Object.values(e.accounts.byId)){const e=t;"hardware"===e.type&&e.byChain.ton&&e.ledger&&(e.byChain.ton.ledgerIndex=e.ledger.index,delete e.ledger)}e.stateVersion=47}}function i(){if(e.byAccountId)for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].activities}}(n,e),function(e){oa(e)}(n)}catch(e){console.error(e),n=void 0}return{...e,...Vg,...n}}(n);return r.bA?{...n,settings:{...n.settings,theme:o.settings.theme}}:r.Fe?(t.initLedgerPage(),{...n,settings:{...n.settings,theme:o.settings.theme}}):(function(e){return Boolean(e.currentAccountId)}(o)&&t.afterSignIn(),o)}),BigInt.prototype.toJSON=function(){return`${Ao.tH}${this.toString()}`};let Qg=!1;async function Xg(){await new Promise(e=>{const t=[];let n=performance.now();(0,se.i0)(()=>{const a=performance.now();if(t.push(a-n),n=a,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0},c.IJ)})<=35&&function(){Qg=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame(()=>{t.addEventListener("transitionend",()=>{e.remove()}),t.style.transform=""})}()}let Zg=function(e){return e.DEEPLINK="deeplink",e.UPDATE_ERROR="update-error",e.UPDATE_DOWNLOADED="update-downloaded",e}({});const Jg=function(){let e,t=!1;const n=function(n){var a;t=!0,null===(a=e)||void 0===a||a.call(this,{...n,preventScroll:!0})},a=()=>{ev(r.Ni&&t),t=!1};return{install(){e||(e=HTMLElement.prototype.focus,HTMLElement.prototype.focus=n,window.addEventListener("focusin",a))},uninstall(){e&&(HTMLElement.prototype.focus=e,e=void 0,window.removeEventListener("focusin",a))}}}();function ev(e){const t=document.activeElement;if(!t)return;const n=t.dataset.focusScrollPosition??"nearest";(0,we.YS)(()=>{t.scrollIntoView({block:n,behavior:e?"instant":"auto"})})}const tv=r.Fe||r.bA||r.cp||a.tKX,nv=String(Date.now()+Math.random());let av;tv||localStorage.setItem(a.tOu,nv);const ov=window.setInterval(()=>{!tv&&av&&localStorage.getItem(a.tOu)!==nv&&(av(),clearInterval(ov))},2e3);var rv=i(37448);const iv=(0,t.F3)("Filesystem",{web:()=>i.e(956).then(i.bind(i,69956)).then(e=>new e.FilesystemWeb)}),sv=(0,t.F3)("Share",{web:()=>i.e(104).then(i.bind(i,78104)).then(e=>new e.ShareWeb)});async function cv(e,t){const n={url:e,title:t};await lv(n)||await dv(n)||(await Ld(e),$t().showNotification({message:Vi("Link was copied!"),icon:"icon-link"}))}async function lv(e){if(!a.UMQ)return!1;try{return await sv.share(e),!0}catch(e){if(e instanceof Error&&"Share canceled"===e.message)return!0;if(e instanceof Error&&"Can't share while sharing is in progress"===e.message)return!1;throw e}}async function dv(e){if(!r.TF||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return!0;if(e instanceof Error&&"NotAllowedError"===e.name)return!1;throw e}}function uv(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=vt(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}const mv={button:"zVKWQb4E",item:"p6wqAx5G",wide:"r6y8uqO8",interactive:"Q9ntFVQX",label:"D1GD_LrJ",light:"soVchDDr",inherit:"wFCZ8RVE",disabled:"pvIBCUiV",dangerous:"pGdKfZ0g",buttonIcon:"N6o0srlb",item_selected:"RsC78CT6",itemSelected:"RsC78CT6",item_with_icon:"U_181tTH",itemWithIcon:"U_181tTH",itemIcon:"Y6vHSLLj",itemMainIcon:"j8oqwmMI",itemOverlayIcon:"Kyq0Mbfk",fontIcon:"YG4KjBia",itemName:"Mj3kpKk7",itemDescription:"SGTt7OqT",delimiter:"MtXTN7mi",delimiterAfter:"K5zqNd8W",dropdownButtonWrapper:"M88J3eDx",spinner:"O6oZGmyS"},pv=ut(function(e){let{item:t,shouldUseSelectedName:n,shouldTranslate:a,prefix:o,suffix:r,className:i,iconClassName:s,iconOverlayClassName:c,fontIconClassName:l,itemClassName:d,itemDescriptionClassName:u,onClick:m}=e;const p=Ki(),f=n?t.selectedName??t.name:t.name,h=qi(t.isDisabled&&mv.disabled,t.isDangerous&&mv.dangerous,i);return pt.createElement("button",{type:"button",className:h,disabled:t.isDisabled,onClick:m&&(e=>m(e,t.value))},o,t.icon&&pt.createElement("span",{className:qi("icon",mv.itemIcon,s)},pt.createElement("img",{src:t.icon,alt:"",className:mv.itemMainIcon}),t.overlayIcon&&pt.createElement("img",{src:t.overlayIcon,alt:"",className:qi("icon",mv.itemOverlayIcon,c)})),t.fontIcon&&pt.createElement("i",{className:qi(`icon icon-${t.fontIcon}`,mv.fontIcon,l),"aria-hidden":!0}),pt.createElement("span",{className:qi(mv.itemName,d)},a?p(f):f,!!t.description&&pt.createElement("span",{className:qi(mv.itemDescription,u)},a&&"string"==typeof t.description?p(t.description):t.description)),r)});function fv(e){return rs({onEsc:()=>{e()}})}const hv={wrapper:"VydD7Rve",inPortal:"vcuzKHhA",bubble:"mY0hTIiL",top:"FsyRNnQH",bottom:"tkKrx8OR",left:"MvEERemq",right:"y6xJQNRF",backdrop:"gc2eH8vQ",menu:"gtd29jbF",suggestion:"BYQgxGEv",dropdown:"IxGdkmhI"},gv=16,vv={width:0,left:0,height:0,top:0,right:0,bottom:0};function yv(e,t,n){let{anchor:a,positionX:o="left",positionY:r="top",transformOriginX:i,transformOriginY:s,style:c,bubbleStyle:l}=n;const d=e.current,u=t.current;let m=c;a&&!c&&(m=`left: ${a.x}px; top: ${a.y}px`),m&&(d.style.cssText=m),l&&(u.style.cssText=l),o&&(jc(u,hv.left),jc(u,hv.right),qc(u,hv[o])),r&&(jc(u,hv.top),jc(u,hv.bottom),qc(u,hv[r])),Gc(u,{transformOrigin:[i?`${i}px`:o,s?`${s}px`:r].join(" ")})}const wv=200,bv=e=>{let{children:t,isOpen:n,id:a,menuRef:o,className:r,bubbleClassName:i,type:s="menu",autoClose:c=!1,shouldSkipTransition:l,noBackdrop:d=!1,withPortal:u,noCloseOnBackdrop:m=!1,shouldCleanup:p,onCloseAnimationEnd:f,onClose:h,onMouseEnter:g,onMouseLeave:v,...y}=e;const w=lt();let b=lt();o&&(b=o),function(e,t,n,a){const o=oi(a);it(()=>{if(!e)return;const a=o.current;!function(e){return"getRootElement"in e}(a)?yv(t,n,a):(0,we.gm)(()=>{const e=function(e){let{anchor:t,getRootElement:n,getMenuElement:a,getTriggerElement:o,getLayout:r,withMaxHeight:i}=e;const s=(null==r?void 0:r())||{},{triggerRect:c,rootRect:l,menuDimensions:d}=function(e){let{getTriggerElement:t,getRootElement:n,getMenuElement:a,layout:o,anchor:r}=e;const i=null==t?void 0:t(),s=n(),c=a(),{extraMarginTop:l=0,menuElMinWidth:d=0}=o,u=i?i.getBoundingClientRect():{...vv,left:r.x,top:r.y,right:r.x,bottom:r.y},m=s?s.getBoundingClientRect():vv;let p;if(m.height-=dr().safeAreaBottom,c){const e=parseInt(getComputedStyle(c).marginTop,10)+l,{offsetWidth:t,offsetHeight:n}=c;p={width:Math.max(t,d),height:n+e,marginTop:e}}else p={width:0,height:0,marginTop:0};return{triggerRect:u,rootRect:m,menuDimensions:p}}({getTriggerElement:o,getRootElement:n,getMenuElement:a,layout:s,anchor:t}),{positionX:u,x:m}=function(e,t,n,a){let o,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"right",i=e.x;return"right"===r?i-n>=t.left+gv?(o="right",i-=3):(o="left",i+=3):i+n<=t.right-gv?(o="left",i+=3):(o="right",i-=3),i+=a,{positionX:o,x:i}}(t,l,d.width,s.deltaX||0,s.preferredPositionX),{positionY:p,y:f}=function(e,t,n,a,o){const{topShiftY:r=0,extraTopPadding:i=0,isDense:s=!1,doNotCoverTrigger:c=!1,preferredPositionY:l}=o;let d,u=e.y;if(c){const e=t.bottom+6+a<=n.bottom,o=t.top-6-a>=n.top;e&&"bottom"!==l?(d="top",u=t.bottom+6):o?(d="bottom",u=t.top-6):(d="bottom",u=n.top+n.height)}else{const e=u+r,o=e+t.height+a<n.height+n.top,c=u-t.height-a>=n.top+i;"bottom"===l&&c||!s&&!o?(d="bottom",c||(u=n.top+n.height)):(d="top",u=e)}return{positionY:d,y:u}}(t,c,l,d.height,s),h=function(e,t,n,a,o,r){const{shouldAvoidNegativePosition:i=!1,withPortal:s=!1,isDense:c=!1,menuElMinWidth:l=0,centerHorizontally:d=!1}=r;let{x:u,y:m}=e;if(d)u=n.left+(n.width-o.width)/2,u=Yi(u,a.left+gv,a.right-o.width-gv),s||(m-=n.top);else{const e=Math.min(u-n.left,a.width-o.width-gv);"left"===t?u=s||i?Math.max(gv,e):e:u-=n.left,s?u+=n.left:m-=n.top}c&&(u=Math.min(u,a.width-o.width-gv),m=Math.min(m,a.height-o.height-gv)),s&&!d&&(u="left"===t?Math.min(u,a.width-o.width-gv):Math.max(u,gv+o.width));const p=l?Math.max(0,(l-(o.width-l))/2):0;return u-p<0&&i&&(u=p+gv),{x:u,y:m}}({x:m,y:f},u,c,l,d,s),g=function(e,t,n,a,o,r){const i=r?{x:a.left,y:a.top}:{x:0,y:0},s=e.x+i.x-a.left-t.x,c=e.y+i.y-a.top-t.y-o.marginTop;return{x:"left"===n.positionX?s:o.width+s,y:"bottom"===n.positionY?o.height+c:c}}(t,h,{positionX:u,positionY:p},c,d,s.withPortal||!1),v=`left: ${h.x}px; top: ${h.y}px; --menu-width: ${d.width}px;`;let y;return i&&(y=`max-height: ${l.height-12-d.marginTop}px;`),{positionX:u,positionY:p,transformOriginX:g.x,transformOriginY:g.y,style:v,bubbleStyle:y}}(a);return()=>{yv(t,n,e)}})},[e,t,n,o])}(n,w,b,y),lc({isActive:Boolean(n&&h),onBack:h,shouldBeReplaced:!0});const{shouldRender:E}=rl({isOpen:n,ref:b,onCloseAnimationEnd:f,noMountTransition:l,noCloseTransition:l,withShouldRender:!0});rt(()=>n&&h?fv(h):void 0,[n,h]),Ds(e=>{let[t]=e;(n||!n&&!0===t)&&Ie(wv)},[n]),function(e,t,n){rt(()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(hv.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e,t,n])}(n&&!d,w,m?void 0:h);const k=qi(hv.bubble,i,"menu-bubble",hv[s]);if(p&&!E)return;const C=pt.createElement("div",{ref:w,id:a,className:qi(hv.wrapper,r,u&&hv.inPortal),onMouseEnter:g,onMouseLeave:n?v:void 0},n&&!d&&pt.createElement("div",{className:hv.backdrop,onClick:Yr}),pt.createElement("div",{ref:b,className:k,onClick:c?h:void 0},t));return u?pt.createElement(ul,null,C):C};function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ev.apply(null,arguments)}const kv=ut(function(e){let{isOpen:t,ref:n,selectedValue:a,items:o,withPortal:r,menuAnchor:i,menuPositionX:s,menuPositionY:c,shouldTranslateOptions:l,className:d,bubbleClassName:u,buttonClassName:m,iconClassName:p,fontIconClassName:f,itemDescriptionClassName:h,shouldCleanup:g,onSelect:v,onClose:y,getTriggerElement:w,getRootElement:b,getMenuElement:E,getLayout:k,onCloseAnimationEnd:C}=e,N=lt();n&&(N=n);const S=i&&w&&b&&E?{anchor:i,getTriggerElement:w,getRootElement:b,getMenuElement:E,getLayout:k}:i&&b&&E?{anchor:i,getRootElement:b,getMenuElement:E,getLayout:k,positionX:s,positionY:c}:{anchor:i,positionX:s,positionY:c},A=ri((e,t)=>{e.stopPropagation(),null==v||v(t,e),y()});return pt.createElement(bv,Ev({menuRef:N,isOpen:t,type:"dropdown",withPortal:r,className:d,bubbleClassName:u,shouldCleanup:g,onClose:y,onCloseAnimationEnd:C},S),o.map((e,t)=>{const n=qi(mv.item,(e.icon||e.fontIcon)&&mv.item_with_icon,e.withDelimiter&&t>0&&mv.delimiter,e.withDelimiterAfter&&mv.delimiterAfter,a===e.value&&mv.item_selected,m,"capture-scroll");return pt.createElement(pv,{key:e.value,item:e,shouldTranslate:l,className:n,iconClassName:p,fontIconClassName:f,itemClassName:"menuItemName",itemDescriptionClassName:h,onClick:A})}))}),Cv=ut(function(e){let{title:t,className:n,withNotch:a,closeClassName:o,menuItems:r,onClose:i,onBackButtonClick:s,onMenuItemClick:c}=e;const l=Ki(),d=lt(),u=lt(),[m,p]=at(),f=Boolean(null==r?void 0:r.length),h=Boolean(m),g=ri(()=>u.current),v=ri(()=>document.body),y=ri(()=>d.current),w=ri(()=>({withPortal:!0})),b=ri(()=>p(void 0)),E=ri(()=>{if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}});return pt.createElement("div",{className:qi(ml.header,"with-notch-on-scroll",a&&"is-scrolled",!s&&ml.header_wideContent,n,h&&"is-menu-open")},s&&pt.createElement(dl,{isSimple:!0,isText:!0,onClick:s,className:ml.header_back},pt.createElement("i",{className:qi(ml.header_backIcon,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,l("Back"))),void 0!==t&&pt.createElement("div",{className:qi(ml.title,ml.singleTitle)},t),f&&pt.createElement(dl,{ref:u,isSimple:!0,className:qi(ml.menuButton,o),ariaLabel:l("Menu"),onClick:E},pt.createElement("i",{className:qi(ml.menuIcon,"icon-menu-dots"),"aria-hidden":!0})),i&&pt.createElement(dl,{isRound:!0,className:qi(ml.closeButton,o),ariaLabel:l("Close"),onClick:i},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0})),f&&pt.createElement(kv,{isOpen:h,ref:d,items:r,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:y,getLayout:w,onSelect:c,onClose:b}))}),Nv={"tonscan.org":"TON Explorer","multisend.mytonwallet.io":"Multi-Send","localhost:4323":"Multi-Send"},Sv=[{value:"reload",name:"Reload",fontIcon:"menu-reload"},{value:"openInBrowser",name:"Open in Browser",fontIcon:"menu-globe"},{value:"copyUrl",name:"Copy Link",fontIcon:"menu-copy"},{value:"close",name:"Close",fontIcon:"menu-close",withDelimiter:!0}],Av=ut(zt(e=>{const{currentBrowserOptions:t}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title}})(function(e){let{url:t,title:n}=e;const{closeBrowser:o,showNotification:r}=$t(),i=Ki(),s=lt(),{setupDappBridge:c}=function(e){const t=lt(),n=ri(n=>{var o;null===(o=t.current)||void 0===o||o.call(t);const r=n.target;t.current=function(e,t,n,a){function o(e,o){if(e.channel=a,o)throw new Error("Cannot send `Transferable` to `Window`");n.postMessage(e,t)}function r(n){var r;t&&n.origin!==t||(null===(r=n.data)||void 0===r?void 0:r.channel)===a&&m(e,n.data,o)}return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}(ai(e),new URL(e).origin,r.contentWindow,a.hUJ)});return rt(()=>{if(e)return()=>{var e;null===(e=t.current)||void 0===e||e.call(t)}},[e]),{setupDappBridge:n}}(t),l=st(()=>t&&new URL(t).host,[t]),d=uv(n||l&&(Nv[l]||l)),u=ri(e=>{if(!t)return;const n=s.current;switch(e){case"reload":n.src="about:blank",n.addEventListener("load",()=>{n.src=t},{once:!0});break;case"openInBrowser":Il(t,{isExternal:!0});break;case"copyUrl":Ld(t),r({message:i("URL was copied!"),icon:"icon-copy"});break;case"share":cv(t,d);break;case"close":o()}});return pt.createElement(bl,{isOpen:Boolean(t),dialogClassName:"sszvWMpD",onClose:o},pt.createElement(Cv,{title:d,menuItems:Sv,onMenuItemClick:u,className:"ndvLaNkq"}),pt.createElement("iframe",{ref:s,title:d,src:t,className:"qm6h4mWP",allow:"web-share; clipboard-write",onLoad:c}))}));function Iv(e,t){let{rootRef:n,throttleMs:a,throttleScheduler:o,debounceMs:r,shouldSkipFirst:i,margin:s,threshold:l,isDisabled:d}=e;const u=lt(),m=lt(),p=lt(0),f=lt();m.current=t;const h=ri(()=>{p.current++}),g=ri(()=>{p.current&&(p.current--,!p.current&&f.current&&(f.current(),f.current=void 0))});mh(h,g),rt(()=>{if(!d)return()=>{u.current&&(u.current.observer.disconnect(),u.current.callbacks.clear(),u.current=void 0)}},[d]);const v=ri((e,t)=>{u.current||function(){const e=new Map,t=new Map;let d;function h(){if(p.current)return void(f.current=d);const n=Array.from(t.values());n.forEach(t=>{const a=e.get(t.target);a&&a(t,n)}),m.current&&m.current(n),t.clear()}d="function"==typeof o?(0,c.nb)(o,h):a?(0,c.nF)(h,a,!i):r?(0,c.sg)(h,r,!i):h;const g=new IntersectionObserver(e=>{e.forEach(e=>{t.set(e.target,e)}),p.current?f.current=d:d()},{root:null==n?void 0:n.current,rootMargin:s?`${s}px`:void 0,threshold:l});u.current={observer:g,callbacks:e}}();const d=u.current;return d.observer.observe(e),t&&d.callbacks.set(e,t),()=>{t&&d.callbacks.delete(e),d.observer.unobserve(e)}});return{observe:v,freeze:h,unfreeze:g}}function Tv(e,t,n){const[a,o]=dt(!t);return function(e,t,n){const a=ri(n);rt(()=>t?t(e.current,a):void 0,[a,t,e])}(e,t,e=>{o(e.isIntersecting),n&&n(e)}),a}let Bv;const xv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ri(e);rt(()=>{if(void 0===t)return;const e=setInterval(a,t);return n||a(),()=>clearInterval(e)},[t,a,n])},_v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=ri(e);rt(()=>{if("number"==typeof t)return(0,c.Gf)(t,a)},[t,a,...n])},Lv="T1ztMNGQ",Dv=i.p+"app-inactive.e835efd0bf0191aaa6ab.png",Ov=i.p+"app-inactive.70579bd9a710cd418aff.webp",Mv=function(){const e=Ki(),t=ri(()=>{window.location.reload()});return pt.createElement("div",{className:"cFGCnqcA"},pt.createElement("div",{className:"sRTywfr2"},pt.createElement("picture",{className:Lv},pt.createElement("source",{src:Ov}),pt.createElement("img",{src:Dv,alt:"",className:Lv})),pt.createElement("h3",{className:"UervEVFY"},e("Such error, many tabs")),pt.createElement("div",{className:"rO8yQetD"},bi(e("$many_tabs_error_description",{app_name:a.C39}))),pt.createElement("div",{className:"u6bKEBnR"},pt.createElement(dl,{isText:!0,className:"eymlW7_B",onClick:t},e("Reload App")))))};function Fv(e,t){var n;return e?(null===(n=a.mEK[t])||void 0===n?void 0:n[e])??a.mEK[t].en:""}function Pv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=at(!0),[a,o]=at(!0),r=ri(t=>{if(!t)return;const{scrollHeight:a,scrollTop:r,clientHeight:i}=t;n(r<e),o(a-r-i<e)});return{isAtBeginning:t,isAtEnd:a,isScrolled:!t,handleScroll:ri(e=>{r(e.target)}),update:r}}const Rv=ut(zt(e=>{const{isAppUpdateAvailable:t}=e;return{isAppUpdateAvailable:t}})(function(e){let{isAppUpdateAvailable:t}=e;const n=Ki(),[o,r]=at(!1),[i,s]=at(!1),[c,l]=Np(!1);rt(()=>{var e,t,n;const a=null===(e=window.electron)||void 0===e?void 0:e.on(Zg.UPDATE_ERROR,()=>{r(!1)}),o=null===(t=window.electron)||void 0===t?void 0:t.on(Zg.UPDATE_DOWNLOADED,()=>{r(!0)});return null===(n=window.electron)||void 0===n||n.getIsAutoUpdateEnabled().then(s),()=>{null==a||a(),null==o||o()}},[]);const d=ri(async()=>{if(!c)if(i){var e;if(o)return l(),void await(null===(e=window.electron)||void 0===e?void 0:e.installUpdate());t&&window.location.reload()}else window.open(`${a.yq6}/get`,"_blank","noopener")}),{ref:u,shouldRender:m}=rl({isOpen:o||t,withShouldRender:!0});return m?pt.createElement("div",{ref:u,className:qi("m3oYVPLL",c&&"Hz_3Tm4Q"),onClick:d},pt.createElement("div",{className:"cAAhDZj9"},pt.createElement("i",{className:qi("icon-update","O2khIMww")})),pt.createElement("div",{className:"vvQKF4lC"},n("Update %app_name%",{app_name:a.C39}))):null})),Uv="o0YiMAP8",Wv="B1_vmNNd",Hv="F4gGoZNE",$v="oUKLixL4",Vv="Pgysk0gP",zv=ut(function(e){let{children:t,withTitle:n}=e;const o=lt();(e=>{const t=lt(!1),n=lt(window.screenX),a=lt(window.screenY),o=lt(0);rt(()=>{const i=e.current;if(!i||!r.cp||!r.MP)return;const s=e=>{o.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},c=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},l=e=>{1===e.buttons&&(o.current+=Math.sqrt((n.current-window.screenX)**2+(a.current-window.screenY)**2),n.current=window.screenX,a.current=window.screenY,!t.current&&o.current>5&&(t.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return i.addEventListener("click",s),i.addEventListener("mousedown",c),i.addEventListener("mousemove",l),i.addEventListener("dblclick",d),()=>{i.removeEventListener("click",s),i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",l),i.removeEventListener("dblclick",d)}},[e])})(o);const i=ri(()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()}),s=ri(async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()}),c=ri(()=>{var e;null===(e=window.electron)||void 0===e||e.close()}),l=ri(()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()});return r.H8?pt.createElement("div",{ref:o,className:Uv,onDoubleClick:l},pt.createElement("div",{className:Wv},Boolean(t)&&pt.createElement("div",{className:$v},t),n&&pt.createElement("div",{className:Hv},a.C39)),pt.createElement("div",{className:"hKXvGlWy"},pt.createElement(Rv,null),pt.createElement("div",{className:Vv,onClick:i},pt.createElement("i",{className:"icon-windows-minimize"})),pt.createElement("div",{className:Vv,onClick:s},pt.createElement("i",{className:"icon-windows-maximize"})),pt.createElement("div",{className:Vv,onClick:c},pt.createElement("i",{className:"icon-windows-close"})))):pt.createElement("div",{ref:o,className:Uv,onDoubleClick:l},pt.createElement("div",{className:Wv},n&&pt.createElement("div",{className:Hv},a.C39),pt.createElement("div",{className:$v},pt.createElement(Rv,null),t)))});function Kv(){const{safeAreaTop:e}=dr(),{safeAreaInset:t,contentSafeAreaInset:n}=a.tKX?Cr():{};return a.UMQ?Math.max(yd(),fd,e):a.tKX?t.top+n.top:e+(r.cp&&!r.ig?3*r.$:0)+(r.By&&r.H8&&a.hL1?30:0)}function qv(e){const{rootMargin:t,threshold:n=[0],isDisabled:a,targetRef:o,cb:r}=e,[i,s]=at(!0);return rt(()=>{const e=null==o?void 0:o.current;if(a||!e)return;const i=new IntersectionObserver(e=>{const t=e[0];s(t.isIntersecting),null==r||r(t)},{rootMargin:t,threshold:n});return i.observe(e),()=>{i.disconnect()}},[t,n,a,o,r]),{isVisible:i}}const jv=[6e-6,6e-6,1e-5*.06,3e-4*.06,6e-6,15e-5],Yv=.07,Gv={lightTheme:"120, 121, 122",darkTheme:"240, 241, 242",cardLightText:"250, 250, 250",cardDarkText:"10, 10, 10",cardGoldText:"101, 73, 16",purple:"96, 107, 215",green:"43, 196, 105"};function Qv(e){return e[(0,tr.yT)(0,e.length-1)]}const Xv=ut(zt(e=>({theme:e.settings.theme}))(function(e){let{ref:t,cols:n,rows:a,cellSize:o,skin:i,className:s,theme:c}=e,l=lt();t&&(l=t);const d=o*r.Lv,u=cg(c),m=Gv[i??`${u}Theme`],p=lt({opacityValues:[],steps:[],lastSpeedChangeAt:void 0,isRendered:!1}),f=Tv(l,Bv),h=Vd,g=tl(()=>f()&&!h(),[f,h]);return it(()=>{const e=p.current;if(e.isRendered&&!g())return;const t=l.current,o=t.getContext("2d"),r=n*d,i=a*d;let s,c=!1;t.width=r,t.height=i,e.lastSpeedChangeAt=void 0;const u={ctx:o,cols:n,rows:a,width:r,height:i,cellSizeDpr:d,color:m};return(0,se.iT)(()=>{if(c||e.isRendered&&!g())return!1;const t=performance.now();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{ctx:a,cols:o,rows:r,cellSizeDpr:i,width:s,height:c,color:l}=e,d=performance.now(),u=!!t.lastSpeedChangeAt&&d-t.lastSpeedChangeAt>=3e3;!u&&t.lastSpeedChangeAt||(t.lastSpeedChangeAt=d),a.clearRect(0,0,s,c);for(let e=0;e<r;e++)for(let r=0;r<o;r++){t.steps[e]??=[],t.opacityValues[e]??=[],u?t.steps[e][r]=Qv(jv)*(t.steps[e][r]<0?-1:1):t.steps[e][r]??=Qv(jv);let o=t.opacityValues[e][r]??.18*Math.random()+Yv;o+=t.steps[e][r]*n,(o>.25||o<Yv)&&(t.steps[e][r]*=-1,o=Yi(o,Yv,.25)),t.opacityValues[e][r]=o,a.fillStyle=`rgba(${l}, ${o})`,a.fillRect(r*i,e*i,i,i),t.isRendered||=!0}}(u,e,s?t-s:0),s=t,!0},we.RK),()=>{c=!0}},[n,a,d,g,m]),pt.createElement("canvas",{ref:l,style:`width: ${o*n}px; height: ${o*a}px`,className:qi("_5lZqlhE",s)})})),Zv={wrapper:"iXsFkRU7",center:"FEWWktrI",right:"FXNTlsIy",interactive:"O6dWAwYM",content:"GAvxZ7xR",spoiler:"ynSPM0hu",left:"DSH91Ntx",fixedWidth:"CBhjF9XS"},Jv=function(e){let{isActive:t,rows:n,cols:a,cellSize:o=0,align:r="left",maskSkin:i,shouldHoldSize:s,className:c,maskClassName:l,contentClassName:d,children:u}=e;const[m,p]=at(!1),f=t&&!m;rt(()=>{!t&&m&&p(!1)},[t,m]);const{ref:h}=rl({isOpen:!f,noMountTransition:!f,className:"slow"}),{shouldRender:g,ref:v}=rl({isOpen:f,withShouldRender:!0,className:"slow"}),y=qi(Zv.wrapper,c,t&&Zv.interactive,Zv[r]),w=qi(Zv.spoiler,l,Zv[r]),b=nh(`--spoiler-width: calc(${o*a}px + var(--sensitive-data-extra-width, 0px))`,`min-height: ${o*n}px`,(f||s)&&"min-width: var(--spoiler-width);"),E=qi(Zv.content,d,f&&Zv.fixedWidth);return pt.createElement("div",{style:b,className:y,onClick:t?function(e){Yr(e),t&&(p(!m),Td())}:void 0},g&&pt.createElement(Xv,{ref:v,cols:a,rows:n,cellSize:o,skin:i,className:w}),pt.createElement("div",{ref:h,className:E},u))};function ey(e,t){return e=(0,$n.z)(e),t=(0,$n.z)(t),e.minus(e.div(t.plus(1)))}function ty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1";const o=(t??[]).reduce((e,t)=>{const n=t.tokenSlug;return e[n]||(e[n]=[]),e[n].push(t),e},{});const r=e.reduce((e,t)=>{if(a.Svl.has(t.slug))return e;const n=o[t.slug]??[];for(const a of n){const n=(0,zn.CF)(xm(a),t.decimals);e=e.plus(n.mul(t.priceUsd))}return e.plus((0,zn.CF)(t.amount,t.decimals).mul(t.priceUsd))},(0,$n.z)(0)),i=r.mul(n),[s,c]=Si(i).split("."),l=e.reduce((e,t)=>e.plus(ey(t.totalValue,t.change24h)),(0,$n.z)(0)).round(4).toNumber(),d=Qi(i?l/(i.toNumber()-l)*100:0,2),u=l>0?"up":l<0?"down":void 0;return{primaryValue:i.toString(),primaryValueUsd:r.toString(),primaryWholePart:s,primaryFractionPart:c,changePrefix:u,changePercent:d,changeValue:l}}function ny(e){const{result:t}=((e,t,n)=>{const[a,o]=at(!1),[r,i]=at(),[s,c]=at(n);return rt(()=>{o(!0);let t=!1;return e().then(e=>{t||(o(!1),c(e))},e=>{t||(o(!1),i(e))}),()=>{t=!0}},t),{isLoading:a,error:r,result:s}})(()=>e?async function(e){const t=await caches.open(a.F9m),n=await t.match(e);if(n){const e=await n.blob();return URL.createObjectURL(e)}const o=await fetch(e);if(!o.ok)throw new Error(`Image loading error: ${o.statusText}. URL: ${e}`);await t.put(e,o.clone());const r=await o.blob();return URL.createObjectURL(r)}(e):Promise.resolve(void 0),[e]);return rt(()=>t?()=>{URL.revokeObjectURL(t)}:void 0,[t]),{imageUrl:t}}function ay(e){const{mtwCardType:t,mtwCardTextType:n,mtwCardBorderShineType:a}=(null==e?void 0:e.metadata)||{},o=!!t&&"standard"!==t,r="standard"!==t?void 0:"dark"===n?"MtwCard__darkText":"MtwCard__lightText";return{backgroundImageUrl:e?vi(e):void 0,withTextGradient:o,classNames:qi(t&&`MtwCard__${t}`,r),borderShineType:a}}const oy=function(e){let{isActive:t,accountId:n,byChain:a,accountType:o,title:r,cardBackgroundNft:i,canEditAccount:s,onClick:c,onEdit:l}=e;const d=Ki(),u="hardware"===o,m="view"===o,p=Zt(a,1)?d("Multichain"):qt(Gt(a)??"","mnemonic"!==o?3:4,4),{backgroundImageUrl:f,withTextGradient:h,classNames:g}=ay(i),{imageUrl:v}=ny(f),y=qi("bdfebopt",t&&"bMmcsmZO",v&&"HF2p9CT1",v&&g);return pt.createElement("div",{className:y,"aria-label":d("Switch Account"),onClick:t?void 0:()=>c(n),style:nh(v&&`--bg: url(${v})`)},r&&pt.createElement("span",{className:qi("MUMjgNQ5",h&&"gradientText")},r),pt.createElement("div",{className:qi("dhGETdr1",h&&"gradientText")},u&&pt.createElement("i",{className:"icon-ledger","aria-hidden":!0}),m&&pt.createElement("i",{className:"icon-eye-filled","aria-hidden":!0}),pt.createElement("span",null,p)),t&&s&&pt.createElement("div",{className:"FRX4SQTO",onClick:e=>{Yr(e),l()}},pt.createElement("i",{className:"icon-pen","aria-hidden":!0})))},ry=ut(function(e){let{isOpen:t,name:n,currentAccountId:a,onClose:o}=e;const{renameAccount:r}=$t(),i=Ki(),s=lt(),[c,l]=at(n);rt(()=>{t&&l(n)},[t,n]),Xf(s,!t);const d=ri(e=>{Yr(e),0!==c.trim().length&&(r({accountId:a,title:c.trim()}),o())});return pt.createElement(bl,{isCompact:!0,isOpen:t,title:i("Rename Wallet"),onClose:o},pt.createElement("form",{action:"#",onSubmit:d},pt.createElement("p",null,i("You can rename this wallet for easier identification.")),pt.createElement(Ah,{ref:s,placeholder:i("Name"),onInput:l,value:c,maxLength:255,enterKeyHint:"done"}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:o,className:ml.button},i("Cancel")),pt.createElement(dl,{isPrimary:!0,isSubmit:!0,isDisabled:0===c.trim().length,className:ml.button},i("Save")))))}),iy={root:"a3WLGvJB",slide:"HwTx4nDa",accountTitle:"MoMRv8lX",withBalance:"VUELTqry",accountTitleInteractive:"KaXidGii",accountTitleInner:"CsZvEIzk",arrowIcon:"fwj1nsFY",balance:"ReXRdYnq",balanceFractionPart:"rMdzMb2a",balanceCurrency:"LJreYpVF",balanceCurrencyPrefix:"iYR_GSsp",container:"yg1dh4un",dialog:"_GKFEXQQ",backdrop:"Yb4jStqu",dialog_compact:"VQfOatN5",dialogCompact:"VQfOatN5",createAccountButton:"_cBvU9yb",createAccountIcon:"wWwtr3AE"},sy=ut(zt(e=>{const{walletVersions:t,currencyRates:n,settings:{byAccountId:a,baseCurrency:o,isSensitiveDataHidden:r}}=e,i=on(e),s=e.currentAccountId,c=null==i?void 0:i[s],l=Wo(e,s);return{currentAccountId:s,currentAccount:c,accounts:i,currentWalletVersion:null==t?void 0:t.currentVersion,settingsByAccountId:a,tokens:jn(e),baseCurrency:o,currencyRates:n,stakingStates:l,isSensitiveDataHidden:r}},(e,t,n)=>n(e.currentAccountId))(function(e){let{currentAccountId:t,currentAccount:n,forceClose:o,accountClassName:r,accountSelectorClassName:i,withAccountSelector:s,withBalance:c,tokens:l,baseCurrency:d,currencyRates:u,stakingStates:m,isSensitiveDataHidden:p,accounts:f,currentWalletVersion:h,settingsByAccountId:g}=e;const{switchAccount:v,openAddAccountModal:y,openSettingsWithState:w}=$t(),b=Ki(),{isPortrait:E}=xs(),[k,C,N]=Np(!1),[S,A,I]=Np(!1),{shouldRender:T,ref:B}=rl({isOpen:k,className:"slow",withShouldRender:!0}),x="mnemonic"===(null==n?void 0:n.type)&&Boolean(null==n?void 0:n.byChain.tron),_=Boolean(null==n?void 0:n.byChain.ton),L="W5"!==h&&"hardware"!==(null==n?void 0:n.type)&&_&&!x,D=st(()=>Object.keys(f||{}).length,[f]),O=st(()=>l?ty(l,m,u[d]):void 0,[l,m,u,d]),M=xi(d),{primaryWholePart:F,primaryFractionPart:P}=O||{};rt(()=>{k&&o&&N()},[o,k]),rt(()=>T?fv(N):void 0,[N,k,T]),rt(()=>T&&B.current?us(B.current):void 0,[B,T]);const R=ri(e=>{Td(),N(),v({accountId:e})}),U=ri(()=>{Td(),N(),y()}),W=ri(()=>{Td(),N(),w({state:uo.WalletVersion})}),H=qi(iy.container,i),$=qi(iy.accountTitle,s&&!c&&iy.accountTitleInteractive,c&&iy.withBalance,r);function V(){const e=qi(iy.dialog,D<=2&&iy.dialog_compact);return pt.createElement("div",{ref:B,className:H,tabIndex:-1,role:"dialog"},pt.createElement("div",{className:iy.backdrop,onClick:()=>N()}),pt.createElement("div",{className:e},f&&Object.entries(f).map(e=>{let[n,{title:o,byChain:r,type:i}]=e;return function(e,n,o,r){const{cardBackgroundNft:i}=(null==g?void 0:g[e])||{};return pt.createElement(oy,{key:e,accountId:e,byChain:n,accountType:o,isActive:e===t,title:r,cardBackgroundNft:i,canEditAccount:!a.TI6,onClick:R,onEdit:A})}(n,r,i,o)}),L&&pt.createElement(dl,{className:iy.createAccountButton,onClick:W},b("Switch to W5"),pt.createElement("i",{className:qi(iy.createAccountIcon,"icon-versions"),"aria-hidden":!0})),pt.createElement(dl,{className:iy.createAccountButton,onClick:U},b("Add Wallet"),pt.createElement("i",{className:qi(iy.createAccountIcon,"icon-plus"),"aria-hidden":!0}))))}return pt.createElement(pt.Fragment,null,pt.createElement(Qh,{name:"slideVerticalFade",activeKey:c?1:0,className:iy.root,slideClassName:iy.slide},c&&pt.createElement("div",{className:qi(iy.balance,"rounded-font")},pt.createElement(Jv,{isActive:p,shouldHoldSize:!0,align:"center",cols:10,rows:2,cellSize:8.5},pt.createElement("span",{className:iy.currencySwitcher},1===M.length&&pt.createElement("span",{className:qi(iy.balanceCurrency,iy.balanceCurrencyPrefix)},M),F,P&&pt.createElement("span",{className:iy.balanceFractionPart},".",P),M.length>1&&pt.createElement("span",{className:iy.balanceCurrency}," ",M)))),pt.createElement("div",{className:$,onClick:s?()=>{C()}:void 0},pt.createElement("span",{className:iy.accountTitleInner},(n&&Qt(n))??""),s&&!c&&pt.createElement("i",{className:qi("icon icon-caret-down",iy.arrowIcon),"aria-hidden":!0}))),T&&(E?pt.createElement(ul,null,V()):V()),pt.createElement(ry,{isOpen:S,currentAccountId:t,name:(null==n?void 0:n.title)??"",onClose:I}))})),cy="heOBVClj",ly=ut(function(){const{setIsManualLockActive:e}=$t(),t=Ki(),n=ri(()=>{e({isActive:!0,shouldHideBiometrics:!0}),Td()});return pt.createElement(dl,{className:cy,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("App Lock"),onClick:n},pt.createElement("i",{className:"icon-manual-lock","aria-hidden":!0}))});let dy=(0,r.v3)();function uy(){const e=ft();return gt(()=>{a.UMQ&&!dy&&kp.isSupported().then(t=>{dy=t.supported,e()})}),dy}const my=ut(function(e){let{isViewMode:t}=e;const{requestOpenQrScanner:n}=$t(),a=Ki(),o=uy()&&!t,i=ri(()=>{r.pz&&(0,r.v3)()?alert("Scanning is temporarily not available"):n()});if(o)return pt.createElement(dl,{className:qi(cy,"qduFjDA3"),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:a("Scan QR Code"),onClick:i},pt.createElement("i",{className:"icon-qr-scanner","aria-hidden":!0}))}),py=ut(function(){const{openSettings:e}=$t(),t=Ki();return pt.createElement(dl,{className:cy,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("Main menu"),onClick:e},pt.createElement("i",{className:"icon-cog","aria-hidden":!0}))}),fy=ut(function(e){let{isFullscreen:t}=e;const n=Ki(),a=ri(()=>{var e,n;t?null===(e=Cr())||void 0===e||e.exitFullscreen():null===(n=Cr())||void 0===n||n.requestFullscreen()});return pt.createElement(dl,{className:cy,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:n("Toggle fullscreen"),onClick:a},pt.createElement("i",{className:t?"icon-fullscreen-exit":"icon-fullscreen","aria-hidden":!0}))}),hy=ut(function(){const{setAppLayout:e}=$t(),t=Ki(),{isPortrait:n}=xs(),a=ri(()=>{e({layout:n?"landscape":"portrait"})});return pt.createElement(dl,{className:cy,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t(n?"Toggle to landscape layout":"Toggle to portrait layout"),onClick:a},pt.createElement("i",{className:n?"icon-view-landscape":"icon-view-portrait","aria-hidden":!0}))}),gy=ut(function(e){let{isSensitiveDataHidden:t}=e;const{setIsSensitiveDataHidden:n}=$t(),a=Ki(),o=ri(()=>{n({isHidden:!t})});return pt.createElement(dl,{className:cy,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:a(t?"Show Sensitive Data":"Hide Sensitive Data"),onClick:o},pt.createElement("i",{className:t?"icon-eye":"icon-eye-closed","aria-hidden":!0}))}),vy="gwvxwQs9",yy="EX9t6A36",wy="mKaPMjmN",by=ut(zt(e=>{const{isFullscreen:t,settings:{isAppLockEnabled:n,isSensitiveDataHidden:a}}=e,o=bn(e);return{isViewMode:Tn(e),isAppLockEnabled:n&&o,isFullscreen:Boolean(t),isSensitiveDataHidden:Boolean(a)}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isViewMode:t,withBalance:n,areTabsStuck:o,isScrolled:i,isAppLockEnabled:s,isSensitiveDataHidden:c,isFullscreen:l}=e;const{isPortrait:d}=xs(),u=a.hL1||r.cp;if(d){const e=qi(vy,o&&"IHMQLLd2",i&&"_sQ5O2j4"),r=1+(s?1:0)+(a.tKX?1:0)+(u?1:0);return pt.createElement("div",{className:e},pt.createElement("div",{className:yy,style:`--icons-amount: ${r}`},pt.createElement(my,{isViewMode:t}),pt.createElement(sy,{withBalance:n,withAccountSelector:!a.TI6}),pt.createElement("div",{className:"oLoKLzOb"},s&&pt.createElement(ly,null),pt.createElement(gy,{isSensitiveDataHidden:c}),a.tKX&&pt.createElement(fy,{isFullscreen:l}),u&&pt.createElement(hy,null))))}return pt.createElement("div",{className:vy},pt.createElement("div",{className:yy},pt.createElement("div",{className:wy},pt.createElement(gy,{isSensitiveDataHidden:c}),pt.createElement(my,{isViewMode:t}),s&&pt.createElement(ly,null)),pt.createElement(sy,{withBalance:n,withAccountSelector:!a.TI6}),pt.createElement("div",{className:wy},a.tKX&&pt.createElement(fy,{isFullscreen:l}),u&&pt.createElement(hy,null),pt.createElement(py,null))))})),Ey=ut(function(e){let{isActive:t,title:n,topTargetRef:a,withBorder:o,className:i,backButtonText:s,onBackClick:c}=e;const l=Ki(),d=!a,[u,m]=at(d),p=Kv(),f=3*r.$+p,h=o||void 0===o,g=ri(e=>{m(!e.isIntersecting&&e.boundingClientRect.top-f<0)});return qv({isDisabled:!t||!a,targetRef:a,rootMargin:`-${f}px 0px 0px 0px`,cb:g,threshold:[1]}),pt.createElement("div",{className:qi("QGae4nZN",i)},!!n&&pt.createElement("div",{className:qi("yElVNCVD",u&&"FgmPIwrR",h&&"sI7v7K7X")}),pt.createElement(dl,{isSimple:!0,isText:!0,className:"lthrIp43",onClick:c},pt.createElement("i",{className:qi("DnXbJRkT","icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,s||l("Back"))),!!n&&pt.createElement("div",{"aria-hidden":!d,className:qi("wSIQQ9QY",(d||u)&&"PERev6dm")},n))}),ky={root:"YO7I0Ma0"},Cy={"🥷":"1f977","🦄":"1f984","⚠️":"26a0"},Ny=new Set,Sy=ut(function(e){let{from:t}=e;const n=t in Cy?Cy[t]:t,a=`./emoji/${n}.png`,[o,r]=Np(Ny.has(a)),i=ah(o),s=ri(()=>{r(),Ny.add(a)});return pt.createElement("img",{ref:i,src:a,alt:t,className:qi(ky.root,ky[`key-${n}`]),onLoad:s})}),Ay="voGmKods",Iy="JKuqFIMs",Ty="vPKs_EfD",By="ithY1XA8",xy="MwNQsICc",_y="pEdRQT_R",Ly="lp28p1if",Dy="O_xYgdgM",Oy="mNtPH759",My="koKI7xJv",Fy="PQ56yxoE",Py="cPGOyB7W",Ry="fY8lBeMI",Uy="HZlzXBrP",Wy="oLA5mzy7",Hy="Zw8K7_jM",$y="X1ICSpcc",Vy="r0qJPY3I",zy={wrapper:"T7fZ5IMk",slide:"syDfunZP",modalDialog:"xRqyv_rX",header:"aDfdss28",withTopSpace:"dtjdV8GY",nestedTransition:"jX5Ya3FK",transitionContainer:"yVzk5dwl",developerCloseButton:"yn74reot",onlyTextHeader:"CgjtBlIK",headerInsideModal:"eFeOVzRI",languageHeader:"ZrejUKsI",headerBack:"ehDj7x2p",isInsideModal:"Wccw6pgw",hidden:"yTnK4aVo",iconChevron:"Qea3kUMy",headerBackInContent:"zvnNb8eo",headerTitle:"aZVKC5O6",modalHeader:"vwHnpdwF",content:"rgMxxE39",content_noScroll:"lh0I5gIh",contentNoScroll:"lh0I5gIh",noTitle:"w2kL_5D9",withBottomSpace:"cjfvEx15",contentInModal:"ug6WizbB",contentFullSize:"BpFwAWae",blockTitle:"dBOj5NnG",menuIcon:"M1WSmGuc",themeWrapper:"cfK5v5m1",theme:"N5nUfRHH",theme_active:"eTa03cXj",themeActive:"eTa03cXj",themeIcon:"tZRnZj9J",themeIcon_active:"eEiBESrS",themeIconActive:"eEiBESrS",themeImg:"H_nvpBU5",colorList:"ftMWz1de",colorButton:"OaFvanYP",colorButtonCurrent:"GthJhaus",iconLock:"n1s4Ycb6",iconLockInverted:"r9kXSmsP",subBlockAsButton:"ImElqofC",block:"wJjymc4L",text:"sU0zQDmb",settingsBlockWithDescription:"xosGoD5d",settingsBlock:"_0TWKZFz4",settingsBlock_text:"ZkQ_IMAb",settingsBlockText:"ZkQ_IMAb",iconChevronRight:"RHurCQ9b",iconQuestion:"CLKLBCVt",item:"o1nQhJ_F",draggable:"k2juknci",item_red:"yYJCYbbd",itemRed:"yYJCYbbd",item_small:"cC1nd9dM",itemSmall:"cC1nd9dM",item_lang:"kIWs2Jxk",itemLang:"kIWs2Jxk",item_wallet_version:"tTZZHEdN",itemWalletVersion:"tTZZHEdN",item_token:"LMTs4OeN",itemToken:"LMTs4OeN",item_disabled:"F3nzrEuV",itemDisabled:"F3nzrEuV",itemAutoLock:"TAmUTusj",itemInfo:"S5Kk31wp",small:"gq4usdgr",version:"oGJ2X15D",languageMain:"cIO_6vYD",languageNative:"NGS7pE5c",wideTooltip:"xZy_xEHS",disconnectButton:"Wu3RiwSF",dapps:"eyE78PWW",changePasswordButton:"xBpPU4Jb",passwordFormContent:"KQuDNpn5",passwordFormContentInModal:"OzmF3O5t",sticker:"aMwtPBfB",blockDescription:"HuH8igQi",emptyList:"ThoQya6m",emptyListTitle:"lek7Y5aS",dapp:"xc0VaBDP",backButton:"QlOjly_V",logo:"LQ5MMcSf",stickerNativeBiometric:"nLxfZG3p",pinPadHeader:"tnqhb1Qi",pinPadHeaderMinified:"K1fiksuZ",pinPadTitle:"MxOcmI0_",title:"sDP2AWSj",titleLink:"r7iIIH6q",textInChat:"XuVoQvMO",heading:"Sh2kuIH2",separator:"v_mI0uXv",github:"dBqNllGm",telegram:"sggkOqTT",tokenSortIcon:"V7Nh7XEi",tokenTitle:"wkk1b7Dc",tokenDescription:"cv6gw8az",dot:"Zfi1H_we",contentRelative:"EiFz4WrA",sortableContainer:"zmQzVO7l",modalDialogWeb:"E67Qdj_t",modalContent:"mjHzkDZB",deleteText:"d8sxNodF",languageInfo:"AXAMGE3T",tokenInfo:"ll1f03qi",stickerAndTitle:"upR_yI1c",sideTitle:"atPnEcVz",blockWalletVersionText:"poUctQOF",walletVersionInfo:"spNULnGc",walletVersionInfoRight:"Ez0t7GFF",walletVersionTitle:"DbBBKMBg",walletVersionTokens:"DUzHgWKY",tokenAmount:"BekK0Dwp",walletVersionAddress:"xPrZcrFZ",walletVersionAmount:"nvPRmXTF",blockWalletVersionReadMore:"g3U3zj6y",nftPrimaryCell:"zpLwMrPQ",nftName:"JHu8TtpB",nftCollection:"mbtZbU1u",nftImage:"pifBd9KV",nftButtonUnhide:"_o8QIssq",account:"TXe6O6ZF",accountDisabled:"vf82b5zy"},Ky=i.p+"settings_helpcenter.04b709e62d2174305103.svg",qy=i.p+"settings_hot.5bd2431d9ed257fbbedb.svg",jy=i.p+"settings_video.2e678912f355b56be160.svg",Yy=ut(function(e){let{isActive:t,isInsideModal:n,theme:o,slideClassName:r,handleBackClick:i}=e;const s=Ki();lc({isActive:t,onBack:i});const{handleScroll:c,isScrolled:l}=Pv(),d=cg(o),u=lt(),m="light"===d?gg:hg,p=s("$about_extension_link_text",{app_name:a.C39});return pt.createElement("div",{className:qi(zy.slide,r)},n?pt.createElement(Cv,{title:s("About %app_name%",{app_name:a.C39}),withNotch:l,onBackButtonClick:i,className:zy.modalHeader}):pt.createElement(Ey,{isActive:t,title:`${a.C39} ${a.hl5} ${a.vOV}`,topTargetRef:u,onBackClick:i}),pt.createElement("div",{className:qi(zy.content,zy.noTitle,"custom-scroll"),onScroll:n?c:void 0},pt.createElement("img",{src:m,alt:s("Logo"),className:zy.logo}),pt.createElement("h2",{ref:u,className:zy.title},a.C39," ",a.hl5," ",a.vOV,!a.TI6&&pt.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:zy.titleLink,rel:"noreferrer"},"mytonwallet.io")),pt.createElement("div",{className:qi(zy.settingsBlock,zy.settingsBlock_text)},pt.createElement("p",{className:zy.text},bi(s("$about_description1"))),pt.createElement("p",{className:zy.text},bi(s("$about_description2")))),pt.createElement("p",{className:zy.blockTitle},s("%app_name% Resources",{app_name:a.C39})),pt.createElement("div",{className:zy.settingsBlock},pt.createElement("a",{href:`https://t.me/${a.AIK[s.code]??a.AIK.en}`,target:"_blank",rel:"noreferrer",className:zy.item,onClick:Bl},pt.createElement("img",{className:zy.menuIcon,src:jy,alt:s("Watch Video about Features")}),s("Watch Video about Features"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),pt.createElement("a",{href:yi(s.code),target:"_blank",rel:"noreferrer",className:zy.item,onClick:Bl},pt.createElement("img",{className:zy.menuIcon,src:qy,alt:s("Enjoy Monthly Updates in Blog")}),s("Enjoy Monthly Updates in Blog"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),pt.createElement("a",{href:Fv(s.code,"home"),target:"_blank",rel:"noreferrer",className:zy.item,onClick:Bl},pt.createElement("img",{className:zy.menuIcon,src:Ky,alt:s("Learn New Things in Help Center")}),s("Learn New Things in Help Center"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),pt.createElement("p",{className:zy.blockTitle},s("Frequency Questions and Answers")),pt.createElement("div",{className:qi(zy.settingsBlock,zy.settingsBlock_text)},a.hL1?pt.createElement(pt.Fragment,null,pt.createElement("h3",{className:qi(Uy,zy.heading)},pt.createElement(Sy,{from:"🥷"})," ",s("What is TON Proxy?")),pt.createElement("p",{className:qi(zy.text,zy.textInChat)},bi(s("$about_extension_description1"))," ",pt.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},s("More info and demo."))),pt.createElement("hr",{className:zy.separator}),pt.createElement("h3",{className:qi(zy.text,zy.heading)},pt.createElement(Sy,{from:"🦄"})," ",s("What is TON Magic?")),pt.createElement("p",{className:qi(zy.text,zy.textInChat)},bi(s("$about_extension_description2"))),pt.createElement("p",{className:qi(zy.text,zy.textInChat)},s("$about_extension_description3")," ",pt.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},s("More info and demo.")))):pt.createElement(pt.Fragment,null,pt.createElement("h3",{className:qi(Uy,Hy,zy.heading)},s("$about_proxy_magic_title",{ninja:pt.createElement(Sy,{from:"🥷"}),unicorn:pt.createElement(Sy,{from:"🦄"})})),pt.createElement("p",{className:qi(zy.text,zy.textInChat)},s("$about_proxy_magic_description",{extension_link:pt.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},bi(p))}))),pt.createElement("hr",{className:zy.separator}),pt.createElement("h3",{className:qi(Uy,Hy,zy.heading)},pt.createElement("i",{className:qi(zy.github,"icon-github"),"aria-hidden":!0})," ",s("Is it open source?")),pt.createElement("p",{className:qi(zy.text,zy.textInChat)},s("$about_wallet_github",{github_link:pt.createElement("a",{href:a.V3_,target:"_blank",rel:"noreferrer"},bi(s("$about_github_link_text")))})),pt.createElement("hr",{className:zy.separator}),pt.createElement("h3",{className:qi(Uy,Hy,zy.heading)},pt.createElement("i",{className:qi(zy.telegram,"icon-telegram"),"aria-hidden":!0})," ",s("Is there a community?")),pt.createElement("p",{className:qi(zy.text,zy.textInChat)},s("$about_wallet_community",{community_link:pt.createElement("a",{href:"ru"===s.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},bi(s("$about_community_link_text")))})))))}),Gy="ULZ34zm7",Qy="PaAMLiEx",Xy="Kl8WYoh1",Zy="TyvpW2dz",Jy="EYxgovrk",ew="ehC1Upu8",tw="GWv6k9kV",nw="ehvMomrX",aw="WrpQj6v4",ow="FvuWBVMK",rw="I1fhFmAn",iw="rT8yDraM",sw="hkc_A2ok",cw="usE91GiK",lw="B8vH7CYQ",dw="SWvNin2D",uw="qoCa264k",mw="ODle5ROH",pw="yHcMeGVS",fw="Lfkf9AW5",hw=ut(function(e){let{isActive:t,isLoading:n,error:a,method:o}=e;const{resetAuth:r,cleanAuthError:i,addAccount:s}=$t(),c=Ki(),l="createAccount"!==o,d=ri(e=>{s({method:l?"importMnemonic":"createAccount",password:e,isAuthFlow:!0})});return pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(ig,{isActive:t,isLoading:n,error:a,containerClassName:"Stc9sPH6",submitLabel:c("Confirm"),cancelLabel:c("Back"),onSubmit:d,onCancel:r,onUpdate:i},pt.createElement("div",{className:tw},c("Enter your password"))))});function gw(e,t){const n=lt(0);return st(()=>{t||(n.current+=1)},e),n.current}const vw=od,yw=ut(function(e){let{isActive:t,checkIndexes:n,mnemonic:a,descriptionClassName:o,formClassName:r,errorClassName:i,onSubmit:s,onValidationComplete:c,onUserInteraction:l,isErrorVisible:d}=e;const{restartCheckMnemonicIndexes:u}=$t(),m=Ki(),[p,f]=at({}),[h,g]=at({}),[v,y]=at(!1),[w,b]=at({}),E=lt(void 0),k=ri(()=>{if(!n||!a||0===a.length)return;const e={};n.forEach(t=>{const n=a[t],o=R(Array.from(new Set(a.filter(e=>e!==n)))).slice(0,3);e[t]=R([n,...o])}),g(e)});rt(()=>{t&&n&&null!=a&&a.length&&(k(),f({}),y(!1),b({}))},[n,t,null==a?void 0:a.length]),rt(()=>()=>{void 0!==E.current&&(window.clearTimeout(E.current),E.current=void 0)},[]);const C=ri((e,t)=>{f(n=>({...n,[t]:e})),y(!1),b({}),null==l||l()}),N=ri(()=>{if(!n||!a)return;const e={};n.forEach(t=>{e[t]=p[t]===a[t]}),b(e),y(!0),n.every(e=>p[e]===a[e])?(void 0!==E.current&&window.clearTimeout(E.current),E.current=window.setTimeout(()=>{y(!1),b({}),s(),E.current=void 0,null==c||c(!0)},vw)):(void 0!==E.current&&window.clearTimeout(E.current),E.current=window.setTimeout(()=>{if(a&&n){const e=n.filter(e=>p[e]!==a[e]);u({wordsCount:a.length,preserveIndexes:e})}null==c||c(!1),f({}),y(!1),b({}),E.current=void 0},vw))}),S=st(()=>(null==n?void 0:n.every(e=>Boolean(p[e])))??!1,[n,p]),A=st(()=>(null==n?void 0:n.map(e=>e+1).join(", "))??"",[n]);return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:o},bi(m("$mnemonic_check_words_list",{word_numbers:pt.createElement("b",null,A)}))),pt.createElement("div",{className:r},null==n?void 0:n.map(e=>{var t;return pt.createElement("div",{key:e,className:"xFgt95c3"},pt.createElement("div",{className:qi("Iwd708OH",v&&w[e]&&"mRV7QJh6",v&&!w[e]&&"gtMMw9r6")},e+1,"."),pt.createElement("div",{className:"l179g0h8"},null===(t=h[e])||void 0===t?void 0:t.map(t=>{const n=p[e]===t,o=t===(null==a?void 0:a[e]),r=v&&n;return pt.createElement("button",{key:t,type:"button",className:qi("LX_bM9Z1",n&&!v&&"W00eM6VS",r&&o&&"jInr6L0Y",r&&!o&&"zgkenQr9"),"aria-pressed":n,disabled:v,onClick:v?void 0:()=>C(t,e)},t)})))})),pt.createElement("div",{className:qi("INYWfeU1",d&&"AAW61V3w",i)},bi(m("$mnemonic_check_error"))),pt.createElement("div",{className:"IjgauT4_"},pt.createElement(dl,{isPrimary:!0,isLoading:v,isDisabled:!S,className:"NjHAAE4z",onClick:v?void 0:N},m("Continue"))))}),ww={title:"zfHDUTpL",checkboxBlock:"bANwrVbn",accessible:"XgFN3RMf",checkbox:"q4Q6iRMz",checkWordsSlide:"JK4SMiiJ",modalSticker:"L6u18JBd",buttonWrapper:"NvN6uNIF",footerButton:"u7rnL9q6",copyButton:"D3IrVrOi",copyButtonIcon:"r0MRp6js",error:"WeqRS7VQ",info:"o4FCVeIa",mnemonicContainer:"lRHp5zzY",warning:"jCCt2XRK",text:"bbZlc4x6",warningText:"bxij2N7_",words:"Yaqcau6G",word:"qdW2OhFc",small:"pfd8fIrT"},bw=ut(function(e){let{isActive:t,headerRef:n,stickerClassName:o,checkIndexes:r,mnemonic:i}=e;const{closeCheckWordsPage:s}=$t(),c=ri(()=>{s({isBackupCreated:!0})}),l=Ki(),d=gw([i,r]),[u,m]=at(!1),p=ri(e=>{m(!e)}),f=ri(()=>{m(!1)});return pt.createElement(pt.Fragment,null,pt.createElement(Nh,{tgsUrl:Qf.bill,previewUrl:Qf.billPreview,size:a.lWW,play:t,nonInteractive:!0,noLoop:!1,className:qi(ww.modalSticker,o)}),pt.createElement("div",{ref:n,className:ww.title},l("Let's Check")),pt.createElement("p",{className:qi(ww.info,ww.small)},bi(l("$check_words_description"))),pt.createElement(Qh,{activeKey:d,name:"fade",slideClassName:ww.checkWordsSlide},pt.createElement(yw,{descriptionClassName:qi(ww.info,ww.small),formClassName:ww.checkMnemonicForm,isActive:t,mnemonic:i,checkIndexes:r,isErrorVisible:u,onSubmit:c,onValidationComplete:p,onUserInteraction:f})))}),Ew=ut(e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{openMnemonicPage:o}=$t(),r=Ki(),i=lt(),s=r("Let's Check!");return lc({isActive:t,onBack:o}),pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:s,topTargetRef:i,onBackClick:o}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(bw,{isActive:t,headerRef:i,stickerClassName:iw,mnemonic:n,checkIndexes:a})))});class kw{seed;constructor(e){this.seed=e}next(){return this.seed=(9301*this.seed+49297)%233280,this.seed/233280}nextBetween(e,t){return e+(t-e)*this.next()}}const Cw={width:400,height:250,particleCount:19,color:[0,152/255,234/255],speed:18,baseSize:6,minSpawnRadius:55,maxSpawnRadius:70,distanceLimit:1,fadeInTime:.25,fadeOutTime:1,minLifetime:3,maxLifetime:5,maxStartTimeDelay:1,edgeFadeZone:50,centerShift:[0,0],accelerationFactor:3,selfDestroyTime:0},Nw={width:350,height:230,particleCount:35,centerShift:[0,32],distanceLimit:.45},Sw={particleCount:90,distanceLimit:1,fadeInTime:.05,minLifetime:3,maxLifetime:3,maxStartTimeDelay:0,selfDestroyTime:3,minSpawnRadius:35,maxSpawnRadius:50},Aw=new Map;function Iw(e,t){let n=Aw.get(e);return n||(n=function(e){const t=e.getContext("webgl",{alpha:!0,antialias:!1,preserveDrawingBuffer:!1});if(!t)throw new Error("WebGL not supported");const n=xw(t,t.VERTEX_SHADER,Tw),a=xw(t,t.FRAGMENT_SHADER,Bw);if(!n||!a)throw new Error("Failed to create shaders");const o=function(e,t,n){const a=e.createProgram();if(a){if(e.attachShader(a,t),e.attachShader(a,n),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS))return a;e.deleteProgram(a)}}(t,n,a);if(!o)throw new Error("Failed to create shader program");const r=window.devicePixelRatio||1,i=new Map,s={attributes:{startPosition:t.getAttribLocation(o,"a_startPosition"),velocity:t.getAttribLocation(o,"a_velocity"),startTime:t.getAttribLocation(o,"a_startTime"),lifetime:t.getAttribLocation(o,"a_lifetime"),size:t.getAttribLocation(o,"a_size"),baseOpacity:t.getAttribLocation(o,"a_baseOpacity")},uniforms:{resolution:t.getUniformLocation(o,"u_resolution"),time:t.getUniformLocation(o,"u_time"),color:t.getUniformLocation(o,"u_color"),canvasWidth:t.getUniformLocation(o,"u_canvasWidth"),canvasHeight:t.getUniformLocation(o,"u_canvasHeight"),accelerationFactor:t.getUniformLocation(o,"u_accelerationFactor"),fadeInTime:t.getUniformLocation(o,"u_fadeInTime"),fadeOutTime:t.getUniformLocation(o,"u_fadeOutTime"),edgeFadeZone:t.getUniformLocation(o,"u_edgeFadeZone"),rotationMatrices:t.getUniformLocation(o,"u_rotationMatrices"),spawnCenter:t.getUniformLocation(o,"u_spawnCenter")}};let c,l;function d(e){c&&(t.clear(t.COLOR_BUFFER_BIT),i.forEach(n=>{const a=(e-n.startTime)/1e3;t.uniform1f(s.uniforms.time,a),t.uniform3fv(s.uniforms.color,n.config.color),t.uniform1f(s.uniforms.canvasWidth,n.config.width*r),t.uniform1f(s.uniforms.canvasHeight,n.config.height*r),t.uniform1f(s.uniforms.accelerationFactor,n.config.accelerationFactor),t.uniform1f(s.uniforms.fadeInTime,n.config.fadeInTime),t.uniform1f(s.uniforms.fadeOutTime,n.config.fadeOutTime),t.uniform1f(s.uniforms.edgeFadeZone,n.config.edgeFadeZone*r),t.uniform2f(s.uniforms.spawnCenter,n.centerX*r,n.centerY*r),t.bindBuffer(t.ARRAY_BUFFER,n.buffers.startPosition),t.enableVertexAttribArray(s.attributes.startPosition),t.vertexAttribPointer(s.attributes.startPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,n.buffers.velocity),t.enableVertexAttribArray(s.attributes.velocity),t.vertexAttribPointer(s.attributes.velocity,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,n.buffers.startTime),t.enableVertexAttribArray(s.attributes.startTime),t.vertexAttribPointer(s.attributes.startTime,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,n.buffers.lifetime),t.enableVertexAttribArray(s.attributes.lifetime),t.vertexAttribPointer(s.attributes.lifetime,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,n.buffers.size),t.enableVertexAttribArray(s.attributes.size),t.vertexAttribPointer(s.attributes.size,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,n.buffers.baseOpacity),t.enableVertexAttribArray(s.attributes.baseOpacity),t.vertexAttribPointer(s.attributes.baseOpacity,1,t.FLOAT,!1,0,0),t.drawArrays(t.POINTS,0,n.config.particleCount)}),c=requestAnimationFrame(d))}function u(r){const s=i.get(r);var d;s&&(s.selfDestroyTimeout&&clearTimeout(s.selfDestroyTimeout),Object.values(s.buffers).forEach(e=>{e&&t.deleteBuffer(e)}),i.delete(r),0===i.size&&(void 0!==c&&(cancelAnimationFrame(c),c=void 0),null===(d=l)||void 0===d||d(),i.clear(),t.deleteProgram(o),t.deleteShader(n),t.deleteShader(a),Aw.delete(e)))}return{addSystem:function(n){const a=(0,ht.A)(),m={...Cw,...n},p={startPosition:t.createBuffer(),velocity:t.createBuffer(),startTime:t.createBuffer(),lifetime:t.createBuffer(),size:t.createBuffer(),baseOpacity:t.createBuffer()},f={id:a,config:m,buffers:p,startTime:performance.now(),seed:Math.floor(1e6*Math.random()),centerX:m.width/2+m.centerShift[0],centerY:m.height/2+m.centerShift[1],avgDistance:(m.width/2+m.height/2)/2};return i.set(a,f),function(e){const n=new kw(e.seed),{config:a}=e,o=new Float32Array(2*a.particleCount),i=new Float32Array(2*a.particleCount),s=new Float32Array(a.particleCount),c=new Float32Array(a.particleCount),l=new Float32Array(a.particleCount),d=new Float32Array(a.particleCount);for(let t=0;t<a.particleCount;t++){const u=n.next()*Math.PI*2,m=n.nextBetween(a.minSpawnRadius,a.maxSpawnRadius),p=Math.cos(u),f=Math.sin(u),h=e.centerX+p*m,g=e.centerY+f*m;o[2*t]=h*r,o[2*t+1]=g*r,c[t]=n.nextBetween(a.minLifetime,a.maxLifetime),s[t]=n.next()*a.maxStartTimeDelay;const v=n.nextBetween(e.avgDistance*a.distanceLimit*.5,e.avgDistance*a.distanceLimit)/c[t]*r;i[2*t]=p*v,i[2*t+1]=f*v;const y=n.next();l[t]=y<.3?.67*a.baseSize*r:y<.7?1.33*a.baseSize*r:2*a.baseSize*r,d[t]=n.nextBetween(.1,.7)}t.bindBuffer(t.ARRAY_BUFFER,e.buffers.startPosition),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.velocity),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.startTime),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.lifetime),t.bufferData(t.ARRAY_BUFFER,c,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.size),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.baseOpacity),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW)}(f),function(){let n=0,a=0;i.forEach(e=>{n=Math.max(n,e.config.width),a=Math.max(a,e.config.height)}),0===i.size&&(n=Cw.width,a=Cw.height),(0,we.bo)(()=>{e.width=n*r,e.style.width=n+"px",e.height=a*r,e.style.height=a+"px"}),t.viewport(0,0,e.width,e.height)}(),m.selfDestroyTime&&(f.selfDestroyTimeout=window.setTimeout(()=>{u(a)},1e3*m.selfDestroyTime)),1===i.size&&(t.useProgram(o),t.uniform2f(s.uniforms.resolution,e.width,e.height),t.uniformMatrix2fv(s.uniforms.rotationMatrices,!1,function(){if(!_w){const e=18,t=220;_w=new Float32Array(4*e);for(let n=0;n<e;n++){const e=t*Math.PI/180*n,a=Math.cos(e),o=Math.sin(e);_w[4*n]=a,_w[4*n+1]=o,_w[4*n+2]=-o,_w[4*n+3]=a}}return _w}()),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.clearColor(0,0,0,0),l=Vd.subscribe(()=>{const e=!Vd();e&&!c?c=requestAnimationFrame(d):!e&&c&&(cancelAnimationFrame(c),c=void 0)}),c=requestAnimationFrame(d)),()=>u(a)}}}(e),Aw.set(e,n)),n.addSystem(t)}const Tw="\n    attribute vec2 a_startPosition;\n    attribute vec2 a_velocity;\n    attribute float a_startTime;\n    attribute float a_lifetime;\n    attribute float a_size;\n    attribute float a_baseOpacity;\n\n    uniform vec2 u_resolution;\n    uniform float u_time;\n    uniform float u_canvasWidth;\n    uniform float u_canvasHeight;\n    uniform float u_accelerationFactor;\n    uniform float u_fadeInTime;\n    uniform float u_fadeOutTime;\n    uniform float u_edgeFadeZone;\n    uniform mat2 u_rotationMatrices[18];\n    uniform vec2 u_spawnCenter;\n\n    varying float v_opacity;\n\n    void main() {\n        float totalAge = u_time - a_startTime;\n        float age = mod(totalAge, a_lifetime);\n\n        // For the initial animation, fade in all particles\n        float globalFadeIn = min(u_time / u_fadeInTime, 1.0);\n\n        float lifeRatio = age / a_lifetime;\n\n        // Calculate rotation based on completed lifecycles\n        float lifecycleCount = floor(totalAge / a_lifetime);\n        int rotationIndex = int(mod(lifecycleCount, 18.0));\n\n        // Get rotation matrix\n        mat2 rotationMatrix = u_rotationMatrices[rotationIndex];\n\n        // Rotate start position around spawn center\n        vec2 startOffset = a_startPosition - u_spawnCenter;\n        vec2 rotatedStartOffset = rotationMatrix * startOffset;\n        vec2 rotatedStartPosition = u_spawnCenter + rotatedStartOffset;\n\n        // Apply rotation matrix to velocity\n        vec2 rotatedVelocity = rotationMatrix * a_velocity;\n\n        // Apply shoot-out effect: fast initial speed that slows down\n        float speedMultiplier = 1.0 + u_accelerationFactor * exp(-3.0 * lifeRatio);\n\n        vec2 position = rotatedStartPosition + rotatedVelocity * age * speedMultiplier;\n\n        float opacity = 1.0;\n        if (lifeRatio < u_fadeInTime / a_lifetime) {\n            opacity = (lifeRatio * a_lifetime) / u_fadeInTime;\n        } else if (lifeRatio > 1.0 - u_fadeOutTime / a_lifetime) {\n            opacity = (1.0 - lifeRatio) * a_lifetime / u_fadeOutTime;\n        }\n        opacity *= a_baseOpacity * globalFadeIn;\n\n        float distToLeft = position.x;\n        float distToRight = u_canvasWidth - position.x;\n        float distToTop = position.y;\n        float distToBottom = u_canvasHeight - position.y;\n        float distToEdge = min(min(distToLeft, distToRight), min(distToTop, distToBottom));\n\n        if (distToEdge < u_edgeFadeZone) {\n            opacity *= distToEdge / u_edgeFadeZone;\n        }\n\n        vec2 clipSpace = ((position / u_resolution) * 2.0 - 1.0) * vec2(1, -1);\n        gl_Position = vec4(clipSpace, 0, 1);\n        gl_PointSize = a_size;\n        v_opacity = opacity;\n    }\n",Bw="\n    precision mediump float;\n\n    uniform vec3 u_color;\n    varying float v_opacity;\n\n    void main() {\n        vec2 coord = gl_PointCoord - vec2(0.5);\n        vec2 absCoord = abs(coord);\n\n        // Convert to square with rounded corners\n        float radius = 0.25; // 25% of full edge (1.0)\n        float squareSize = 0.5 - radius;\n\n        // Distance to rounded corner\n        vec2 cornerDist = max(absCoord - squareSize, 0.0);\n        float dist = length(cornerDist);\n\n        // Use smoothstep for anti-aliasing to reduce subpixel artifacts\n        float alpha = 1.0 - smoothstep(radius - 0.05, radius + 0.05, dist);\n\n        if (alpha <= 0.0) {\n            discard;\n        }\n\n        gl_FragColor = vec4(u_color * v_opacity * alpha, v_opacity * alpha);\n    }\n";function xw(e,t,n){const a=e.createShader(t);if(a){if(e.shaderSource(a,n),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS))return a;e.deleteShader(a)}}let _w;const Lw=12.75*r.$,Dw=14.625*r.$,Ow=[30/255,193/255,96/255],Mw=ut(function(e){let{imgPath:t,alt:n,canvasRef:a,className:o,onClick:r}=e;const i=Boolean(r);return pt.createElement("div",{className:qi("yWjWtw1s",o),tabIndex:i?-1:void 0,role:i?"button":void 0,onClick:r},pt.createElement("canvas",{ref:a,className:"GVojJbOb"}),pt.createElement("div",{className:"n5RV39oD"},pt.createElement(dg,{url:t,isSlow:!0,alt:n,imageClassName:"fftAZast"})))}),Fw=i.p+"settings_biometrics.507638446829e8e0d552.svg",Pw=xo.Z2,Rw=ut(function(e){let{isActive:t,biometricsStep:n,error:a,isLoading:o}=e;const{afterCreateBiometrics:r,resetAuth:i,cancelCreateBiometrics:s}=$t(),c=Ki(),l=lt(),d=lt(),{isLandscape:u}=xs(),m=Boolean(n),p=Boolean(a&&!m),f=uv(a,!0);_v(r,t?Pw:void 0,[t]),it(()=>{if(t)return Iw(l.current,{color:Ow,...Nw,height:u?Dw:Lw})},[t,u]);const h=ri(()=>{Iw(l.current,{color:Ow,...Nw,...Sw,height:u?Dw:Lw})});return lc({isActive:t,onBack:i}),pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:c("Turn On Biometrics"),topTargetRef:d,onBackClick:i}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(Mw,{canvasRef:l,imgPath:Fw,alt:c("Turn On Biometrics"),className:sw,onClick:h}),pt.createElement("div",{ref:d,className:tw},c("Turn On Biometrics")),m&&pt.createElement("div",{className:"t3qgjBKg"},c(1===n?"Step 1 of 2. Registration":"Step 2 of 2. Verification")),p&&pt.createElement("div",{className:qi("Es3mlsbs")},pt.createElement("div",null,c(f||"Unknown error")),pt.createElement("div",null,c("Please try to confirm your biometrics again"))),pt.createElement("div",{className:mw},p&&pt.createElement(dl,{isPrimary:!0,className:dw,isDisabled:Boolean(n)||o,onClick:r},c("Try Again")),pt.createElement(dl,{isDisabled:Boolean(n)||o,className:dw,onClick:s},c("Cancel")))))}),Uw=ut(zt(e=>({pin:e.auth.password}))(e=>{let{isActive:t,method:n,pin:o}=e;const{confirmPin:r,cancelConfirmPin:i}=$t(),s=Ki(),l=lt(),[d,u]=at(""),[m,p]=at(""),[f,h]=at(!1),g="createAccount"!==n,v=s(g?"Wallet is imported!":"Wallet is ready!"),y=ri(()=>{i({isImporting:g})});lc({isActive:t,onBack:y}),rt(()=>{t&&(u(""),p(""),h(!1))},[t]);const w=ri(e=>{u(e),p("")}),b=ri(async e=>{e===o?(h(!0),await(0,c.v7)(1500),r({isImporting:g})):p(s("Codes don't match"))});return pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:v,topTargetRef:l,onBackClick:y}),pt.createElement("div",{className:qi(Qy,Zy)},pt.createElement("div",{className:pw},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0}),pt.createElement("div",{ref:l,className:tw},v)),pt.createElement(eg,{isActive:t,title:f?s("Code set successfully"):m||s("Enter your code again"),type:f?"success":m?"error":void 0,length:a.NEx,value:d,onChange:w,onSubmit:b})))})),Ww=ut(function(e){let{isActive:t,hardwareWalletsAmount:n,isImporting:a}=e;const{afterCongratulations:o,requestConfetti:r}=$t(),i=Ki();rt(()=>{t&&(r(),xd())},[t]);const s=ri(()=>{o({isImporting:a&&!n})});return pt.createElement("div",{className:qi(Qy,"custom-scroll")},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0,className:sw}),pt.createElement("div",{className:tw},i("All Set!")),pt.createElement("div",{className:aw},pt.createElement("p",null,pt.createElement("b",null,a?i("$wallet_import_done",n??0,"i"):i("$wallet_create_done"))),pt.createElement("p",null,bi(i("$wallet_done_description")))),pt.createElement("div",{className:mw},pt.createElement(dl,{isPrimary:!0,className:dw,onClick:s},i("Open Wallet"))))}),Hw=ut(e=>{let{isActive:t,method:n}=e;const{startCreatingBiometrics:a,resetAuth:o,skipCreateBiometrics:r}=$t(),i=Ki(),s=lt(),c="createAccount"!==n,l=i(c?"Wallet is imported!":"Wallet is ready!");lc({isActive:t,onBack:o});const d=ri(()=>{r({isImporting:c})});return pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:l,topTargetRef:s,onBackClick:o}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0,className:sw}),pt.createElement("div",{ref:s,className:tw},l),pt.createElement("p",{className:aw},i("Use biometric authentication or create a password to protect it.")),pt.createElement("div",{className:mw},pt.createElement(dl,{isPrimary:!0,className:dw,onClick:a},i("Connect Biometrics")),pt.createElement(dl,{isText:!0,className:qi(dw,uw),onClick:d},i("Use Password")))))}),$w=i.p+"settings_face-id.9114cd96723fdb063bc4.svg",Vw=ut(e=>{let{isActive:t,isLoading:n}=e;const{afterCreateNativeBiometrics:a,skipCreateNativeBiometrics:o,resetAuth:r}=$t(),i=Ki(),s=lt(),c=lt(),{isLandscape:l}=xs(),d=Ed(),u=kd(),m=i(d?"Use Face ID":u?"Use Touch ID":"Use Biometrics");lc({isActive:t,onBack:r}),it(()=>{if(t)return Iw(s.current,{color:Ow,...Nw,height:l?Dw:Lw})},[t,l]);const p=ri(()=>{Iw(s.current,{color:Ow,...Nw,...Sw,height:l?Dw:Lw})});return pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:m,topTargetRef:c,onBackClick:r}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(Mw,{canvasRef:s,imgPath:d?$w:Fw,className:sw,onClick:p}),pt.createElement("div",{ref:c,className:tw},m),pt.createElement("p",{className:aw},bi(i("$auth_biometric_info"))),pt.createElement("div",{className:mw},pt.createElement(dl,{isPrimary:!0,className:dw,isLoading:n,onClick:n?void 0:a},i(d?"Connect Face ID":u?"Connect Touch ID":"Connect Biometrics")),pt.createElement(dl,{isText:!0,isDisabled:n,className:qi(dw,uw),onClick:o},i("Not Now")))))}),zw=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,Kw=ut(function(e){let{isActive:t,isLoading:n,formId:o,onCancel:i,onSubmit:s,containerClassName:c}=e;const l=Ki(),d=r.pz||r.Ni,u=lt(),[m,p]=at(!1),[f,h]=at(""),[g,v]=at(""),[y,w,b]=Np(!1),[E,k,C]=Np(!1),[N,S]=at(!1),[A,I]=at(!1),[T,B,x]=Np(!1),_=t&&f.length>0&&g.length>0&&!N,L=N&&!y,D=(e=>{let{firstPassword:t="",secondPassword:n="",requiredMinLength:a=8,requiredLength:o,isOnlyNumbers:r}=e;const[i,s]=at(!1),[c,l]=at(!1),[d,u]=at(!1),[m,p]=at(!1),[f,h]=at(!1),[g,v]=at(!1);return rt(()=>{const e=Boolean(!o&&t.length<a||o&&t.length!==o);s(e),u(!r&&t.toLowerCase()===t),p(!r&&t.toUpperCase()===t),l(!/\d/.test(t)),v(Boolean(t&&t!==n)),h(!r&&!zw.test(t))},[t,n,a,r,o]),{invalidLength:i,noNumber:c,noUpperCase:d,noLowerCase:m,noEqual:g,noSpecialChar:f}})({firstPassword:f,secondPassword:g,isOnlyNumbers:d,requiredLength:d?a.NEx:void 0});Xf(u,!t),rt(()=>{if(I(!1),""===f||!t||y)return void S(!1);const{noEqual:e,invalidLength:n}=D;T&&!m||!e||""===g?(!e||""===g||T&&!m)&&S(!1):(S(!0),I(!0)),d&&n&&!m&&S(!0)},[t,f,g,D,T,y,m,d]);const O=ri(e=>{h(e),m&&p(!1)}),M=ri(e=>{v(e),m&&p(!1)}),F=ri(e=>{if(Yr(e),!_)return;if(f!==g)return p(!0),S(!0),void I(!0);const t=Object.values(D).find(e=>e);d||!t||E?(E&&C(),s(f,d)):k()});return pt.createElement(pt.Fragment,null,pt.createElement("form",{id:o,className:qi("VKREIrDv",c),onSubmit:F},pt.createElement("div",{className:"Vj7_u12z"},pt.createElement(Ah,{ref:u,type:"password",isRequired:!0,id:"first-password",inputMode:d?"numeric":void 0,hasError:L,placeholder:l("Enter your password..."),value:f,autoComplete:"new-password",onInput:O,onFocus:w,onBlur:b,maxLength:d?a.NEx:void 0,enterKeyHint:"next"}),pt.createElement(Ah,{type:"password",isRequired:!0,id:"second-password",inputMode:d?"numeric":void 0,placeholder:l("...and repeat it"),hasError:A,value:g,autoComplete:"new-password",onInput:M,onFocus:B,onBlur:x,maxLength:d?a.NEx:void 0,enterKeyHint:"next"})),function(){if(A)return pt.createElement("div",{className:qi("vozeQrSV",lw)},l("Passwords must be equal."));const{invalidLength:e,noUpperCase:t,noLowerCase:n,noNumber:o,noSpecialChar:r}=D;return d?pt.createElement("div",{className:cw},pt.createElement("span",{className:qw(L,e||o)},l("Password must contain %length% digits.",{length:a.NEx}))):pt.createElement("div",{className:cw},l("To protect your wallet as much as possible, use a password with"),pt.createElement("span",{className:qw(L,e)}," ",l("$auth_password_rule_8chars"),","),pt.createElement("span",{className:qw(L,n)}," ",l("$auth_password_rule_one_small_char"),","),pt.createElement("span",{className:qw(L,t)}," ",l("$auth_password_rule_one_capital_char"),","),pt.createElement("span",{className:qw(L,o)}," ",l("$auth_password_rule_one_digit"),","),pt.createElement("span",{className:qw(L,r)}," ",l("$auth_password_rule_one_special_char")),".")}(),pt.createElement("div",{className:mw},pt.createElement(dl,{isSubmit:!0,isPrimary:!0,isDisabled:A||""===f,isLoading:n,className:dw},l("Continue")))),pt.createElement(bl,{isOpen:E,isCompact:!0,onClose:C,title:l("Insecure Password")},pt.createElement("p",{className:ml.text},l("Your have entered an insecure password, which can be easily guessed by scammers.")),pt.createElement("p",{className:ml.text},l("Continue or change password to something more secure?")),pt.createElement("div",{className:qi(ml.footerButtons,ml.footerButtonsVertical)},pt.createElement(dl,{isPrimary:!0,onClick:C,className:ml.buttonFullWidth},l("Change")),pt.createElement(dl,{isDestructive:!0,forFormId:o,isSubmit:!0,className:ml.buttonFullWidth},l("Continue")))))});function qw(e,t){return qi("zwUB1a_J",t?e?"zW_BJiRs":void 0:"tAmeBNo9")}const jw=ut(e=>{let{isActive:t,method:n,isLoading:a}=e;const{afterCreatePassword:o,resetAuth:i}=$t(),s=Ki(),c=lt(),l="createAccount"!==n,d=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(n),u=!(r.uh||bd()),m=s(u?"Congratulations!":"Create Password");lc({isActive:t,onBack:i});const p=ri((e,t)=>{o({password:e,isPasswordNumeric:t})});return pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:m,topTargetRef:c,onBackClick:i}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0,className:sw}),pt.createElement("div",{ref:c,className:qi(tw,!u&&"XUVoSlvz")},m),u&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:aw},pt.createElement("b",null,s(l?"The wallet is imported":"The wallet is ready"),".")),pt.createElement("p",{className:aw},s("Create a password to protect it."))),pt.createElement(Kw,{isActive:t,isLoading:a,formId:d,onCancel:i,onSubmit:p})))}),Yw=ut(e=>{let{isActive:t,method:n}=e;const{createPin:o,resetAuth:r}=$t(),i=Ki(),s=lt(),[l,d]=at(""),u="createAccount"!==n,m=i(u?"Wallet is imported!":"Wallet is ready!");rt(()=>{t&&d("")},[t]),lc({isActive:t,onBack:r});const p=ri(async e=>{await(0,c.v7)(750),o({pin:e,isImporting:u})});return pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:m,topTargetRef:s,onBackClick:r}),pt.createElement("div",{className:qi(Qy,Zy)},pt.createElement("div",{className:pw},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0}),pt.createElement("div",{ref:s,className:tw},m)),pt.createElement(eg,{isActive:t,title:i("Create a code to protect it"),length:a.NEx,value:l,onChange:d,onSubmit:p})))}),Gw=xo.Z2,Qw=ut(e=>{let{isActive:t}=e;const n=Ki(),[a,o]=Np(),[r,i]=Np(),[s,c]=Np();_v(o,t?700:void 0),_v(i,t?700+Gw:void 0),_v(c,t?700+2*Gw:void 0);const l=ah(a),d=ah(r),u=ah(s);return pt.createElement("div",{className:qi(Qy,"custom-scroll")},pt.createElement(Nh,{play:t,tgsUrl:Qf.hello,previewUrl:Qf.helloPreview,nonInteractive:!0,noLoop:!1}),pt.createElement("div",{className:tw},n("Creating Wallet...")),pt.createElement("div",{className:"BMrG2A2B"},pt.createElement("p",{className:"IFpNJ6G4"},n("On the count of three...")),pt.createElement("b",{ref:l,className:qi(ow,"rounded-font")},"1"),pt.createElement("b",{ref:d,className:qi(ow,"rounded-font")},"2"),pt.createElement("b",{ref:u,className:qi(ow,"rounded-font")},"3")))}),Xw=i.p+"settings_lock.71acb90d189a67e01f51.svg",Zw=i.p+"settings_secret-words.594687182868e734ac8f.svg",Jw=ut(function(e){let{isActive:t}=e;const{closeDisclaimer:n}=$t(),o=Ki(),r=lt();return lc({isActive:t,onBack:n}),pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:o("Use Responsibly"),topTargetRef:r,onBackClick:n}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(Nh,{play:t,tgsUrl:Qf.snitch,previewUrl:Qf.snitchPreview,noLoop:!1,nonInteractive:!0,size:a.lWW,className:iw}),pt.createElement("div",{ref:r,className:tw},o("Use Responsibly")),pt.createElement("div",{className:"PxIcz2Ce"},pt.createElement("p",{className:nw},bi(o("$auth_responsibly_description1",{app_name:a.C39}))),pt.createElement("p",{className:nw},bi(o("$auth_responsibly_description2"))),pt.createElement("p",{className:nw},bi(o("$auth_responsibly_description3",{app_name:a.C39}))),pt.createElement("p",{className:nw},bi(o("$auth_responsibly_description4")))),pt.createElement("div",{className:qi(zy.block,"P6K_FRSR")},pt.createElement("a",{href:a.Xv2,target:"_blank",rel:"noreferrer",className:zy.item,onClick:Bl},pt.createElement("img",{className:zy.menuIcon,src:Zw,alt:o("Terms of Use")}),o("Terms of Use"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),pt.createElement("a",{href:a.bUn,target:"_blank",rel:"noreferrer",className:zy.item,onClick:Bl},pt.createElement("img",{className:zy.menuIcon,src:Xw,alt:o("Privacy Policy")}),o("Privacy Policy"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))))}),eb={suggestions:"wSbrkEKB",bottom:"YGdWEJ33",top:"jKY8_1nT",suggestion:"MtG_CWxm",active:"kdLCV21p"},tb=ut(function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const i=Ki(),s=e=>{e.preventDefault();const t=e.target.innerText.trim();r(t)};return n.length?pt.createElement("ul",{className:qi(eb.suggestions,eb[t],o&&eb.embedded)},n.map((e,t)=>pt.createElement("li",{key:e,role:"button",tabIndex:0,className:qi(eb.suggestion,t===a&&eb.active),onMouseDown:s},e))):pt.createElement("div",{className:eb.suggestions},pt.createElement("li",{className:eb.suggestion},i("No suggestions, you're on your own!")))}),nb={wrapper:"fZW_3WXP",wrapper_focus:"sqh1ynr8",wrapperFocus:"sqh1ynr8",wrapper_error:"z4J8kfq3",wrapperError:"z4J8kfq3",input:"L1vlW70a",label:"Qg48sdUG"},ab=ut(function(e){let{id:t,nextId:n,labelText:o,className:r,value:i="",isInModal:s,suggestionsPosition:c,inputArg:l,onInput:d,onEnter:u}=e;const[m,p,f]=Np(),[h,g]=at(!1),[v,y]=at([]),[w,b]=at(0),[E,k]=at(!1),[C,N]=at([]),S=E&&i&&v.length>0;rt(()=>{ee("getMnemonicWordList").then(e=>N(e??[]))},[]),rt(()=>{const e=!i||E&&v.length>0||function(e,t){return e.length===a.PcM||t.includes(e)}(i,C);g(!e)},[E,v.length,i,C]);const A=e=>{const t=C.filter(t=>t.toLowerCase().startsWith(e.toLowerCase())).slice(0,7);d(e,l),y(t),b(0),k(!0)},I=ri(e=>{if(!i)return;u&&!E&&u();const t=v[w];t&&(d(t,l),y([t]),b(0),k(!1),E&&e.preventDefault(),n&&(0,we.YS)(()=>{(0,we.YS)(()=>{const e=document.getElementById(n);null==e||e.focus(),null==e||e.select()})}))});rt(()=>m?rs({onEnter:I,onTab:e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||I(e)},onUp:()=>{w>0&&b(w-1)},onDown:()=>{w<v.length-1&&b(w+1)}}):void 0);const T=ri(e=>{d(e,l),k(!1),b(0),y([]),n&&(0,we.YS)(()=>{(0,we.YS)(()=>{const e=document.getElementById(n);null==e||e.focus(),null==e||e.select()})})});return pt.createElement("div",{className:qi(nb.wrapper,r,m&&nb.wrapper_focus,h&&nb.wrapper_error)},S&&pt.createElement(tb,{suggestions:v,activeIndex:w,position:c,isInModal:s,onSelect:T}),pt.createElement("label",{className:nb.label,htmlFor:t},o,"."),pt.createElement("input",{id:t,className:qi(nb.input,""!==i&&nb.touched),type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,onChange:e=>{const t=e.target.value;A(t)},onFocus:e=>{A(e.target.value),p()},onBlur:e=>{e.target.blur(),f(),requestAnimationFrame(()=>{k(!1),y([])})},onPaste:e=>{const t=e.clipboardData.getData("text");t&&A(t)},value:i,tabIndex:0,"data-focus-scroll-position":"top"===c?"end":"start"}))}),ob=[...Array(a.xA_)].map((e,t)=>({id:t,label:`${t+1}`})),rb=a.PcM,ib=ut(zt(e=>({error:e.auth.error,isLoading:e.auth.isLoading}))(e=>{let{isActive:t,isLoading:n,error:o}=e;const{afterImportMnemonic:i,resetAuth:s,cleanAuthError:c,showNotification:l}=$t(),d=Ki(),u=lt(),m=lt(),[p,f]=at(r.Et),[h,g]=at({}),{isPortrait:v}=xs(),{isAtEnd:y,update:w,handleScroll:b}=Pv();rt(()=>{t&&w(u.current)},[t,w]);const E=ri(e=>{var t;(a.Yyb.includes(e.length)||Od(e))&&(requestAnimationFrame(()=>{g(e)}),null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")&&document.activeElement.blur())}),k=ri(e=>{var t;const n=sb(e);if(1===n.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=n[0];const e=new Event("input");return void document.activeElement.dispatchEvent(e)}E(n)});((e,t)=>{rt(()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}},[e,t])})(Boolean(t),k);const C=ri(async()=>{try{const{type:e,text:t}=await Dd();if("text/plain"===e){const e=t.trim();k(e)}}catch(e){l({message:d("Error reading clipboard")}),f(!1)}}),N=st(()=>{const e=B(Object.values(h));return!a.Yyb.includes(e.length)&&!Od(e)||!!o},[h,o]),S=ri((e,t)=>{c();const n=sb(e);a.Yyb.includes(n.length)?E(n):g({...h,[t]:n[0].toLowerCase()})}),A=ri(()=>{setTimeout(()=>{s()},250)}),I=ri(async()=>{if(N)return;const e=B(Object.values(h));(12!==e.length||await ee("validateMnemonic",e))&&i({mnemonic:e})});return lc({isActive:t,onBack:A}),rt(()=>N||n?void 0:rs({onEnter:{handler:I,noStopPropagation:!0}}),[I,n,N,h]),pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:d("Enter Secret Words"),topTargetRef:m,onBackClick:A}),pt.createElement("div",{ref:u,className:qi(Qy,Xy,"custom-scroll"),onScroll:b},pt.createElement(Nh,{play:t,size:a.jzp,tgsUrl:Qf.snitch,previewUrl:Qf.snitchPreview,nonInteractive:!0,noLoop:!1,className:sw}),pt.createElement("div",{ref:m,className:qi(tw,"A9um3wzK")},d("Enter Secret Words")),pt.createElement("div",{className:qi(aw,"NNleMmCd","NnW2gTZ2")},bi(d(a.iAh?"$auth_import_mnemonic_description":"$auth_import_24_mnemonic_description"))),p&&pt.createElement(dl,{isText:!0,className:"PFIvKqHi",onClick:C},pt.createElement("i",{className:qi("bW6oKg70","icon-copy-bold"),"aria-hidden":!0}),d("Paste from Clipboard")),pt.createElement("div",{className:"NH8rGjmE"},ob.map((e,t)=>{let{id:n,label:o}=e;return pt.createElement(ab,{key:n,id:`import-mnemonic-${n}`,nextId:n+1<a.xA_?`import-mnemonic-${n+1}`:void 0,labelText:o,value:h[n],suggestionsPosition:cb(n,v),inputArg:n,onInput:S,onEnter:t===a.xA_-1?I:void 0})})),pt.createElement("div",{className:qi(mw,"b1PejUDv",y&&"YmgqxF9_")},pt.createElement("div",{className:"ibhWmLXh"},o&&pt.createElement("div",{className:"BZGziOTc"},d(o)),pt.createElement(dl,{isPrimary:!0,isDisabled:N,isLoading:n,className:dw,onClick:I},d("Continue"))))))}));function sb(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ").map(e=>e.slice(0,rb))}function cb(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>5&&e<8||e>13&&e<16||e>21?"top":void 0}const lb=ut(function(e){let{isActive:t,isLoading:n,onCancel:a}=e;const{importViewAccount:o}=$t(),r=Ki(),i=lt(),[s,c]=at(""),[l,d]=at(!1);Xf(i,!t),lc({isActive:t,onBack:a});const u=ri(e=>{c(e),l&&d(!1)});return pt.createElement("div",{className:ml.transitionContentWrapper},pt.createElement(Cv,{title:r("View Any Address"),onBackButtonClick:a}),pt.createElement("form",{action:"#",className:qi(ml.transitionContent,"custom-scroll"),onSubmit:function(e){if(Yr(e),l||n)return;const t=s.trim().split(/\s+/),a={};var r;t.reduce((e,t)=>{for(const e of ma())if(Fo(t,e))return a[e]=t,!0;return e},!1)?(o({addressByChain:a}),null===(r=i.current)||void 0===r||r.blur()):d(!0)}},pt.createElement(Nh,{play:t,tgsUrl:Qf.bill,previewUrl:Qf.billPreview,noLoop:!1,nonInteractive:!0,className:"lD3yvgO7"}),pt.createElement(Ah,{ref:i,value:s,hasError:l,placeholder:r("Wallet Address or Domain"),autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,enterKeyHint:"done",onInput:u}),pt.createElement("p",{className:aw},bi(r("$import_view_account_note"))),pt.createElement("div",{className:mw},pt.createElement(dl,{isPrimary:!0,isSubmit:!0,className:ml.buttonFullWidth,isLoading:n,isDisabled:l},r(l?"Invalid Address":"Continue")))))}),db=ut(function(e){let{customStickerClassName:t,customButtonWrapperClassName:n,isFullSizeButton:o,isActive:r,withHeader:i,headerRef:s,isFirstCheckboxSelected:c,isSecondCheckboxSelected:l,isThirdCheckboxSelected:d,textFirst:u,textSecond:m,textThird:p,onFirstCheckboxClick:f,onSecondCheckboxClick:h,onThirdCheckboxClick:g,onSubmit:v}=e;const y=Ki(),w=c&&l&&d,b=ri(e=>{e?f(!0):(f(!1),h(!1),g(!1))}),E=ri(e=>{e?h(!0):(h(!1),g(!1))}),k=ri(()=>{w&&v()});return pt.createElement(pt.Fragment,null,pt.createElement(Nh,{tgsUrl:Qf.bill,previewUrl:Qf.billPreview,size:a.lWW,play:r,nonInteractive:!0,noLoop:!1,className:t||ww.modalSticker}),i&&pt.createElement("div",{ref:s,className:ww.title},y("Create Backup")),pt.createElement(Jf,{checked:c,className:qi(ww.checkboxBlock,ww.accessible),contentClassName:ww.checkbox,onChange:b},bi(u)),pt.createElement(Jf,{isDisabled:!c,checked:l,className:qi(ww.checkboxBlock,c&&ww.accessible),contentClassName:ww.checkbox,onChange:E},bi(m)),pt.createElement(Jf,{isDisabled:!l,checked:d,className:qi(ww.checkboxBlock,l&&ww.accessible),contentClassName:ww.checkbox,onChange:g},bi(p)),pt.createElement("div",{className:n||ww.buttonWrapper},pt.createElement(dl,{isPrimary:!0,isDisabled:!w,className:o?ww.footerButton:void 0,onClick:k},y("Go to Words"))))}),ub=ut(e=>{let{isActive:t}=e;const{resetAuth:n,openMnemonicPage:a}=$t(),o=Ki(),r=lt(),[i,s]=at(!1),[c,l]=at(!1),[d,u]=at(!1);return lc({isActive:t,onBack:n}),pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:o("Create Backup"),topTargetRef:r,onBackClick:n}),pt.createElement("div",{className:qi(Qy,Xy,"custom-scroll")},pt.createElement(db,{isActive:t,isFullSizeButton:!0,withHeader:!0,headerRef:r,customStickerClassName:iw,customButtonWrapperClassName:mw,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),isFirstCheckboxSelected:i,onFirstCheckboxClick:s,isSecondCheckboxSelected:c,onSecondCheckboxClick:l,isThirdCheckboxSelected:d,onThirdCheckboxClick:u,onSubmit:a})))}),mb=ut(function(e){let{mnemonic:t}=e;const n=Ki(),[a,o,r]=Np(),i=ri(()=>{r(),Ld(t.join(" "))});return pt.createElement(pt.Fragment,null,pt.createElement("div",{className:ww.info},bi(n("$mnemonic_list_description"))),pt.createElement("div",{className:ww.warning},bi(n("$mnemonic_warning"))),pt.createElement(dl,{isText:!0,className:ww.copyButton,onClick:o},pt.createElement("i",{className:qi(ww.copyButtonIcon,"icon-copy-bold"),"aria-hidden":!0}),n("Copy to Clipboard")),pt.createElement("ol",{className:ww.words},null==t?void 0:t.map((e,t)=>pt.createElement("li",{key:t,className:ww.word},e))),pt.createElement(bl,{isOpen:a,isCompact:!0,title:n("Security Warning"),onClose:r},pt.createElement("p",{className:ww.text},bi(n("$copy_mnemonic_warning"))),pt.createElement("p",{className:qi(ww.text,ww.warningText)},n("Other apps will be able to read your recovery phrase!")),pt.createElement("div",{className:qi(ml.footerButtons,ml.footerButtonsVertical)},pt.createElement(dl,{isPrimary:!0,onClick:r,className:ml.buttonFullWidth},n("Go back to Words")),pt.createElement(dl,{isDestructive:!0,onClick:i,className:ml.buttonFullWidth},n("I’m sure. Copy anyway")))))}),pb=ut(function(e){let{isActive:t,mnemonic:n,canSkipMnemonicCheck:o,stickerClassName:r,customButtonWrapperClassName:i,buttonText:s,onSubmit:c}=e;const{skipCheckMnemonic:l}=$t(),d=Ki(),[u,m,p]=Np(),f=ri(()=>{p(),l()});return pt.createElement(pt.Fragment,null,pt.createElement(Nh,{tgsUrl:Qf.bill,previewUrl:Qf.billPreview,size:a.lWW,play:t,nonInteractive:!0,noLoop:!1,className:qi(ww.modalSticker,r)}),pt.createElement(mb,{mnemonic:n}),pt.createElement("div",{className:i||ww.buttonWrapper},pt.createElement(dl,{isPrimary:!0,onClick:c,className:ww.footerButton},s),o&&pt.createElement(dl,{isText:!0,className:ww.footerButton,onClick:m},d("Open wallet without checking"))),pt.createElement(bl,{isOpen:u,isCompact:!0,title:d("Security Warning"),onClose:p},pt.createElement("p",{className:ww.text},d("Make sure you have your recovery phrase securely saved.")),pt.createElement("p",{className:qi(ww.text,ww.warningText)},d("Without it, you won't be able to access your wallet.")),pt.createElement("div",{className:qi(ml.footerButtons,ml.footerButtonsVertical)},pt.createElement(dl,{isPrimary:!0,onClick:p,className:ml.buttonFullWidth},d("Go back to Words")),pt.createElement(dl,{isDestructive:!0,onClick:f,className:ml.buttonFullWidth},d("I’m sure. Continue")))))}),fb=ut(e=>{let{isActive:t,mnemonic:n}=e;const{openAuthBackupWalletModal:o,openCheckWordsPage:r}=$t(),i=Ki(),s=(null==n?void 0:n.length)||0,c=!a.p8S;lc({isActive:t,onBack:o});const{isScrolled:l,handleScroll:d}=Pv();return pt.createElement("div",{className:Gy},pt.createElement(Ey,{isActive:t,title:i("%1$d Secret Words",s),withBorder:l,onBackClick:o}),pt.createElement("div",{className:qi(Qy,"tZDh6KjO",Xy,"custom-scroll"),onScroll:d},pt.createElement(pb,{isActive:t,mnemonic:n,stickerClassName:iw,customButtonWrapperClassName:qi(mw,"u65WIC6W"),canSkipMnemonicCheck:c,buttonText:i("Let's Check"),onSubmit:r})))}),hb={width:20.125*r.$,height:12.75*r.$,particleCount:35,centerShift:[0,22],distanceLimit:.75},gb=[0,136/255,.8],vb=[70/255,156/255,236/255],yb=ut(zt(e=>({hasAccounts:Boolean(e.currentAccountId),isLoading:e.auth.isLoading,theme:e.settings.theme}))(function(e){let{isActive:t,hasAccounts:n,isLoading:o,theme:i}=e;const{startCreatingWallet:s,startImportingWallet:c,openAbout:l,openHardwareWalletModal:d,resetAuth:u,openAuthImportWalletModal:m,openDisclaimer:p}=$t(),f=Ki(),h=lt(),{isLandscape:g}=xs(),v=cg(i),y="light"===v?gg:hg,[w,b]=Np(),[E,k]=Np(),C=ah(w),[N,S]=at(!1);_v(k,w?ol:void 0,[w]),it(()=>{if(t)return Iw(h.current,{color:"light"===v?gb:vb,...hb,height:g?Dw:Lw})},[v,t,g]);const A=ri(()=>{Iw(h.current,{color:"light"===v?gb:vb,...hb,...Sw,height:g?Dw:Lw})}),I=ri(()=>{d({chain:pa()[0]})});return pt.createElement("div",{className:qi(Qy,"custom-scroll")},n&&pt.createElement(dl,{isSimple:!0,isText:!0,onClick:u,className:"ZzxVO58v"},pt.createElement("i",{className:qi("vP8i059j","icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,f("Back"))),pt.createElement("div",{className:"dGK5EmNr",tabIndex:-1,role:"button",onClick:A},pt.createElement("canvas",{ref:h,className:"dDimFbRH"}),a.TI6?pt.createElement(Nh,{play:t,tgsUrl:Qf.coreWalletLogo,previewUrl:Qf.coreWalletLogoPreview,className:qi(ew,E&&Jy),noLoop:!1,nonInteractive:!0}):pt.createElement("img",{ref:C,src:y,alt:a.C39,className:qi(ew,E&&Jy),onLoad:b})),pt.createElement("div",{className:qi("IDG3Q9do","rounded-font")},a.C39),pt.createElement("div",{className:aw},bi(f("$auth_intro"))),!a.TI6&&pt.createElement(dl,{isText:!0,className:qi(dw,"hc6SmKii"),onClick:l},f("More about %app_name%",{app_name:a.C39})," ","›"),pt.createElement("div",{className:qi(mw,a.TI6&&"BwdDwMC1")},pt.createElement(Jf,{checked:N,onChange:S,className:a.TI6?"h6UFMAfY":"J23LMcWi",contentClassName:"SAayyXEo"},f("$accept_terms_with_link",{link:pt.createElement("a",{href:"#",target:"_blank",rel:"noreferrer",className:"CXMZKKjg",onClick:function(e){Yr(e),p()}},f("use the wallet responsibly"))})),pt.createElement(dl,{isPrimary:!0,isDisabled:!N,className:dw,isLoading:o,onClick:o?void 0:s},f("Create New Wallet")),a.TI6?pt.createElement(pt.Fragment,null,pt.createElement("span",{className:"MHwkgrIZ"},f("or import from")),pt.createElement("div",{className:"qrsdfkyY"},pt.createElement(dl,{isDisabled:!N,className:dw,onClick:o?void 0:c},f("Secret Words")),r.sC&&pt.createElement(dl,{isDisabled:!N,className:dw,onClick:o?void 0:I},f("Ledger")))):pt.createElement(dl,{isText:!0,isDisabled:!N,className:qi(dw,uw),onClick:o?void 0:m},f("Import Existing Wallet"))))})),wb=Object.keys(Ga).length/2,bb=ut(zt(e=>({...N(e.auth,["state","biometricsStep","error","mnemonic","mnemonicCheckIndexes","isLoading","method","hardwareSelectedIndices"]),theme:e.settings.theme}))(e=>{let{state:t,biometricsStep:n,error:a,isLoading:o,mnemonic:i,mnemonicCheckIndexes:s,hardwareSelectedIndices:c,method:l,theme:d}=e;const{closeAbout:u,closeImportViewAccount:m}=$t(),p=lt(),{isPortrait:f}=xs(),h=uv(t===Ga.ready?void 0:t,!0)??-1,[g,v]=at(void 0),[y,w]=at(h+1),b=ri(()=>{w(h+1),v(h===Ga.confirmPin?Ga.createPin:void 0)});function E(e,t,r){switch(r){case Ga.none:return pt.createElement(yb,{isActive:e});case Ga.createWallet:return pt.createElement(Qw,{isActive:e});case Ga.checkPassword:return pt.createElement(hw,{isActive:e,isLoading:o,method:"createAccount",error:a});case Ga.createPin:return pt.createElement(Yw,{isActive:e,method:"createAccount"});case Ga.confirmPin:return pt.createElement(Uw,{isActive:e,method:"createAccount"});case Ga.createBiometrics:return pt.createElement(Hw,{isActive:e,method:"createAccount"});case Ga.confirmBiometrics:return pt.createElement(Rw,{isActive:e,isLoading:o,error:a,biometricsStep:n});case Ga.createNativeBiometrics:return pt.createElement(Vw,{isActive:e,isLoading:o});case Ga.createPassword:return pt.createElement(jw,{isActive:e,isLoading:o,method:"createAccount"});case Ga.disclaimerAndBackup:return pt.createElement(Jw,{key:"create",isActive:e});case Ga.importWallet:return pt.createElement(ib,{isActive:e});case Ga.importWalletCreatePin:return pt.createElement(Yw,{isActive:e,method:"importMnemonic"});case Ga.importWalletConfirmPin:return pt.createElement(Uw,{isActive:e,method:"importMnemonic"});case Ga.importWalletCheckPassword:return pt.createElement(hw,{isActive:e,isLoading:o,method:"importMnemonic",error:a});case Ga.disclaimer:return pt.createElement(Jw,{key:"import",isActive:e});case Ga.importWalletCreateNativeBiometrics:return pt.createElement(Vw,{isActive:e,isLoading:o});case Ga.importWalletCreatePassword:return pt.createElement(jw,{isActive:e,isLoading:o,method:l});case Ga.importWalletCreateBiometrics:return pt.createElement(Hw,{isActive:e,method:l});case Ga.importWalletConfirmBiometrics:return pt.createElement(Rw,{isActive:e,isLoading:o,error:a,biometricsStep:n});case Ga.about:return pt.createElement(Yy,{isActive:e,theme:d,slideClassName:"wyaXIG8_",handleBackClick:u});case Ga.safetyRules:return pt.createElement(ub,{isActive:e});case Ga.mnemonicPage:return pt.createElement(fb,{isActive:e,mnemonic:i});case Ga.checkWords:return pt.createElement(Ew,{isActive:e,mnemonic:i,checkIndexes:s});case Ga.importViewAccount:return pt.createElement(lb,{isActive:e,isLoading:o,onCancel:m});case Ga.congratulations:return pt.createElement(Ww,{isActive:e,hardwareWalletsAmount:null==c?void 0:c.length,isImporting:Boolean(null==c?void 0:c.length)});case Ga.importCongratulations:return pt.createElement(Ww,{isActive:e,isImporting:!0})}}return pt.createElement(Qh,{ref:p,name:f?r.Ni?"slideFade":"slideLayers":"semiFade",activeKey:h,renderCount:wb,shouldCleanup:!0,shouldWrap:!0,className:"IpdZLqJd",slideClassName:"XE9A_oIT",prevKey:g,nextKey:y,onStop:b},E)})),Eb={spinner:"o7Soo94L",inner:"fnzgQDjn",spin:"dPrfSpVS",white:"ZwvOHvLC"},kb=ut(function(e){let{ref:t,color:n,className:a}=e;const o=Ki(),r=qi(Eb.spinner,n&&Eb[n],a);return pt.createElement("div",{ref:t,className:r,"aria-label":o("Loading...")},pt.createElement("i",{className:qi(Eb.inner,"icon-spinner"),"aria-hidden":!0}))}),Cb={root:"h8WmgaJB",icon:"KW5fEe2q",rightItem:"yxdpwMGG",spinner:"_o9pbmfe"},Nb=ut(function(e){let{icon:t,label:n,className:a,isLoading:o,onClick:r}=e;return pt.createElement("button",{type:"button",className:qi(Cb.root,a),onClick:r,disabled:o},pt.createElement("i",{className:qi(Cb.icon,`icon-${t}`),"aria-hidden":!0}),pt.createElement("span",{className:Cb.label},n),o?pt.createElement(kb,{className:qi(Cb.rightItem,Cb.spinner)}):pt.createElement("i",{className:qi(Cb.rightItem,"icon-chevron-right"),"aria-hidden":!0}))}),Sb=ut(zt(e=>({isOpen:e.auth.isImportModalOpen}))(function(e){let{isOpen:t}=e;const{startImportingWallet:n,startImportViewAccount:o,openHardwareWalletModal:i,closeAuthImportWalletModal:s}=$t(),c=Ki(),l=ri(()=>{s(),n()}),d=ri(()=>{s(),i({chain:pa()[0]})}),u=ri(()=>{s(),o()});return pt.createElement(bl,{isOpen:t,title:c("Import Wallet"),hasCloseButton:!0,forceBottomSheet:!0,nativeBottomSheetKey:"import-account",contentClassName:"vb2ESy1T",onClose:s},pt.createElement("div",{className:fw},pt.createElement(Nb,{icon:"key",label:c(a.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:l}),r.sC&&pt.createElement(Nb,{icon:"ledger-alt",label:c("Ledger"),onClick:d})),!a.TI6&&pt.createElement("div",{className:fw},pt.createElement(Nb,{icon:"wallet-view",label:c("View Any Address"),onClick:u})))}));function Ab(){return r.Ni?"slideFadeAndroid":r.pz?"slideLayers":"slideFade"}function Ib(e,t){const n=uv(t?e:void 0,!0)??-1,[a,o]=at(),r=ri(()=>{o(t?n+1:void 0)});return rt(()=>{t&&setTimeout(r,300)},[t,r]),{renderingKey:n,nextKey:a,updateNextKey:r}}const Tb={accounts:"DP7r4ob0",accounts_two:"aMoUTjsw",accountsTwo:"aMoUTjsw",account:"feJs1qiP",account_current:"LGBe77Zo",accountCurrent:"LGBe77Zo",account_disabled:"QT4AQhSL",accountDisabled:"QT4AQhSL",account_inactive:"JLVV6MK1",accountInactive:"JLVV6MK1",accounts_single:"xq8sJcx0",accountsSingle:"xq8sJcx0",customCard:"QrKEFAWF",accountName:"xRepCoTw",button_current:"CMlJY5eP",buttonCurrent:"CMlJY5eP",accountFooter:"aSHneDhG",icon:"FzVzsW0Z",accountAddress:"U1ocd7xK",accountCheckMark:"WoJjd6rF",accountCheckMark_active:"Xs5JWZXM",accountCheckMarkActive:"Xs5JWZXM"},Bb=ut(function(e){let{accountId:t,address:n,title:a,accountType:o,ariaLabel:r,isActive:i,isLoading:s,className:c,withCheckbox:l,cardBackgroundNft:d,onClick:u}=e;const{backgroundImageUrl:m,withTextGradient:p,classNames:f}=ay(d),{imageUrl:h}=ny(m),g="hardware"===o,v="view"===o,y=qi(c,Tb.account,h&&Tb.customCard,h&&f,i&&!l&&Tb.account_current,s&&Tb.account_disabled,!u&&Tb.account_inactive);return pt.createElement("div",{key:t,className:y,onClick:u,style:nh(h&&`--bg: url(${h})`),"aria-label":r},a&&pt.createElement("span",{className:qi(Tb.accountName,p&&"gradientText")},a),pt.createElement("div",{className:qi(Tb.accountFooter,p&&"gradientText")},v&&pt.createElement("i",{className:qi("icon-eye-filled",Tb.icon),"aria-hidden":!0}),g&&pt.createElement("i",{className:qi("icon-ledger",Tb.icon),"aria-hidden":!0}),pt.createElement("span",{className:Tb.accountAddress},qt(n,g?3:4,4))),l&&pt.createElement("div",{className:qi(Tb.accountCheckMark,i&&Tb.accountCheckMark_active)}))}),xb=ut(function(e){let{accountLength:t,labelText:n,children:a,className:o}=e;const r=qi(o,Tb.accounts,"custom-scroll",1===t&&Tb.accounts_single,2===t&&Tb.accounts_two);return pt.createElement(pt.Fragment,null,n&&pt.createElement("p",{className:Tb.label},n),pt.createElement("div",{className:r},a))}),_b={modalDialog:"zdmLsynF",modalDialogInsideSettings:"kYjygKEY",slide:"a2oy8Zll",container:"eM1PpsST",containerStatic:"jHYtCW5T",content:"_3mWK1CH",iconBlockSlide:"WEcWgMzV",iconBlockSlideStatic:"VCK1YGjr",iconBlock:"KE3Egymz",mobile:"kpjonisY",ledgerIcon:"iuLLqpxI",textBlock:"bn1fb2en",textBlock_gap:"bBaOfZlx",textBlockGap:"bBaOfZlx",textBlock_success:"j8GYzR5R",textBlockSuccess:"j8GYzR5R",textBlock_small:"Rt2IdHAB",textBlockSmall:"Rt2IdHAB",text:"GuAw_sFJ",textIcon:"SOw0Xtct",text_failed:"XPczA9Ds",textFailed:"XPczA9Ds",text_connected:"YyHAVq6P",textConnected:"YyHAVq6P",text_success:"tTgIgIgG",textSuccess:"tTgIgIgG",actionBlock:"hiaAxVr_",actionBlockSingle:"ccXecDw4",actionBlockVertical:"wjZ1EY5P",actionBlockHorizontal:"RcYElM6H",button:"LZNOcG4M",button_single:"Hm4XX1NN",buttonSingle:"Hm4XX1NN",buttonFullWidth:"oIi88OBZ",accounts:"qG6SFrZs",accounts_two:"o_4z0gP4",accountsTwo:"o_4z0gP4",account:"_Vsrbub9",account_connected:"YZmDVPaW",accountConnected:"YZmDVPaW",account_current:"uo8yhRNU",accountCurrent:"uo8yhRNU",addAccountContainer:"E5i9UUtD",addAccountIconTransition:"XBwFOAKr",addAccountLoading:"y2SPxGCp",addAccountIcon:"j5VZHMly",accountName:"V6_KYxce",accountFooter:"LXgNcuuY",accountCurrencyIcon:"g_b7EuV5",accountAddress:"pL4iTSDM",accountCheckMark:"mpVXcyoe",accountCheckMark_active:"lVx2a3if",accountCheckMarkActive:"lVx2a3if",sticker:"MfAU5ZEs",declinedLabel:"aWyFXa02",declinedLabelDetailed:"q1lhwUmL",dropdownBlock:"_2MGoq5H"};var Lb=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(Lb||{});const Db=ut(zt(e=>{const{chain:t}=e.hardware;return{chain:t}})(function(e){let{isActive:t,text:n,error:o,onClose:r,onTryAgain:i,chain:s}=e;const c=Ki(),[l,d]=at(Lb.Waiting),[u,m]=at(Lb.Error);function p(e,t,l){switch(l){case Lb.Waiting:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:c("Confirm via Ledger"),onClose:r}),pt.createElement("div",{className:_b.container},pt.createElement(Nh,{size:a.igk,play:e,noLoop:!1,nonInteractive:!0,className:_b.sticker,tgsUrl:Qf.holdTon,previewUrl:Qf.holdTonPreview}),pt.createElement("div",{className:qi(_b.textBlock,_b.textBlock_small)},pt.createElement("span",{className:_b.text},n)),pt.createElement("div",{className:qi(_b.actionBlock,_b.actionBlockSingle)},pt.createElement(dl,{onClick:r,className:qi(_b.button,_b.button_single)},c("Cancel")))))}(e);case Lb.Error:return function(e){const t="$hardware_blind_sign_not_enabled"===o,n=c(o??"",{chain:da(s)});return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:c("Confirm via Ledger"),onClose:r}),pt.createElement("div",{className:_b.container},pt.createElement(Nh,{size:a.igk,play:e,noLoop:!1,nonInteractive:!0,className:_b.sticker,tgsUrl:Qf.holdTon,previewUrl:Qf.holdTonPreview}),pt.createElement("div",{className:qi(_b.declinedLabel,t&&_b.declinedLabelDetailed)},bi(n)),pt.createElement("div",{className:_b.actionBlock},pt.createElement(dl,{onClick:r,className:_b.button},c("Cancel")),pt.createElement(dl,{isPrimary:!0,onClick:i,className:_b.button},c("Try Again")))))}(e)}}return lc({isActive:t,onBack:r}),rt(()=>{o?(d(Lb.Error),m(Lb.Waiting)):(d(Lb.Waiting),m(Lb.Error))},[o]),pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:qi(ml.transitionSlide,_b.slide),activeKey:l,nextKey:u},p)})),Ob="caret",Mb="right",Fb=ut(function(e){let{label:t,items:n,selectedValue:a,className:o,itemClassName:r,menuClassName:i,theme:s,arrow:c=Ob,menuPositionX:l=Mb,menuPositionY:d,disabled:u,shouldTranslateOptions:m,onChange:p,isLoading:f=!1,buttonPrefix:h}=e;const[g,v,y]=Np(),w=n.length>1,b=Boolean(t),E=st(()=>{let e=void 0!==a&&n.find(e=>e.value===a);return e||={value:"",name:""},{...e,isDisabled:!b&&u}},[n,a,b,u]),k=ri(e=>{e!==a&&(null==p||p(e))});if(!n.length)return;const C=qi(o,w&&mv.interactive,b&&mv.wide,b&&u&&mv.disabled),N=qi(mv.button,w&&mv.interactive,w&&i,s&&mv[s],r),S=st(()=>w&&pt.createElement("i",{className:qi(mv.buttonIcon,"chevron"===c?"icon-chevron-down":"icon-caret-down"),"aria-hidden":!0}),[w,c]);return pt.createElement("div",{className:C,onClick:b&&!u&&w?v:void 0},t&&pt.createElement("span",{className:mv.label},t),f?pt.createElement(kb,{className:mv.spinner}):pt.createElement(pv,{item:E,prefix:h,suffix:S,shouldTranslate:m,shouldUseSelectedName:!0,className:N,itemClassName:qi("itemName",r),onClick:!b&&w?v:void 0}),w&&pt.createElement(kv,{isOpen:g&&!f,menuPositionX:l,menuPositionY:d,items:n,shouldTranslateOptions:m,selectedValue:a,buttonClassName:r,onSelect:k,onClose:y}))}),Pb=i.p+"desktop.5b697d2d91cbfdc91f29.png",Rb=i.p+"desktop-dark.aacce131e03bae83c744.png",Ub=i.p+"ios.5d8a0178f3ed44e81862.png",Wb=i.p+"ios-dark.0ba8808ed3906393a417.png",Hb=i.p+"mobile-bluetooth.7fea27504891420bc158.png",$b=i.p+"mobile-bluetooth-dark.9a47bff03978eddfd080.png",Vb=i.p+"mobile-usb.165003c19b688130909d.png",zb=i.p+"mobile-usb-dark.273f665b4cc76537f15b.png",Kb={usb:"USB",bluetooth:"Bluetooth"},qb=ut(zt(e=>{const{hardwareState:t,chain:n,isLedgerConnected:a,isChainAppConnected:o,availableTransports:r,lastUsedTransport:i}=e.hardware;return{state:t,chain:n,isLedgerConnected:a,isChainAppConnected:o,availableTransports:r,lastUsedTransport:i,currentTheme:e.settings.theme}})(function(e){let{isActive:t,isStatic:n,state:o,chain:i,isLedgerConnected:s,isChainAppConnected:c,availableTransports:l,lastUsedTransport:d,currentTheme:u,className:m,onConnected:p,onBackButtonClick:f,onCancel:h,onClose:g}=e;const{initializeHardwareWalletModal:v,initializeHardwareWalletConnection:y}=$t(),w=Ki(),{isPortrait:b}=xs(),[E,k]=at(d),C=cg(u),N=!1===s,S=!1===c,A=o===so.Connected,I=o===so.Connecting,T=o===so.WaitingForRemoteTab,B=w(A?"Ledger Connected!":"Connect Ledger"),x=!h,_=Boolean(f),L=st(()=>(l||[]).map(e=>({value:e,name:Kb[e]})),[l]),{shouldRender:D,ref:O}=rl({isOpen:Boolean(L.length>1&&E),withShouldRender:!0});lc({isActive:t,onBack:h??g}),rt(()=>{E||(null!=l&&l.length?k(null==l?void 0:l[0]):r.ZH&&k("bluetooth"))},[l,E]),rt(()=>{t&&v()},[t]),Ds(e=>{let[t]=e;d&&t!==d&&k(d)},[d]);const M=ri(()=>{r.Fe||setTimeout(()=>p(),500)});rt(()=>{A&&t&&M()},[A,t,M]);const F=ri(()=>{const e=x?g:h;(0,Ig.rt)(),e()}),P=ri(()=>{E&&y({transport:E})});function R(){const e="dark"===C,t={desktop:e?Rb:Pb,mobileUsb:e?zb:Vb,ios:e?Wb:Ub,mobileBluetooth:e?$b:Hb};return a.UMQ?r.pz?t.ios:"bluetooth"===E?t.mobileBluetooth:t.mobileUsb:r.Ni?t.mobileUsb:t.desktop}function U(e,t){return pt.createElement(pt.Fragment,null,n?pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:e,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,w("Back"))),pt.createElement("span",{className:zy.headerTitle},B)):pt.createElement(Cv,{title:B,onBackButtonClick:f,onClose:f?void 0:e}),pt.createElement("div",{className:qi(_b.container,n&&_b.containerStatic,n&&"static-container")},pt.createElement(Qh,{activeKey:a.UMQ?"bluetooth"!==E?1:2:0,name:"semiFade",className:qi(_b.iconBlock,(b||r.pz)&&_b.mobile),slideClassName:n?_b.iconBlockSlideStatic:_b.iconBlockSlide},pt.createElement(dg,{url:R(),imageClassName:_b.ledgerIcon})),t))}function W(){return T?U(F,pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(_b.textBlock,_b.textBlock_gap)},pt.createElement("span",{className:_b.text},pt.createElement("i",{className:qi(_b.textIcon,"icon-dot"),"aria-hidden":!0}),w("Switch to the newly opened tab to connect Ledger.")),pt.createElement("span",{className:_b.text},pt.createElement("i",{className:qi(_b.textIcon,"icon-dot"),"aria-hidden":!0}),w("Once connected, switch back to this window to proceed."))),pt.createElement("div",{className:qi(_b.actionBlock,_b.actionBlockSingle)},pt.createElement(dl,{className:qi(_b.button,_b.button_single),onClick:F},w(x?"Cancel":"Back"))))):U(g,pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(_b.textBlock,A&&_b.textBlock_success)},pt.createElement("span",{className:qi(_b.text,N&&_b.text_failed,s&&_b.text_connected,A&&_b.text_success)},pt.createElement("i",{className:qi(_b.textIcon,s?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Connect your Ledger")),pt.createElement("span",{className:qi(_b.text,S&&_b.text_failed,c&&_b.text_connected,A&&_b.text_success)},pt.createElement("i",{className:qi(_b.textIcon,c?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Unlock it and open the %chain% App",{chain:da(i)}))),D&&pt.createElement("div",{ref:O,className:_b.dropdownBlock},pt.createElement(Fb,{label:w("Connection Type"),items:L,selectedValue:E,theme:"light",arrow:"chevron",disabled:I,className:qi(_b.item,_b.item_small),onChange:k})),function(){const e=o===so.Failed;return r.Fe&&A?pt.createElement("div",{className:qi(_b.actionBlock,A&&_b.actionBlockSingle)},pt.createElement(dl,{isDisabled:I,className:qi(_b.button,A&&_b.buttonSingle),onClick:g},w("Continue"))):pt.createElement("div",{className:qi(_b.actionBlock,_?_b.actionBlockVertical:_b.actionBlockHorizontal)},pt.createElement(dl,{isPrimary:!0,isLoading:I,isDisabled:I||A||!(null!=l&&l.length),className:qi(_b.button,_&&_b.buttonFullWidth),onClick:P},w(e?"Try Again":"Continue")),!_&&pt.createElement(dl,{className:qi(_b.button,_&&_b.buttonFullWidth),onClick:x?g:h},w(x?"Cancel":"Back")))}()))}return pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll",m),slideClassName:ml.transitionSlide,activeKey:T?1:0},W)})),jb=ut(function(e){let{className:t}=e;return pt.createElement("div",{className:qi("JOe_K6bB",t)})}),Yb={container:"DL3GDV2h",tooltip:"pPTN8epJ",small:"S0YjnQBy",medium:"fisd9cYz",arrow:"mw4HrHNN",icon:"DsxlgjFS",fontIcon:"T3riE15T","color-warning":"G6MdAror",colorWarning:"G6MdAror"},Gb=.6875*r.$,Qb=2*r.$,Xb=ut(e=>{let{message:t,emoji:n,size:a="medium",type:o="hint",iconClassName:i,tooltipClassName:s}=e;const[c,l,d]=Np(),{shouldRender:u,ref:m}=rl({isOpen:c,withShouldRender:!0}),p="warning"===o&&Yb[`color-${o}`],f=lt(),h=lt(),g=lt(),v=lt(),y=wt(),w=ri(e=>{e.target.closest(`[data-tooltip-key="${y}"]`)||d()});return rt(()=>{if(c)return document.addEventListener("touchstart",w),()=>{document.removeEventListener("touchstart",w)}},[c,d,w]),rt(()=>{if(!f.current||!h.current)return;const{top:e,left:t,width:n}=f.current.getBoundingClientRect(),{width:a,height:o}=h.current.getBoundingClientRect(),r=(window.innerWidth-a)/2,i=t-r+n/2-Gb/2,s=i<Qb?Qb-i:0,c=`top: ${e-o-Gb}px;`,l=`left: ${r-s}px;`,d=`left: ${i+s}px;`,u=`top: ${o-Gb/2-1}px;`;g.current=`${c} ${l}`,v.current=`${u} ${d}`},[u]),pt.createElement(pt.Fragment,null,u&&pt.createElement(ul,null,pt.createElement("div",{ref:m,className:Yb.container,onClick:Yr,style:g.current},pt.createElement("div",{ref:h,className:qi(Yb.tooltip,Yb[a],p,s)},t),pt.createElement("div",{className:Yb.arrow,style:v.current}))),function(){const e=qi(Yb.icon,i,Yb[a],p),t=r.TF?Yr:void 0;return n?pt.createElement("span",{ref:f,className:e,"data-tooltip-key":y,onClick:t,onMouseEnter:l,onMouseLeave:d},pt.createElement(Sy,{from:n})):pt.createElement("i",{ref:f,className:qi(e,Yb.fontIcon,"warning"===o?"icon-exclamation":"icon-question"),"data-tooltip-key":y,onClick:t,onMouseEnter:l,onMouseLeave:d})}())}),Zb="rtKXhN4A",Jb="LUz47fCn",eE="dqbsWkDq",tE="ooIjdCk3",nE="lvIWoC_b",aE="TBS2qSdm",oE="URk9skQT",rE="IpEvYlyO",iE="mtQbMtDU",sE="leFXfJnu",cE="iNOlk2G5",lE="TddQIzLn",dE="Kgein0KH",uE="by1Uv_HG",mE="e3oGDhNq",pE="tO1IUhnj",fE="u2wkCYw7",hE="z0IluCrP",gE="JYgy9un6",vE="US9q0wug",yE="A7lv8DFx",wE="fHoMTSia",bE="if1jAISL",EE=ut(function(e){let{dapp:t,className:n,onDisconnect:o}=e;const{deleteDapp:r}=$t(),i=Ki(),{name:s,iconUrl:c,url:l,isUrlEnsured:d}=t||{},u=st(()=>l?new URL(l).host:void 0,[l]),m=Boolean(o&&l),p=ri(()=>{o(l)});return pt.createElement("div",{className:qi("naRjGTN0",n)},c?pt.createElement("img",{src:c,alt:i("Logo"),className:eE}):pt.createElement("div",{className:qi(eE,"RGl7OFHd")},pt.createElement("i",{className:qi("Utxlqsar","icon-laptop"),"aria-hidden":!0})),pt.createElement("div",{className:"cL2nTyJm"},pt.createElement("span",{className:"IZ831cu4"},s),pt.createElement("span",{className:"ODsQl3Iq"},!d&&pt.createElement(Xb,{message:pt.createElement(pt.Fragment,null,pt.createElement("b",null,i("Unverified Source")),pt.createElement("p",{className:"B9KF5fSL"},bi(i("$reopen_in_iab",{browserButton:a.UMQ&&null!=l&&l.startsWith("http")?pt.createElement("button",{className:"Go1goEAT",onClick:function(){r({url:l,uniqueId:_m(t)}),Il(l)}},i("MyTonWallet Browser")):pt.createElement("b",null,i("MyTonWallet Browser"))})))),type:"warning",size:"small",iconClassName:"rYesJSbN"}),u)),m&&pt.createElement(dl,{isSmall:!0,isPrimary:!0,className:"Dpv9gVfh",onClick:p},i("Disconnect")))}),kE=ut(function(e){let{isActive:t,error:n,onSubmit:o,onCancel:r,onClose:i}=e;const{clearDappConnectRequestError:s}=$t(),c=Ki();return lc({isActive:t,onBack:r}),pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:c("Enter Password"),onClose:i}),pt.createElement(ig,{isActive:t,error:n,withCloseButton:a.UMQ,submitLabel:c("Connect"),cancelLabel:c("Cancel"),onSubmit:o,onCancel:r,onUpdate:s}))}),CE=ut(zt(e=>{var t;const n=on(e),a=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state),{state:o,dapp:r,error:i,accountId:s,permissions:c,proof:l}=e.dappConnectRequest||{};return{state:o,hasConnectRequest:a,dapp:r,error:i,requiredPermissions:c,requiredProof:l,currentAccountId:s||e.currentAccountId,accounts:n,settingsByAccountId:e.settings.byAccountId}})(function(e){let{state:t,hasConnectRequest:n,dapp:a,error:o,requiredPermissions:r,requiredProof:i,accounts:s,currentAccountId:c,settingsByAccountId:l}=e;const{submitDappConnectRequestConfirm:d,cancelDappConnectRequestConfirm:u,setDappConnectRequestState:m,resetHardwareWalletConnect:p}=$t(),f=Ki(),[h,g]=at(c),[v,y,w]=Np(!1),b=n,{renderingKey:E,nextKey:k}=Ib(t??0,b),C=st(()=>Object.entries(s||{}),[s]),N=void 0===a;rt(()=>{c&&g(c)},[c]);const S=s&&Zt(s,1),A=ri(async()=>{w();const e=Jt(s[h].type),t="hardware"===s[h].type,{isPasswordRequired:n,isAddressRequired:a}=r||{};e||(!i||!t&&a&&!n?(d({accountId:h}),requestAnimationFrame(()=>{u()})):t?(p({chain:"ton"}),m({state:io.ConnectHardware})):Pp()?d({accountId:h,password:await Rp()}):requestAnimationFrame(()=>{m({state:io.Password})}))}),I=ri(()=>{m({state:io.Info})}),T=ri(()=>{d({accountId:h})}),B=ri(e=>{d({accountId:h,password:e})});function x(){return pt.createElement(xb,{accountLength:C.length,labelText:f("Select wallet to use on this dapp")},C.map(e=>{let[t,{title:n,byChain:a,type:o}]=e;return function(e,t,n,a){const o=!Boolean(t.ton)||Jt(n)?void 0:()=>g(e),r=Gt(t)??"",{cardBackgroundNft:i}=(null==l?void 0:l[e])||{};return pt.createElement(Bb,{key:e,accountId:e,address:r,title:a,ariaLabel:f("Switch Account"),accountType:n,isActive:e===h,isLoading:N,onClick:o,cardBackgroundNft:i})}(t,a,o,n)}))}function _(e,t,n){switch(n){case io.Info:return pt.createElement(Qh,{name:"semiFade",activeKey:N?0:1,slideClassName:vE},pt.createElement(Cv,{title:f("Connect Dapp"),onClose:u}),N?pt.createElement("div",{className:qi(ml.transitionContent,yE)},pt.createElement("div",{className:qi("wOmNbpWs",Jb)},pt.createElement(jb,{className:mE}),pt.createElement("div",{className:"cAdLb2FM"},pt.createElement(jb,{className:pE}),pt.createElement(jb,{className:fE}))),pt.createElement("div",{className:"cWnAUfkt"},S&&x())):function(){const e=Boolean(h&&Jt(null==s?void 0:s[h].type));return pt.createElement("div",{className:qi(ml.transitionContent,yE)},pt.createElement(EE,{dapp:a,className:qi(Jb,"AxygZABC")}),S&&x(),pt.createElement("div",{className:nE},pt.createElement(dl,{isPrimary:!0,isDisabled:e,className:ml.buttonFullWidth,onClick:y},f("Connect"))))}());case io.Password:return pt.createElement(kE,{isActive:e,error:o,onSubmit:B,onCancel:I,onClose:u});case io.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:T,onClose:I});case io.ConfirmHardware:return pt.createElement(Db,{isActive:e,text:f("Please confirm operation on your Ledger"),error:o,onTryAgain:T,onClose:I})}}return pt.createElement(pt.Fragment,null,pt.createElement(bl,{isOpen:b,dialogClassName:Zb,nativeBottomSheetKey:"dapp-connect",forceFullNative:E!==io.Info,onClose:u,onCloseAnimationEnd:u},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:E,nextKey:k},_)),pt.createElement(bl,{isOpen:v,isCompact:!0,title:f("Dapp Permissions"),onClose:w},pt.createElement("div",{className:"d20jMAO6"},f("$dapp_can_view_balance",{dappname:pt.createElement("strong",null,null==a?void 0:a.name)})),pt.createElement("div",{className:"XvGbWtVh"},pt.createElement(dl,{onClick:w,className:aE},f("Cancel")),pt.createElement(dl,{isPrimary:!0,onClick:A,className:aE},f("Connect")))))})),NE=ut(zt(e=>{const t=on(e);return{toncoinBalance:Gn(e),currentAccountId:e.currentAccountId,accounts:t}})(function(e){var t;let{dapp:n,toncoinBalance:o,currentAccountId:r,accounts:i,customTokenBalance:s,customTokenSymbol:c,customTokenDecimals:l}=e;const d=void 0!==s?s:o,u=c||a.Tu9.symbol,m=void 0!==l?l:a.Tu9.decimals;return pt.createElement("div",{className:uE},pt.createElement("div",{className:"ut5A6NM6"},pt.createElement("div",{className:"nBWVm1mf"},null==i||null===(t=i[r])||void 0===t?void 0:t.title),pt.createElement("div",{className:"_ogqtbzH"},Ai((0,zn.nI)(d,m),u))),pt.createElement(EE,{dapp:n,className:"Uyz5mVM_"}))})),SE=ut(function(e){let{rows:t}=e;return pt.createElement("div",{className:qi(ml.transitionContent,yE)},pt.createElement("div",{className:uE},pt.createElement("div",{className:"YHLHftpe"},pt.createElement(jb,{className:qi(pE,hE)}),pt.createElement(jb,{className:qi(fE,gE)})),pt.createElement("div",{className:"VzwVb3o_"},pt.createElement(jb,{className:mE}),pt.createElement("div",{className:"L8RwZKiN"},pt.createElement(jb,{className:qi(pE,hE)}),pt.createElement(jb,{className:qi(fE,gE)})))),null==t?void 0:t.map(AE))});function AE(e){let{isLarge:t,hasFee:n}=e;return pt.createElement("div",{className:"XcidIimi"},pt.createElement(jb,{className:qi("oRChyGCN",t&&"q_gxYI6j")}),pt.createElement(jb,{className:qi("IVSbVRoG",t&&"qNqaxuw6")}),n&&pt.createElement(jb,{className:"lbFcqU2u"}))}const IE=[{isLarge:!1,hasFee:!1}],TE=ut(zt(e=>N(e.currentDappSignData,["dapp","isLoading","payloadToSign"]))(function(e){let{dapp:t,isLoading:n,payloadToSign:a}=e;const{closeDappSignData:o,submitDappSignDataConfirm:r}=$t(),i=Ki(),s=uv(a,!0),c=void 0===t;return pt.createElement(Qh,{name:"semiFade",activeKey:c?0:1,slideClassName:vE},pt.createElement(Cv,{title:i("Sign Data"),onClose:o}),c?pt.createElement(SE,{rows:IE}):pt.createElement("div",{className:qi(ml.transitionContent,yE)},pt.createElement(NE,{dapp:t}),function(){switch(null==s?void 0:s.type){case"text":{const{text:e}=s;return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:tE},i("Message")),pt.createElement("div",{className:qi(rE,sE)},e))}case"binary":{const{bytes:e}=s;return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:tE},i("Binary Data")),pt.createElement("div",{className:qi(rE,iE)},e),pt.createElement("div",{className:wE},i("The binary data content is unclear. Sign it only if you trust the service.")))}case"cell":{const{cell:e,schema:t}=s;return pt.createElement(pt.Fragment,null,!!t&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:tE},i("Cell Schema")),pt.createElement("div",{className:qi(rE,sE)},t)),pt.createElement("p",{className:tE},i("Cell Data")),pt.createElement("div",{className:qi(oE,rE,iE)},e),pt.createElement("div",{className:wE},i("The binary data content is unclear. Sign it only if you trust the service.")))}}}(),pt.createElement("div",{className:qi(ml.buttons,bE)},pt.createElement(dl,{className:ml.button,onClick:o},i("Cancel")),pt.createElement(dl,{isPrimary:!0,isSubmit:!0,isLoading:n,className:ml.button,onClick:r},i("Sign")))))})),BE={sticker:"BQ2dFF1C",amount:"ZK1jiZZ7",amount_purple:"A4q4bGl9",amountPurple:"A4q4bGl9",amount_green:"juLGV08g",amountGreen:"juLGV08g",amountSymbol:"pIw09HQw",amountFraction:"AxDVO85U",buttons:"VBRINuzy",buttonsAfterNft:"kg0TjtvC",button:"ONW_pS7t"},xE=ut(function(e){let{isActive:t,onClose:n,type:a="transfer"}=e;const o=Ki();lc({isActive:t,onBack:n}),rt(()=>t?rs({onEnter:n}):void 0,[t,n]);const r=o("signData"===a?"Data Signed!":"Transaction Sent!");return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:r,onClose:n}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{play:t,noLoop:!1,nonInteractive:!0,className:BE.sticker,tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:n,isPrimary:!0},o("Close")))))}),_E=ut(zt(e=>N(e.currentDappSignData,["isLoading","state","error"]))(function(e){let{isLoading:t,state:n,error:o}=e;const{setDappSignDataScreen:r,submitDappSignData:i,clearDappSignDataError:s,closeDappSignData:c,cancelDappSignData:l}=$t(),d=Ki(),u=n!==Ja.None,{renderingKey:m,nextKey:p,updateNextKey:f}=Ib(n,u),h=ri(()=>{n===Ja.Password&&r({state:Ja.Initial})}),g=ri(e=>{i({password:e})}),v=ri(()=>{l(),f()});function y(e,n,r){switch(r){case Ja.Initial:return pt.createElement(TE,null);case Ja.Password:return function(e){return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:d("Sign Data"),onClose:c}),pt.createElement(ig,{isActive:e,isLoading:t,error:o,withCloseButton:a.UMQ,submitLabel:d("Sign"),cancelLabel:d("Back"),onSubmit:g,onCancel:h,onUpdate:s}))}(e);case Ja.Complete:return pt.createElement(xE,{isActive:e,onClose:c,type:"signData"})}}return pt.createElement(bl,{hasCloseButton:!0,isOpen:u,dialogClassName:Zb,nativeBottomSheetKey:"dapp-sign-data",noBackdropClose:!0,forceFullNative:m===Ja.Password,onClose:c,onCloseAnimationEnd:v},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:m,nextKey:p},y))}));function LE(e,t,n){const a=function(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t|=0;return t}(n),o=1e4*Math.sin(a),r=o-Math.floor(o);return Math.floor(r*(t-e+1))+e}const DE=new Set(["jWBTC","oWBTC","BTC"]),OE=new Set(["jUSDT","oUSDT","USDT","jUSDC","oUSDC","USDC","USD₮"]),ME=new Set(["USD","RUB","EUR","CNY"]);function FE(e){return ME.has(e)?5:OE.has(e)?4:DE.has(e)?3:e===a.Tu9.symbol?2:1}function PE(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&n&&a))return;let r,i=n.symbol,s=a.symbol;const c=new $n.z(e),l=new $n.z(t);if(c.eq(0)||l.eq(0))return;const d=FE(i);if(FE(s)<d){i=a.symbol,s=n.symbol;const e=c.div(t),l=o&&e.gte(1e3);r=Si(e.toNumber(),l?0:4)}else{const t=l.div(e),n=o&&t.gte(1e3);r=Si(t.toNumber(),n?0:4)}return{firstCurrencySymbol:i,secondCurrencySymbol:s,price:r}}const RE=i.p+"chain_avalanche.f5a22f3024a79c2a9f7e.svg",UE=i.p+"chain_bitcoin.f45ee04748fc010b73f0.svg",WE=i.p+"chain_bitcoincash.e58775a726a28f67a7ab.svg",HE=i.p+"chain_bnb.01e2f3e1ea67de53c558.svg",$E={avalanche:RE,bitcoin:UE,bitcoin_cash:WE,binance_smart_chain:HE,binance_dex:HE,cardano:i.p+"chain_cardano.687768b5a8564f340656.svg",cosmos:i.p+"chain_cosmos.a7db04679752fce24427.svg",dash:i.p+"chain_dash.cda178d1c80b14b84c65.svg",doge:i.p+"chain_doge.299dffe46d1d20ecb64e.svg",eos:i.p+"chain_eos.5d77746a1d3fe4f879d9.svg",ethereum:i.p+"chain_ethereum.3af0d0aca7d489e97c88.svg",ethereum_classic:i.p+"chain_ethereumclassic.7a2a50f776866f7dc57f.svg",internet_computer:i.p+"chain_internetcomputer.a779e5a83feca271c1b5.svg",iota:i.p+"chain_iota.74e7a3ff559ca5be6171.svg",litecoin:i.p+"chain_litecoin.200bd2979f34cbf91fee.svg",monero:i.p+"chain_monero.80470738ce04482ad225.svg",polkadot:i.p+"chain_polkadot.ce8946cba8f597bc6435.svg",ripple:i.p+"chain_ripple.d4675f4b4373f6c8fdf4.svg",solana:i.p+"chain_solana.3628ba06de78d3bc2018.svg",stellar:i.p+"chain_stellar.f7eb720521e4d55bb082.svg",ton:i.p+"chain_ton.65285e35dece81bdab6c.svg",tron:i.p+"chain_tron.78feaed45ec98c6779ca.svg",zcash:i.p+"chain_zcash.51dd09d4e46c4b2f1ace.svg"};function VE(e){return e?$E[e]??e:""}const zE=i.p+"coin_btc.887dcd8a09b641cd64fc.png",KE=i.p+"coin_my.0333e30adb78820c4490.svg",qE={ton:i.p+"coin_ton.3ad15a82e5688b967ed1.png",btc:zE,trx:i.p+"coin_trx.ae212d89cf2b44b2b748.svg",usdt:i.p+"coin_usdt.954394d1344db6c259d1.svg",my:KE},jE={wrapper:"XPeM0_U7",icon:"FoSSGfFn",large:"wjhynzvL","x-large":"CRkmFyTA",xLarge:"CRkmFyTA","x-small":"TGv989qd",xSmall:"TGv989qd",small:"Zb5vM0UM",middle:"d5dxI69w",fallbackIcon:"p13LUS2n",blockchainIcon:"CMIQ9vCY"},YE=ut(function(e){let{token:t,size:n,withChainIcon:a,className:o,iconClassName:r,children:i}=e;const{symbol:s,image:c,chain:l}=t,d=qE[s.toLowerCase()]||c,[u,m]=Np(!1);return pt.createElement("div",{className:qi(jE.wrapper,o)},u?pt.createElement("div",{className:qi(jE.icon,n&&jE[n],r,jE.fallbackIcon)},t.symbol.slice(0,1)):pt.createElement("img",{src:d,alt:s,className:qi(jE.icon,n&&jE[n],r),draggable:!1,onError:m}),a&&l&&pt.createElement("img",{src:VE(l),alt:"",className:qi(jE.blockchainIcon,n&&jE[n]),draggable:!1}),i)}),GE=ut(function(e){let{isPending:t,isError:n,color:o="Gray",appTheme:r}=e;const{shouldRender:i,ref:s}=rl({isOpen:t,withShouldRender:!0}),c=`iconClock${o}`;return pt.createElement(pt.Fragment,null,n&&pt.createElement("i",{className:qi("QEx5s5VW","icon-close-filled"),"aria-hidden":!0}),i&&pt.createElement("div",{ref:s,className:"hJkwVF68"},pt.createElement(Nh,{play:!0,size:a.wg4,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:Qf[r][c],previewUrl:Qf[r].preview[c]})))}),QE=new Set(["new","waiting","confirming","exchanging","sending","hold"]),XE=new Set(["failed","expired","refunded","overdue"]),ZE=new Set(["expired","failed"]),JE=ut(function(e){let{ref:t,tokensBySlug:n,activity:o,isLast:r,isActive:i,appTheme:s,accountChains:c,isSensitiveDataHidden:l,isFuture:d,onClick:u}=e;const m=Ki(),{id:p,timestamp:f,status:h,from:g,to:v,cex:y}=o,w=st(()=>{if(g&&n)return zm(n,g)},[g,n]),b=st(()=>{if(v&&n)return zm(n,v)},[v,n]),E=Number(o.fromAmount),k=Number(o.toAmount),C=Ua(o)||QE.has((null==y?void 0:y.status)??""),N=ZE.has(h)||XE.has((null==y?void 0:y.status)??""),S="hold"===(null==y?void 0:y.status),A=st(()=>LE(5,13,f.toString()),[f]),I=g===a.Tu9.slug,T=Km({from:w,to:b,toAddress:null==y?void 0:y.payoutAddress,accountChains:c});return pt.createElement(dl,{ref:t,className:qi(Ay,r&&By,i&&Ty,u&&Iy),onClick:u&&(()=>u(p)),isSimple:!0},function(){let e="ubpNbJEy",t="Green";return N?(e=Vy,t="Red"):S&&(e=void 0,t="Gray"),"pending"===h&&(t="Orange"),pt.createElement("i",{className:qi("icon-swap",xy,e),"aria-hidden":!0},pt.createElement(GE,{isPending:C,isError:N,color:t,appTheme:s}))}(),pt.createElement("div",{className:_y},pt.createElement("div",{className:qi(Oy,d&&Dy)},m(S||N||d?"$swap_action":C?"Swapping":"Swapped")),function(){const e=qi(N&&"zT_yLEe8",S&&"aPXkRlmy");return pt.createElement(Jv,{isActive:l,cols:A,rows:2,cellSize:8,align:"right",contentClassName:Py},pt.createElement("span",{className:qi("i_ICee_w",e)},Ii(Math.abs(E),(null==w?void 0:w.symbol)||a.Tu9.symbol,!0)),pt.createElement("i",{className:qi("O_3HTad8","icon-chevron-right",e),"aria-hidden":!0}),pt.createElement("span",{className:qi("mTZ6NzL2",e)},Ii(Math.abs(k),(null==b?void 0:b.symbol)||a.Tu9.symbol,!0)),w&&pt.createElement(YE,{token:w,size:"x-small",className:Ry}),b&&pt.createElement(YE,{token:b,size:"x-small",className:Ry}))}()),pt.createElement("div",{className:Ly},function(){if(d)return pt.createElement("div",null);const e=(0,xo.fU)(f);let t="";const n=null==y?void 0:y.status;return"expired"===n||"overdue"===n?t=m("Expired"):"refunded"===n?t=m("Refunded"):"hold"===n?t=m("On Hold"):"failed"===n||N?t=m("Failed"):"waiting"!==n||I||T?C&&(t=m("In Progress")):t=m("Waiting for Payment"),pt.createElement("div",{className:My},t&&pt.createElement("span",{className:Fy},t),t&&`${a.MS3}∙${a.MS3}`,e)}(),function(){const e=PE(o.fromAmount,o.toAmount,w,b);if(!e)return;const[t,n]=e.price.split(".");return pt.createElement("div",null,e.firstCurrencySymbol," ≈ ",pt.createElement("span",{className:Fy},t,pt.createElement("small",null,".",n," ",e.secondCurrencySymbol)))}()))});function ek(e){var t;let{address:n,chain:a,currentAccountId:o,accounts:r,savedAddresses:i}=e;if(!n)return;const s=r?Object.keys(r).find(e=>{var t;return e!==o&&(null===(t=r[e].byChain[a])||void 0===t?void 0:t.address)===n}):void 0;return s?r[s].title:null==i||null===(t=i.find(e=>e.address===n&&e.chain===a))||void 0===t?void 0:t.name}const tk=i.p+"scam.8fb66536b659fd1bbfc6.svg",nk=new Set([void 0,"unstakeRequest","nftTrade","auctionBid","liquidityDeposit"]),ak=ut(function(e){let{ref:t,tokensBySlug:n,transaction:o,isActive:r,annualYield:i,yieldType:s,savedAddresses:c,isLast:l,appTheme:d,withChainIcon:u,doesNftExist:m,isSensitiveDataHidden:p,isFuture:f,accounts:h,currentAccountId:g,baseCurrency:v,currencyRates:y,onClick:w}=e;const{openNftAttributesModal:b}=$t(),E=Ki(),{id:k,amount:C,fromAddress:N,toAddress:S,timestamp:A,comment:I,encryptedComment:T,isIncoming:B,type:x,metadata:_,slug:L,nft:D,extra:O,status:M}=o,F=Ca.has(x),P=Na.has(x),R=n[L],{chain:U}=R||{},W=B?N:S,H=st(()=>{if(U)return ek({address:W,chain:U,currentAccountId:g,accounts:h,savedAddresses:c})},[h,W,U,g,c])||(null==_?void 0:_.name),$=st(()=>P?function(e){if(null!=e&&e.name){const t=Lo(e.name);if(t)return`.${t.zone.suffixes[0]}`}return"DNS"}(D):"",[P,D]),V=st(()=>LE(5,13,A.toString()),[A]),z=ok(o,f),K=rk(o,f),q=f||"failed"===M?"future":"past";let j,Y="Gray";"failed"===M||"burn"===x?(j=Vy,Y="Red"):B?(j=Hy,Y="Green"):"stake"===x?(j="eSMoqURj",Y="PurpleWhite"):nk.has(x)&&(j=$y,Y="Blue"),"pending"===M&&(Y="Orange");const G=ri(e=>{e.stopPropagation(),Td(),b({nft:D})});return pt.createElement(dl,{ref:t,className:qi(Ay,l&&By,r&&Ty,w&&Iy,"full"===z?"WHdvfTWr":"left"===z?"h_nAGYlh":void 0),onClick:w&&(()=>w(k)),isSimple:!0},function(){let e;return e=F?"icon-earn":"callContract"===x||"contractDeploy"===x?"icon-cog":P?qi("rounded-font","phy9vVLZ"):"mint"===x?"icon-magic-wand":"burn"===x?"icon-fire":"auctionBid"===x?"icon-auction-alt":"nftTrade"===x?B?"icon-tag":"icon-purchase":"liquidityDeposit"===x?"icon-can-in":"liquidityWithdraw"===x?"icon-can-out":B?"icon-receive-alt":"icon-send-alt",pt.createElement("i",{className:qi(xy,e,j),"aria-hidden":!0},P&&pt.createElement("span",{style:P?`font-size: ${100*Math.min(1,4/$.length)}%`:void 0},$),pt.createElement(GE,{isPending:Ua(o),isError:"failed"===M,color:Y,appTheme:d}))}(),pt.createElement("div",{className:_y},pt.createElement("div",{className:qi(Oy,K&&"none"===z&&Dy)},_a(o,q,E),La(o)&&pt.createElement("img",{src:tk,alt:E("Scam"),className:"q57qlNaF"})),function(){const e=Oa(o),t="noSign"===e;if("hide"!==e)return pt.createElement(Jv,{isActive:p,cols:V,rows:2,cellSize:8,align:"right",contentClassName:qi(Py,j!==$y&&j)},Ii((0,zn.nI)(t?(0,Ao.wg)(C):C,(null==R?void 0:R.decimals)??a.I04),(null==R?void 0:R.symbol)||a.Tu9.symbol,t,void 0,!B),R&&pt.createElement(YE,{token:R,size:"x-small",className:Ry}))}()),pt.createElement("div",{className:Ly},function(){const e=[],t=`${a.MS3}∙${a.MS3}`;if("failed"===o.status&&e.push(t,E("Failed")),Ma(o).includes("list")){const n=(null==O?void 0:O.dex)&&a.S7e[O.dex],o=(null==O?void 0:O.marketplace)&&a.fSo[O.marketplace];e.push(t,E(n||o?"$transaction_on":B?"$transaction_from":"$transaction_to",{address:pt.createElement("span",{className:Fy},u&&Boolean(U)&&pt.createElement("i",{className:qi("cSKmXwko",`icon-chain-${U.toLowerCase()}`),"aria-label":da(U)}),n||o||H||qt(W,a.bOf))}))}return Pa(o)&&e.push(t,E("at %annual_yield%",{annual_yield:pt.createElement("span",{className:Fy},s," ",i,"%")})),f||e.push(t,(0,xo.fU)(A)),pt.createElement("div",{className:My},e.slice(1))}(),function(){if("hide"!==Oa(o)&&R)return pt.createElement(Jv,{isActive:p,cols:Math.round(3+(V-5)/3),rows:2,cellSize:8,align:"right"},_i(C,v,R,y))}()),D&&pt.createElement("div",{className:qi(Wy,"e3BuV9xi",!m&&"ajtoDEwn","transaction-nft"),onClick:m?G:void 0,"data-nft-address":null==D?void 0:D.address,"data-tx-id":k},pt.createElement("img",{src:D.thumbnail,alt:D.name,className:"D2P00KCV"}),pt.createElement("div",{className:"q0pHgkH5"},pt.createElement("div",{className:"nyPEMK4u"},D.name),pt.createElement("div",{className:"Qpo6_7BK"},D.collectionName))),Da(o)&&function(){const e=qi(Wy,Uy,!B&&"pDncMEIU",j);return pt.createElement("div",{className:e},T&&pt.createElement("i",{className:qi("gBryI_V5","icon-lock"),"aria-hidden":!0}),T?pt.createElement("i",null,E("Encrypted Message")):I)}())});function ok(e,t){return(e.nft||Da(e))&&rk(e,t)?function(e){return"hide"===Oa(e)}(e)?"full":e.nft||e.isIncoming?"left":"none":"none"}function rk(e,t){return t&&"failed"!==e.status&&!Ma(e).includes("list")&&!Pa(e)}function ik(e){let{activity:t,isLast:n,isActive:a,isSensitiveDataHidden:o,isFuture:r,withChainIcon:i,tokensBySlug:s,swapTokensBySlug:c,appTheme:l,nftsByAddress:d,currentAccountId:u,stakingStateBySlug:m,savedAddresses:p,accounts:f,baseCurrency:h,currencyRates:g,onClick:v}=e;var y;if("swap"===t.kind)return pt.createElement(JE,{activity:t,tokensBySlug:c,isLast:n,isActive:a,appTheme:l,accountChains:null==f||null===(y=f[u])||void 0===y?void 0:y.byChain,isSensitiveDataHidden:o,isFuture:r,onClick:v});{const e=Boolean(t.nft&&(null==d?void 0:d[t.nft.address])),{annualYield:c,yieldType:y}=m[t.slug]??{};return pt.createElement(ak,{currentAccountId:u,transaction:t,tokensBySlug:s,isActive:a,annualYield:c,yieldType:y,isLast:n,savedAddresses:p,withChainIcon:i,appTheme:l,doesNftExist:e,isSensitiveDataHidden:o,isFuture:r,accounts:f,baseCurrency:h,currencyRates:g,onClick:v})}}function sk(e,t){return"swap"===e.kind?4:function(e,t){return 4+(e.nft?3.875:0)+(Da(e)?2.375:0)-("none"!==ok(e,t)?1.25:0)}(e,t)}const ck="DZJAgO1_",lk="frL0b5SW",dk="l7Jv2Ysl",uk="cjX8maBi",mk="nfp5rpIc",pk="qBj00Hsz",fk=ut(function(e){let{nft:t,isStatic:n,withTonExplorer:o,withMediaViewer:r}=e;const{openMediaViewer:i}=$t(),s=Ki(),c=st(()=>s("Open on %ton_explorer_name%",{ton_explorer_name:ui("ton")}).join(""),[s]),l=e=>{e.stopPropagation(),Il(hi(t.address,Wt().settings.isTestnet))},d=ri(()=>{i({mediaId:t.address,mediaType:ho.Nft})});if(!t)return pt.createElement("div",{className:qi(ck,n&&lk)},pt.createElement(Nh,{play:!0,noLoop:!1,nonInteractive:!0,size:a.YO8,className:dk,tgsUrl:Qf.wait,previewUrl:Qf.waitPreview}),pt.createElement("div",{className:uk},pt.createElement("div",{className:mk},"NFT"),pt.createElement("div",{className:pk},s("Name and collection are not available. Please check back later."))));const u=t.name||qt(t.address);return pt.createElement("div",r?{role:"button",tabIndex:0,"aria-label":s("NFT"),className:qi(ck,"GU6t4snd",n&&lk),onClick:d}:{className:qi(ck,n&&lk)},pt.createElement(pt.Fragment,null,pt.createElement("img",{src:t.thumbnail,alt:u,className:dk}),pt.createElement("div",{className:uk},pt.createElement("div",{className:mk},u,o&&pt.createElement("i",{className:qi("DNxf1fb1","icon-tonexplorer-small"),onClick:l,title:c,"aria-label":c,role:"button",tabIndex:0})),pt.createElement("div",{className:pk},t.collectionName))))}),hk=350,gk="r5lsJ1c8",vk=ut(function(e){let{isOpen:t,address:n,chain:a,onClose:o}=e;const{removeFromSavedAddress:r,showNotification:i}=$t(),s=Ki(),c=ri(()=>{r({address:n,chain:a}),i({message:s("Address removed from saved"),icon:"icon-trash"}),o()});return pt.createElement(bl,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:o},pt.createElement("p",{className:gk},s("Are you sure you want to remove this address from your saved ones?")),pt.createElement("p",{className:gk},s("You will be able to save it again via Transaction Info with this address.")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:o,className:ml.button},s("Cancel")),pt.createElement(dl,{isDestructive:!0,onClick:c,className:ml.button},s("Delete"))))}),yk=ut(function(e){let{isMenuOpen:t,contentRef:n,contentClassName:a}=e;const{shouldRender:o,ref:r}=rl({isOpen:t,withShouldRender:!0});if(it(()=>{n.current&&(Yc(n.current,"qhlMQSuq",o),Yc(n.current,"y0lYOYF9",o&&!t),a&&Yc(n.current,a,o))},[a,n,t,o]),il({className:"with-menu-backdrop",isActive:t}),o)return pt.createElement("div",{ref:r,className:qi("aLk6q3zd",t&&"LULg10Df")})}),wk={wrapper:"qrcsFk0p",button:"tQGrt_Qw",button_spoiler:"RpBIB1I4",buttonSpoiler:"RpBIB1I4",icon:"RdTchw5a",iconCaretDown:"DdQbhVKr",iconStar:"p87ao4no",iconShare:"GuQHudIr",nameInput:"lL2_LCB0",shortAddress:"hofQbGX_",scam:"nwdDECq8",revealSpoiler:"W5z38O2d",scamImage:"KBuV_80E",chainIcon:"xEGdgotG",meaningfulPart:"tKeqWu_9",menuIcon:"iyUEV5xt",dimmedPart:"NNrfqpvB",menu:"E31wd_4J",menuItem:"HbftB0iE"};function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bk.apply(null,arguments)}const Ek=3*r.$,kk=r.$,Ck=ut(zt(e=>{const t=dn(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:Cn(e,e.currentAccountId),isTestnet:e.settings.isTestnet}})(function(e){let{chain:t,address:n,addressName:a,addressUrl:o,forceFullAddress:i=!1,isScam:s,isTransaction:c,text:l="",spoiler:d,spoilerRevealText:u,spoilerCallback:m,copyNotification:p,noSavedAddress:f,noExplorer:h,className:g,textClassName:v,savedAddresses:y,isTestnet:w,isMultichainAccount:b,noDimming:E,withShareInMenu:k}=e;const{showNotification:C,addSavedAddress:N}=$t(),S=lt(),A=lt(),I=lt(),T=Ki(),[B,x,_]=Np(),[L,D,O]=Np(),[M,F]=at(a),[P,,R]=Np(Boolean(d)),U=st(()=>Boolean(n&&t&&(y||[]).find(e=>e.address===n&&e.chain===t)),[n,t,y]);o=o??(t?fi(t,n,w):void 0);const W=T(U?"Remove From Saved":"Save Address"),H=T("View on Explorer"),$=Boolean(!s&&!f&&n),V=Boolean(!h&&o);rt(()=>{B&&F("")},[B]);const z=ri(()=>{M&&n&&t&&(N({address:n,chain:t,name:M}),C({message:T("Address was saved!"),icon:"icon-star"}),_())});rt(()=>B?rs({onEnter:z}):void 0,[z,B]),Xf(S,!B);const K=ri(()=>{p&&(C({message:p,icon:"icon-copy"}),Ld(n||l))}),q=ri(()=>{cv(o,t?ui(t):void 0)}),j=ri(()=>{Il(o,{title:ui(t),subtitle:di(o)})}),{isActionsMenuOpen:Y,menuAnchor:G,menuPositionY:Q,menuItems:X,handleMenuShow:Z,handleMenuItemSelect:J,closeActionsMenu:ee}=function(e,t){const[n,a]=at("top"),[o,i]=at(),s=ri(()=>i(void 0)),c=Boolean(o),l=st(()=>{const{isAddressAlreadySaved:e,isWalletAddress:n,isTransaction:a,withSavedAddresses:o,withExplorer:i,withShare:s}=t,c=[{name:o||n?"Copy Address":a?"Copy Transaction ID":"Copy",fontIcon:"copy",value:"copy"}];return o&&c.push({name:e?"Remove From Saved":"Save Address",fontIcon:e?"star-filled":"star",value:"addressBook"}),(a||s)&&c.push({name:"Share Link",fontIcon:r.pz?"share-ios":"share-android",value:"share"}),i&&c.push({name:"View on Explorer",fontIcon:"tonexplorer",value:"explorer"}),c},[t]),d=ri(t=>{var n;null===(n=e[t])||void 0===n||n.call(e),s()}),u=ri(e=>{let t;if(Yr(e),e.type.startsWith("touch")){const{changedTouches:n,touches:a}=e;t=a.length>0?a[0].clientX:n[0].clientX}else t=e.clientX;const{top:n,bottom:o}=e.currentTarget.getBoundingClientRect(),r=l.length*Ek,s=dr().height;o+r+-16+kk>=s?(a("bottom"),i({x:t,y:n})):(a("top"),i({x:t,y:o+-16}))});return{isActionsMenuOpen:c,menuAnchor:o,menuPositionY:n,menuItems:l,handleMenuShow:u,handleMenuItemSelect:d,closeActionsMenu:s}}({copy:K,share:q,addressBook:U?D:x,explorer:j},{isAddressAlreadySaved:U,isWalletAddress:Boolean(n&&t&&f&&!c),isTransaction:c,withSavedAddresses:$,withExplorer:V,withShare:k}),te=!d&&r.TF&&X.length>1,ne=ri(()=>document.body),ae=ri(()=>I.current),oe=ri(()=>({withPortal:!0,preferredPositionY:Q})),re=function(e){let{onClick:t,onStart:n,onEnd:a,threshold:o=hk}=e;const r=lt(!1),i=lt(!1),s=lt(void 0),c=ct(e=>{const t="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!i.current&&t&&(i.current=!0,s.current=window.setTimeout(()=>{null==n||n(),r.current=!0},o))},[n,o]),l=ct(e=>{i.current&&(r.current?null==a||a():null==t||t(e),r.current=!1,i.current=!1,window.clearTimeout(s.current))},[a,t]);return gt(()=>()=>{window.clearTimeout(s.current)}),{onMouseDown:c,onMouseUp:l,onMouseLeave:l,onTouchStart:c,onTouchEnd:l,onTouchCancel:l}}({onClick:Z,onStart:K}),ie=ri(()=>{R(),null==m||m()});function se(e){let o=e;if(!E&&!c&&e===n&&e.length>12){const t=e.substring(0,6),n=e.length-6,a=e.substring(6,n),r=e.substring(n);o=pt.createElement(pt.Fragment,null,pt.createElement("span",{className:wk.meaningfulPart},t),pt.createElement("span",{className:wk.dimmedPart},a),pt.createElement("span",{className:wk.meaningfulPart},r))}else!E&&c&&(o=pt.createElement("span",{className:wk.dimmedPart},e));return pt.createElement("span",{className:qi(wk.button,s&&wk.scam,v),tabIndex:0,role:"button",title:te?void 0:T("Copy"),onClick:te?void 0:K},s&&pt.createElement("img",{src:tk,alt:T("Scam"),className:wk.scamImage}),b&&!c&&pt.createElement("i",{className:qi(wk.chainIcon,`icon-chain-${t}`),"aria-label":t&&da(t)}),o,Boolean(a)&&pt.createElement("span",{className:qi(wk.shortAddress,s&&wk.scam)},i?n:qt(n)),Boolean(p)&&!te&&pt.createElement("i",{className:qi(wk.icon,"icon-copy"),"aria-hidden":!0}))}return pt.createElement(pt.Fragment,null,pt.createElement(yk,{isMenuOpen:Y&&te,contentRef:A}),pt.createElement("div",bk({ref:A,className:qi(wk.wrapper,g)},te&&!Y&&{...re,tabIndex:0,role:"button"},{onContextMenu:te?Yr:void 0}),function(){const e=a||n||l;if(!d)return se(e);const t=P||!e;return pt.createElement(Qh,{activeKey:t?1:0,name:"fade",className:wk.commentContainer},t?pt.createElement("span",{className:qi(wk.button,wk.button_spoiler,v)},pt.createElement("i",null,d)," ",pt.createElement("span",{onClick:ie,tabIndex:0,role:"button",className:wk.revealSpoiler},u)):se(e))}(),function(){if(te){const e=qi(wk.icon,wk.iconCaretDown,"icon-caret-down",s&&wk.scam);return pt.createElement(pt.Fragment,null,pt.createElement("i",{className:e,"aria-hidden":!0}),pt.createElement(kv,{ref:I,withPortal:!0,shouldTranslateOptions:!0,isOpen:Y,items:X,menuPositionY:Q,menuAnchor:G,getLayout:oe,getMenuElement:ae,getRootElement:ne,bubbleClassName:wk.menu,buttonClassName:wk.menuItem,fontIconClassName:wk.menuIcon,onSelect:J,onClose:ee}))}return pt.createElement(pt.Fragment,null,$&&pt.createElement("span",{className:wk.button,title:W,"aria-label":W,tabIndex:0,role:"button",onClick:U?D:x},pt.createElement("i",{className:qi(wk.icon,wk.iconStar,U?"icon-star-filled":"icon-star"),"aria-hidden":!0})),c&&pt.createElement("span",{className:wk.button,title:T("Share Link"),"aria-label":T("Share Link"),onClick:q},pt.createElement("i",{className:qi(wk.icon,wk.iconShare,"icon-link"),"aria-hidden":!0})),V&&pt.createElement("a",{href:o,className:wk.button,title:H,"aria-label":H,target:"_blank",rel:"noreferrer noopener",onClick:Bl},pt.createElement("i",{className:qi(wk.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}()),n&&pt.createElement(pt.Fragment,null,pt.createElement(bl,{title:T("Save Address"),isCompact:!0,isOpen:B,onClose:_},pt.createElement("p",null,T("You can save this address for quick access while sending.")),pt.createElement(Ah,{ref:S,placeholder:T("Name"),onInput:F,value:M,maxLength:255,className:wk.nameInput}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:_,className:ml.button},T("Cancel")),pt.createElement(dl,{onClick:z,isPrimary:!0,isDisabled:!M,className:ml.button},T("Save")))),pt.createElement(vk,{isOpen:L,address:n,chain:t,onClose:O})))})),Nk=ut(zt(e=>({tokensBySlug:e.tokenInfo.bySlug,baseCurrency:e.settings.baseCurrency,currencyRates:e.currencyRates}))(function(e){let{label:t,amountsBySlug:n,nftCount:o,tokensBySlug:r,baseCurrency:i,currencyRates:s}=e;const c=[];o&&c.push(pt.createElement("span",{className:cE},`${o} NFT${o>1?"s":""}`));for(const[e,t]of Object.entries(n)){c.length&&c.push(" + ");const n=r[e]??a.Bx3;c.push(pt.createElement("span",{className:cE},Ai((0,zn.nI)(t,n.decimals),n.symbol)))}if(!Xt(n)){const e=function(e,t,n,a){return Object.entries(e).reduce((e,o)=>{let[r,i]=o;const s=t[r];if(!s)return e;const c=Vn(s.priceUsd||0,n,a);return e+(0,zn.CF)(i,s.decimals).mul(c).toNumber()},0)}(n,r,i,s);c.push(` (${Ai(e,xi(i))})`)}return pt.createElement(pt.Fragment,null,pt.createElement("span",{className:tE},t),pt.createElement("div",{className:qi(rE,iE)},c))})),Sk=ut(function(e){let{transaction:t,tokensBySlug:n}=e;const a=Ki(),o=lt(),[r,i]=Np(!1);rt(()=>{const e=o.current;e&&e.scrollWidth<=e.clientWidth&&i()},[i]);const s=function(){const{payload:e,rawPayload:o}=t;if(e&&!Fn(e)&&!Pn(e))switch(e.type){case"comment":return e.comment;case"tokens:burn":{const{slug:t,amount:o}=e,r=n[t],i=(null==r?void 0:r.decimals)??9,s=(null==r?void 0:r.symbol)??"";return a("$dapp_transfer_tokens_burn",{amount:Ai((0,zn.nI)(o,i),s,2)})}case"dns:change-record":{const{record:t}=e,n="unknown"!==t.type?t.type:t.key;return"wallet"===t.type&&t.value?a("$dapp_dns_set_wallet_payload",{address:t.value}):"wallet"!==t.type||t.value?t.value?a("$dapp_dns_change_record_payload",{category:n,value:t.value}):a("$dapp_dns_delete_record_payload",{category:n}):a("$dapp_dns_delete_wallet_payload")}case"token-bridge:pay-swap":return a("$dapp_token_bridge_pay_swap_payload",{swapId:e.swapId});case"liquid-staking:deposit":return a("$dapp_liquid_staking_deposit_payload");case"liquid-staking:vote":return a("$dapp_liquid_staking_vote_payload",{votingAddress:e.votingAddress,vote:e.vote});case"single-nominator:change-validator":return a("$dapp_single_nominator_change_validator_payload",{address:e.address});case"single-nominator:withdraw":return a("$dapp_single_nominator_withdraw_payload",{amount:(0,zn.nI)(e.amount)});case"vesting:add-whitelist":return a("$dapp_vesting_add_whitelist_payload",{address:e.address});case"unknown":return o;default:return JSON.stringify(e,void 0,2).replace(`/"${Ao.tH}/g`,'"')}}();if(s)return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:tE},function(){var e;switch(null===(e=t.payload)||void 0===e?void 0:e.type){case"comment":return a("Comment");case"unknown":return a("Payload");default:return a("Nested Transaction")}}()),pt.createElement("div",{ref:o,className:qi(rE,r&&iE)},s,!r&&pt.createElement("div",{className:"l7ty8x8l",onClick:i},a("View"))),t.isDangerous&&pt.createElement("div",{className:wE},bi(a("$hardware_payload_warning"))))}),Ak=ut(function(e){let{transaction:t,tokensBySlug:n,isActive:a,onClose:o,onBack:r}=e;const i=Ki();return lc({isActive:a,onBack:r}),pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:i("Transaction Info"),onBackButtonClick:r,onClose:o}),pt.createElement("div",{className:qi(ml.transitionContent,"yj9FIjaY")},t&&pt.createElement(Ik,{transaction:t,tokensBySlug:n})))});function Ik(e){let{transaction:t,tokensBySlug:n}=e;const o=Ki(),r=st(()=>{const{amount:e,payload:n}=t,o={};return Pn(n)&&(o[n.slug]=n.amount),(0n!==e||!Fn(n)&&Xt(o))&&(o[a.Tu9.slug]=e),o},[t]),i=st(()=>({[a.Tu9.slug]:t.networkFee}),[t.networkFee]);return pt.createElement(pt.Fragment,null,Fn(t.payload)&&pt.createElement(fk,{nft:t.payload.nft}),pt.createElement("p",{className:tE},o("Receiving Address")),pt.createElement(Ck,{chain:a.Tu9.chain,address:t.displayedToAddress,isScam:t.isScam,className:qi(oE,"NfKwqXNd"),copyNotification:o("Address was copied!")}),!Xt(r)&&pt.createElement(Nk,{label:Fn(t.payload)?o("Additional Amount Sent"):o("Amount"),amountsBySlug:r}),pt.createElement(Nk,{label:o("Fee"),amountsBySlug:i}),pt.createElement(Sk,{transaction:t,tokensBySlug:n}))}const Tk={exact:"",approximate:"~ ",lessThan:"< "},Bk={slug:"__stars__",symbol:a.xFF,decimals:0},xk={slug:"__unknown__",symbol:"",decimals:0},_k=ut(function(e){let{terms:t,token:n,precision:o,shouldPreferIcons:r,termClassName:i,symbolClassName:s}=e;const c=ya(wa(n.slug))??xk,l=[Tk[o]];return function(e){const t=[];let n;for(const[a,o]of Object.entries(e)){if(void 0===o)continue;const e={tokenType:a,amount:o};n||=e,Number(o)&&t.push(e)}return 0===t.length&&t.push(n??{tokenType:"native",amount:0}),t}(t).forEach((e,t)=>{let{tokenType:o,amount:d}=e;t>0&&l.push(" + ");const u="stars"===o?Bk:"native"===o?c:n,m=r?a.dby[u.slug]:void 0;"bigint"==typeof d&&(d=(0,zn.nI)(d,u.decimals));let p=m?pt.createElement("i",{className:qi(m,"hrsxYQfo"),"aria-label":u.symbol}):u.symbol;s&&(p=pt.createElement("span",{className:s},p)),l.push(pt.createElement("span",{className:qi("KQKXQCYl",i)},Ai(d,"",void 0,!0),p))}),l}),Lk=ut(function(e){let{className:t,isStatic:n,terms:a,token:o,precision:r,keepDetailsButtonWithoutFee:i,onDetailsClick:s}=e;const c=Ki();let l;return a&&o&&(l=c("exact"===r?"$fee_value_with_colon":"$fee_value",{fee:pt.createElement(_k,{terms:a,token:o,precision:r})})),pt.createElement(Dk,{className:t,isStatic:n,onDetailsClick:l||i?s:void 0,transitionKey:l?1:0},l)});function Dk(e){let{className:t,isStatic:n,onDetailsClick:a,children:o,transitionKey:r=0}=e;const i=Ki();return pt.createElement(Qh,{name:"fade",activeKey:r+(a?65536:0),className:qi("fJgsdA7d",t,n&&"swvIvbGd")},o,Boolean(o)&&a&&" · ",a&&pt.createElement("span",{role:"button",tabIndex:0,className:"K7iB61lh",onClick:()=>a()},i("Details"),pt.createElement("i",{className:qi("icon-chevron-right","WDhuwtt6"),"aria-hidden":!0})))}const Ok=[{isLarge:!1,hasFee:!1},{isLarge:!0,hasFee:!0}],Mk=ut(zt(e=>{var t,n,a;const{isLoading:o,dapp:r,transactions:i,emulation:s}=e.currentDappTransfer,c=e.currentAccountId,l=dn(e),d=on(e),{amountsBySlug:u,isScam:m,isDangerous:p,nftCount:f}=Wn(e);return{transactions:i,totalAmountsBySlug:u,emulation:s,isScam:m,isDangerous:p,nftCount:f,dapp:r,isLoading:o,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,currencyRates:e.currencyRates,nftsByAddress:null==l||null===(n=l.nfts)||void 0===n?void 0:n.byAddress,currentAccountId:c,stakingStateBySlug:$o(e,c),savedAddresses:null==l?void 0:l.savedAddresses,accounts:d,insufficientTokens:Hn(e),balancesBySlug:null==l||null===(a=l.balances)||void 0===a?void 0:a.bySlug}})(function(e){var t;let{transactions:n,totalAmountsBySlug:o,emulation:r,isScam:i,isDangerous:s,nftCount:c,dapp:l,isLoading:d,tokensBySlug:u,swapTokensBySlug:m,theme:p,baseCurrency:f,currencyRates:h,nftsByAddress:g,currentAccountId:v,stakingStateBySlug:y,savedAddresses:w,accounts:b,insufficientTokens:E,balancesBySlug:k,onClose:C}=e;const{closeDappTransfer:N,showDappTransferTransaction:S,submitDappTransferConfirm:A}=$t(),I=Ki(),T=cg(p),B=uv(n,!0),x=st(()=>function(e,t){return e?e.map((e,n)=>({...e,index:n,sortingCost:Fk(e,t)})).sort((e,t)=>t.sortingCost-e.sortingCost):e}(B,u),[B,u]),_=void 0===l,L=!E,D=st(()=>function(e,t,n){if(!e||!t||!n)return{balance:(null==t?void 0:t[a.Tu9.slug])??0n,symbol:a.Tu9.symbol,decimals:a.Tu9.decimals};const o=[],r=[];for(const[a,i]of Object.entries(e)){const e=t[a]??0n,s=n[a];if(!s)continue;const{symbol:c,decimals:l,priceUsd:d=0}=s;if(e<i){const t=i-e,n=(0,zn.CF)(t,l).toNumber()*d;o.push({slug:a,insufficientUsdValue:n,balance:e,symbol:c,decimals:l})}else{const t=(0,zn.CF)(i,l).toNumber()*d;r.push({slug:a,transactionUsdValue:t,balance:e,symbol:c,decimals:l})}}if(o.length>0){const e=o.reduce((e,t)=>t.insufficientUsdValue>e.insufficientUsdValue?t:e);return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}if(r.length>0){const e=r.reduce((e,t)=>t.transactionUsdValue>e.transactionUsdValue?t:e);return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}return{balance:t[a.Tu9.slug]??0n,symbol:a.Tu9.symbol,decimals:a.Tu9.decimals}}(o,k,u),[o,k,u]);function O(e){const{payload:t}=e,n=[];if(Fn(t))n.push("1 NFT");else if(Pn(t)){const{slug:e,amount:o}=t,{decimals:r,symbol:i}=u[e]??a.Bx3;n.push(Ai((0,zn.nI)(o,r),i))}return n.push(Ai((0,zn.nI)(e.amount+e.networkFee),a.Tu9.symbol)),pt.createElement("div",{key:e.index,className:"qfq9TmLL",onClick:()=>S({transactionIdx:e.index})},e.isScam&&pt.createElement("img",{src:tk,alt:I("Scam"),className:"gw394drP"}),pt.createElement("span",{className:qi("rqZIiXwE",e.isScam&&dE)},n.join(" + "))," ",pt.createElement("span",{className:qi("p87NWFTH",e.isScam&&dE)},I("$transaction_to",{address:qt(e.displayedToAddress)})),pt.createElement("i",{className:qi("gKLbD42t","icon-chevron-right"),"aria-hidden":!0}))}return pt.createElement(Qh,{name:"semiFade",activeKey:_?0:1,slideClassName:vE},pt.createElement(Cv,{title:I(Fn(null==B||null===(t=B[0])||void 0===t?void 0:t.payload)?"Send NFT":"Send Transaction"),onClose:N}),_?pt.createElement(SE,{rows:Ok}):pt.createElement("div",{className:qi(ml.transitionContent,yE)},pt.createElement(NE,{dapp:l,customTokenBalance:D.balance,customTokenSymbol:D.symbol,customTokenDecimals:D.decimals}),s&&pt.createElement("div",{className:qi("Jgu5kw0W",wE)},bi(I("$hardware_payload_warning"))),function(){if(!B)return;const e=c>0||!Xt(o);return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:tE},I("$many_transactions",B.length,"i")),pt.createElement("div",{className:lE},null==x?void 0:x.map(O)),B.length>1&&e&&pt.createElement(Nk,{label:I("Total Amount"),amountsBySlug:o,nftCount:c}))}(),function(){var e;if(null==r||null===(e=r.activities)||void 0===e||!e.length)return;const{activities:t,realFee:n}=r;return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:tE},I("Preview")," ",pt.createElement(Xb,{message:bi(I("$preview_not_guaranteed")),type:"warning",size:"small"})),pt.createElement("div",{className:qi(lE,"ZCewpbCA")},t.map((e,n)=>pt.createElement(ik,{key:e.id,activity:e,isFuture:!0,isLast:n===t.length-1,tokensBySlug:u,swapTokensBySlug:m,appTheme:T,nftsByAddress:g,currentAccountId:v,stakingStateBySlug:y,savedAddresses:w,accounts:b,baseCurrency:f,currencyRates:h}))),0n!==n&&pt.createElement(Lk,{terms:{native:n},token:a.Tu9,precision:"approximate",className:"ClQaAvrV"}))}(),pt.createElement("div",{className:nE},!L&&pt.createElement("div",{className:"IHLQKILq"},I("Not Enough %symbol%",{symbol:E})),pt.createElement("div",{className:qi(ml.buttons,bE)},pt.createElement(dl,{className:ml.button,onClick:C},I("Cancel")),pt.createElement(dl,{isPrimary:!0,isSubmit:!0,isLoading:d,isDisabled:i||!L,className:ml.button,onClick:!i&&L?A:void 0},I("Send"))))))}));function Fk(e,t){const n=(0,zn.CF)(e.amount+e.networkFee,a.Tu9.decimals).toNumber();let o=t[a.Tu9.slug].priceUsd*n;if(Pn(e.payload)){const{amount:n,slug:a}=e.payload,r=t[a];r&&(o+=r.priceUsd*(0,zn.CF)(n,r.decimals).toNumber())}else Fn(e.payload)&&(o+=1e9);return o}const Pk=ut(zt(e=>{const{isDangerous:t}=Wn(e);return{currentDappTransfer:e.currentDappTransfer,tokensBySlug:e.tokenInfo.bySlug,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isDangerous:t}})(function(e){let{currentDappTransfer:{isLoading:t,viewTransactionOnIdx:n,state:o,transactions:r,emulation:i,error:s},tokensBySlug:c,isMediaViewerOpen:l,isDangerous:d}=e;const{setDappTransferScreen:u,clearDappTransferError:m,submitDappTransfer:p,closeDappTransfer:f,cancelDappTransfer:h}=$t(),g=Ki(),v=o!==Xa.None,{renderingKey:y,nextKey:w,updateNextKey:b}=Ib(o,v),E=st(()=>!(!a.UMQ||y!==Xa.Password)||y!==Xa.Complete&&function(e,t,n){let a=0;if(e&&(a+=3*e.length,e.length>1&&(a+=5.125)),t)for(const e of t)a+=sk(e,!0);return n&&(a+=4.6),a>=14.5}(r,null==i?void 0:i.activities,d),[r,i,d,y]),k=ri(()=>{o!==Xa.Confirm&&o!==Xa.Password||u({state:Xa.Initial})}),C=ri(e=>{p({password:e})}),N=ri(()=>{p()}),S=ri(()=>{h(),b()});function A(e,o,i){switch(i){case Xa.Initial:return pt.createElement(Mk,{onClose:f});case Xa.Confirm:return pt.createElement(Ak,{transaction:void 0!==n?null==r?void 0:r[n]:void 0,tokensBySlug:c,isActive:e,onBack:k,onClose:f});case Xa.Password:return function(e){return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:g("Confirm Action"),onClose:f}),pt.createElement(ig,{isActive:e,isLoading:t,error:s,withCloseButton:a.UMQ,submitLabel:g("Confirm"),cancelLabel:g("Back"),onSubmit:C,onCancel:k,onUpdate:m}))}(e);case Xa.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:N,onClose:f});case Xa.ConfirmHardware:return pt.createElement(Db,{text:g("Please confirm transaction on your Ledger"),error:s,onTryAgain:N,onClose:f});case Xa.Complete:return pt.createElement(xE,{isActive:e,onClose:f})}}return pt.createElement(bl,{hasCloseButton:!0,isOpen:v&&!l,noBackdropClose:!0,dialogClassName:qi(Zb,E&&"ow4XXlQr"),nativeBottomSheetKey:"dapp-transfer",forceFullNative:E,onClose:f,onCloseAnimationEnd:S},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:y,nextKey:w,onStop:b},A))})),Rk=(0,t.F3)("Dialog",{web:()=>i.e(564).then(i.bind(i,94564)).then(e=>new e.DialogWeb)}),Uk=ut(zt(e=>N(e,["dialogs"]))(e=>{var t,n;let{dialogs:o}=e;const{dismissDialog:r}=$t(),s=Ki(),[c,l,d]=Np(),u=o[o.length-1],m=s((null==u?void 0:u.title)??"Something went wrong"),p=(null==u?void 0:u.buttons)??{confirm:{}},f=Boolean(null==u||null===(t=u.buttons)||void 0===t?void 0:t.cancel),h=s(p.confirm.title??"OK"),g=f?s((null===(n=p.cancel)||void 0===n?void 0:n.title)??"Cancel"):void 0,v=a.UMQ&&"string"==typeof(null==u?void 0:u.message),y=ri(()=>{p.confirm.action&&async function(e){switch(e){case"openBluetoothSettings":{const{openSystemBluetoothSettings:e}=await Promise.all([i.e(235),i.e(576)]).then(i.bind(i,87576));e();break}case"signOutAll":{const{signOut:e}=$t();e({level:"all"});break}}}(p.confirm.action),v?r():d()});if(rt(()=>{u?v?f?Rk.confirm({title:m,message:s(u.message),okButtonTitle:h,cancelButtonTitle:g}).then(e=>{e.value?y():r()}):Rk.alert({title:m,message:s(u.message),buttonTitle:h}).then(y):l():d()},[g,h,u,f,v,s,m]),u)return pt.createElement(bl,{isOpen:c,isCompact:!0,title:m,noBackdropClose:u.noBackdropClose,isInAppLock:u.isInAppLock,onClose:d,onCloseAnimationEnd:r},pt.createElement("div",null,"string"==typeof u.message?bi(s(u.message,u.entities)):u.message),pt.createElement("div",{className:ml.footerButtons},f&&pt.createElement(dl,{onClick:d},g),pt.createElement(dl,{isPrimary:!0,isDestructive:p.confirm.isDestructive,onClick:y},h)))}));function Wk(e){const t=lt(!1);return rt(()=>{r.pz&&!e&&t.current&&(Br(),t.current=!1)},[e]),{disableSwipeToClose:ri(()=>{r.pz&&!t.current&&(Tr(),t.current=!0)}),enableSwipeToClose:ri(()=>{r.pz&&t.current&&(Br(),t.current=!1)})}}function Hk(e,t,n){let a=e;a.startsWith("http:")||a.startsWith("https:")||(a=`https://${a}`),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;try{if(!e.match(ci))return!1;const n=new URL(e);return t.has(n.protocol)}catch(e){return(0,o.SJ)("isValidUrl",e),!1}}(a)?$t().addSiteToBrowserHistory({url:a}):a=`https://www.google.com/search?q=${encodeURIComponent(e)}`,Il(a,{isExternal:t,title:n,subtitle:di(a)})}const $k=function(e){let{containerRef:t,isDisabled:n,shouldPreventDefault:a=!1,contentSelector:o}=e;rt(()=>{const e=t.current;if(!n&&e)return e.addEventListener("wheel",r,{passive:!a}),()=>{e.removeEventListener("wheel",r)};function r(t){if(!t.deltaX){const n=o?e.querySelector(o):e;if(!n)return;n.scrollLeft+=t.deltaY/4,a&&t.preventDefault()}}},[t,o,n,a])};function Vk(e){const t=lt(),n=lt();return n.current!==e&&(t.current=n.current),n.current=e,t.current}const zk="dNJuuV1f",Kk="yWoCn5kk",qk="d8pMxoBU",jk=ut(function(e){let{category:t,sites:n}=e;const{openSiteCategory:a}=$t(),o=Ki(),[r,i]=st(()=>n.length<=4?[n,[]]:[n.slice(0,3),n.slice(3,7)],[n]);function s(){a({id:t.id})}return pt.createElement("div",{className:"MEbg8jIh"},pt.createElement("h3",{className:"P97rYp1K",role:"button",tabIndex:0,onClick:s},o(t.name)),pt.createElement("div",{className:qi("uC9KwIK7",i.length>0&&"db2WsIPg"),onClick:i.length>0?s:void 0},r.map(e=>pt.createElement("button",{key:`${e.url}-${e.name}`,type:"button",className:qi(zk,qk),onClick:t=>{Yr(t),Il(e.url,{isExternal:e.isExternal,title:e.name,subtitle:di(e.url)})}},pt.createElement(dg,{url:e.icon,alt:e.name,imageClassName:Kk}))),i.length>0&&pt.createElement("div",{className:qi("qqdPrxSH",qk)},i.map(e=>pt.createElement(dg,{key:`${e.url}-${e.name}`,url:e.icon,alt:e.name,className:qi(zk,"rQOZaBwJ"),imageClassName:Kk})))))}),Yk=[],Gk="B18NDC8N",Qk="ws8erUzz",Xk=xo.Z2,Zk=[{name:"Fanzee Battles",manifestUrl:"https://battles-tg-app.fanz.ee/tc-manifest.json",originalUrl:"https://t.me/fanzeebattlesbot",replacementUrl:"https://t.me/battlescryptobot?start=myTonWallet"},{name:"Hamster Kombat",manifestUrl:"https://hamsterkombatgame.io/tonconnect-manifest.json",originalUrl:"https://hamsterkombatgame.io/",replacementUrl:"https://t.me/hamster_kombat_bot/start"},{name:"Dogs",manifestUrl:"https://cdn.onetime.dog/manifest.json",originalUrl:"https://onetime.dog",replacementUrl:"https://t.me/dogshouse_bot/join"},{name:"Earn",manifestUrl:"https://cdn.joincommunity.xyz/earn/manifest.json",originalUrl:"https://earncommunity.xyz",replacementUrl:"https://t.me/earn?startapp"}].reduce((e,t)=>{let{originalUrl:n,replacementUrl:a}=t;return e[n]=a,e},{}),Jk=ut(function(e){let{iconUrl:t,name:n,url:a,mode:o,isExternal:r}=e;const{updateDappLastOpenedAt:i}=$t(),s=Ki(),c=ri(async()=>{await Il(Zk[a]||a,{isExternal:r}),setTimeout(()=>{i({url:a})},Xk)});return pt.createElement("button",{type:"button",className:qi("uOCr1XIF","pill"===o?"x3JEisHt":"in10zDBl"),onClick:c},function(){const e="pill"===o?Gk:Qk,n=st(()=>pt.createElement("div",{className:qi(eE,"RGl7OFHd",e)},pt.createElement("i",{className:qi("JdTfrjba","icon-laptop"),"aria-hidden":!0})),[e]);return pt.createElement(dg,{url:t,className:e,imageClassName:"ZwXhUWQR",alt:s("Icon"),fallback:n})}(),pt.createElement("span",{className:"mqKHkpx5"},n))}),eC={rootSlide:"ZqS6W7iF",slide:"FbWMWVID",list:"eHKjqPA4",landscapeList:"ajulW8PQ",suggestionsMenu:"AcA4Inhz",suggestions:"Rr_OedMn",suggestion:"goh_kbKG",suggestionIcon:"BHtFAOhh",suggestionAddress:"hX1s9Ru4",clearSuggestion:"k4u3y6_t",item:"gSQkL6Gj",trendingImage:"bIf54cAx",imageWrapperScalable:"jnZY0Ppv",trending:"dsHH5C4L",badge:"PI6bQC1A",imageWrapper:"oZIOx6b0",infoWrapper:"SmLsrv__",extended:"Qe5qRpIb",withBorder:"yvQQOHrd",badgeLabel:"vHZqxLRV",image:"RpIwnHrh",title:"ToW8q6Vp",description:"kd6qUnJ8",titleIcon:"DfOPDzXh",emptyList:"OLtywBQ9",emptyListLoading:"i6uQ6HHm",searchWrapper:"VQJfovbk",searchContainer:"Wr0eK8xW",searchIcon:"DdYW9BBn",searchInput:"Gy204QbI",sectionHeader:"HElxzEtm",trendingSection:"bX0D8BEZ",trendingList:"bZc6NN6v"},tC=new Set(["https://checkin.mytonwallet.org"]),nC=ut(zt(e=>{const{dapps:t=Yk}=dn(e)||{},{dappLastOpenedDatesByUrl:n}=dn(e)||{};return{dapps:t,dappLastOpenedDatesByUrl:n}})(function(e){let{dapps:t,dappLastOpenedDatesByUrl:n}=e;const{openSettingsWithState:a,closeExplore:o}=$t(),i=Ki(),s=lt(),c=st(()=>{const e=t.slice().filter(e=>!tC.has(e.url)).map(e=>({...e,lastOpenedAt:null==n?void 0:n[e.url]})).sort(aC),a=new Set;return e.filter(e=>{let{url:t}=e;return!a.has(t)&&(a.add(t),!0)})},[n,t]),l=c.length>3?"tile":"pill",d="pill"===l,u=d?Gk:Qk,m=qi("nA5QFADu",d?"YTIqRcid":"y5gkmCay",!c.length&&"RcpQnS7j","dapps-feed");if($k({containerRef:s,isDisabled:r.TF||0===c.length,shouldPreventDefault:!0,contentSelector:".dapps-feed"}),c.length)return pt.createElement("div",{className:"_3Om0rcJ",ref:s},pt.createElement("h2",{className:eC.sectionHeader},i("Connected")),pt.createElement("div",{className:m},null==c?void 0:c.map(e=>function(e,t){const{iconUrl:n,name:a,url:o}=e,r=`dapp-${o}-${_m(e)}`;return pt.createElement(Jk,{key:r,iconUrl:n,name:a,url:o,mode:t,isExternal:!!e.sse})}(e,l)),!!c.length&&pt.createElement("div",{className:"kqZ8FwHA",role:"button",tabIndex:0,title:d?i("Settings"):void 0,"aria-label":d?i("Settings"):void 0,onClick:function(){o(void 0,{forceOnHeavyAnimation:!0}),a({state:uo.Dapps},{forceOnHeavyAnimation:!0})}},pt.createElement("div",{className:qi("S5zvywKS",u)},pt.createElement("i",{className:"icon-params","aria-hidden":!0})),!d&&pt.createElement("span",{className:"CDOOWV_8"},i("Settings")))))}));function aC(e,t){const n=e.lastOpenedAt||0,a=t.lastOpenedAt||0;return n!==a?a-n:t.connectedAt-e.connectedAt}const oC=e=>{const{className:t,href:n,children:a,onClick:o,clickArg:r,isDestructive:i}=e,s=ri(e=>{if(!o)return e.stopPropagation(),void e.preventDefault();o(e,r)}),c=ri(e=>{if("Enter"===e.code||"Space"===e.code)return o?void o(e):(e.stopPropagation(),void e.preventDefault())}),l=qi("eMFKmXs8",t,i&&"C84vY_ER");return n?pt.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:l},a):pt.createElement("div",{role:"button",tabIndex:0,className:l,onClick:s,onKeyDown:c},a)},rC=ut(function(e){let{site:{url:t,icon:n,name:a,description:o,isExternal:r,isVerified:i,extendedIcon:s,withBorder:c,badgeText:l},isTrending:d,isInList:u,className:m}=e;return pt.createElement("div",{className:qi(eC.item,s&&d&&eC.extended,d&&eC.trending,!u&&c&&eC.withBorder,m),tabIndex:0,role:"button",onClick:function(){Td(),Il(t,{isExternal:r,title:a,subtitle:di(t)})}},pt.createElement(dg,{url:s&&d?s:n,className:qi(eC.imageWrapper,!d&&eC.imageWrapperScalable),imageClassName:qi(eC.image,d&&eC.trendingImage)}),pt.createElement("div",{className:eC.infoWrapper},pt.createElement("b",{className:eC.title},a,!d&&gi(t)&&pt.createElement("i",{className:qi(eC.titleIcon,"icon-telegram-filled"),"aria-hidden":!0}),d&&i&&pt.createElement("i",{className:qi(eC.titleIcon,"icon-verification"),"aria-hidden":!0}),u&&l&&pt.createElement("div",{className:eC.badgeLabel},l)),pt.createElement("div",{className:eC.description},bi(o,["simple_markdown"]))),!u&&l&&pt.createElement("div",{className:eC.badge},l))}),iC=ut(function(e){var t,n;let{isSuggestionsVisible:a,searchSuggestions:o,searchValue:r,onSiteClick:i,onSiteClear:s,onClose:c}=e;const l=Ki();return pt.createElement(bv,{type:"suggestion",noBackdrop:!0,isOpen:Boolean(a&&!o.isEmpty),className:eC.suggestions,bubbleClassName:eC.suggestionsMenu,onClose:c},null==o||null===(t=o.history)||void 0===t?void 0:t.map(e=>pt.createElement(oC,{key:`history-${e}`,className:eC.suggestion,onClick:i,clickArg:e},pt.createElement("i",{className:qi(eC.suggestionIcon,r.length?"icon-search":"icon-globe"),"aria-hidden":!0}),pt.createElement("span",{className:eC.suggestionAddress},di(e)),pt.createElement("button",{className:eC.clearSuggestion,type:"button","aria-label":l("Clear"),title:l("Clear"),onMouseDown:t=>s(t,e),onClick:Yr},pt.createElement("i",{className:"icon-close","aria-hidden":!0})))),null==o||null===(n=o.sites)||void 0===n?void 0:n.map(e=>pt.createElement(rC,{key:`site-${e.url}-${e.name}`,className:eC.suggestion,site:e})))}),sC=ut(zt(e=>{var t;return{categories:null===(t=e.exploreData)||void 0===t?void 0:t.categories}})(function(e){let{id:t,withNotch:n,categories:a}=e;const{closeSiteCategory:o}=$t(),r=Ki(),{isPortrait:i}=xs(),s=st(()=>{var e;return null===(e=a||[])||void 0===e?void 0:e.find(e=>t===e.id)},[a,t]);return pt.createElement("div",{className:qi("xWsj5_Wk",i&&"with-notch-on-scroll",n&&"is-scrolled")},pt.createElement(dl,{className:"P2bhPLw0",isSimple:!0,isText:!0,onClick:o},pt.createElement("i",{className:qi("FmQAR1hK","icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,r("Back"))),pt.createElement("h3",{className:"kW1ssngj"},r((null==s?void 0:s.name)||"")))})),cC=ut(function(e){let{isActive:t,categoryId:n,sites:a}=e;const{closeSiteCategory:o}=$t(),{isPortrait:r}=xs();lc({isActive:t,onBack:o});const{handleScroll:i,isScrolled:s}=Pv();return pt.createElement("div",{onScroll:r?i:void 0,className:qi("LxPuuiTJ","custom-scroll")},r&&pt.createElement(sC,{id:n,withNotch:s}),pt.createElement("div",{className:"Eml6INN5"},a.map(e=>pt.createElement(rC,{key:`${e.url}-${e.name}`,site:e,isInList:!0}))))});var lC=function(e){return e[e.main=0]="main",e[e.category=1]="category",e}(lC||{});const dC=ut(zt(e=>{const{browserHistory:t,currentSiteCategoryId:n}=dn(e)||{},{categories:a,sites:o}=e.exploreData||{};return{sites:o,categories:a,shouldRestrict:e.restrictions.isLimitedRegion&&(r.ZH||r.xy),browserHistory:t,currentSiteCategoryId:n}})(function(e){let{isActive:t,categories:n,sites:o,shouldRestrict:i,browserHistory:s,currentSiteCategoryId:c,onScroll:l}=e;const{loadExploreSites:d,getDapps:u,removeSiteFromBrowserHistory:m,openSiteCategory:p,closeSiteCategory:f}=$t(),h=lt(),g=lt(void 0),v=lt(),y=lt(),w=Ki(),{isLandscape:b,isPortrait:E}=xs(),[k,C]=at(""),[N,S,A]=Np(!1),[I,T,B]=Np(!1),{renderingKey:x}=Ib(c||0,!!t),_=oi(Vk(x)),{disableSwipeToClose:L,enableSwipeToClose:D}=Wk(t),{handleScroll:O,isScrolled:M}=Pv();rt(()=>x?fv(f):void 0,[f,x]);const F=st(()=>function(e,t){if(e)return t?e.filter(e=>!e.canBeRestricted):e}(o,i),[o,i]),P=st(()=>function(e,t,n){const a=e.toLowerCase(),o=null==t?void 0:t.filter(e=>e.toLowerCase().includes(a)),r=a.length&&n?n.filter(e=>{let{url:t,name:n,description:o}=e;return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)||o.toLowerCase().includes(a)}):void 0;return{history:o,sites:r,isEmpty:((null==o?void 0:o.length)||0)+((null==r?void 0:r.length)||0)===0}}(k,s,F),[s,k,F]),{trendingSites:R,allSites:U}=st(()=>(F||[]).reduce((e,t)=>(t.isFeatured&&e.trendingSites.push(t),e.allSites[t.categoryId]||(e.allSites[t.categoryId]=[]),e.allSites[t.categoryId].push(t),e),{trendingSites:[],allSites:{}}),[F]);rt(()=>{if(r.TF&&null!=F&&F.length)return Fh(v.current,{onSwipeRightStart:()=>{f(),L()},onCancel:()=>{p({id:_.current}),D()}})},[L,D,null==F?void 0:F.length,_]),$k({containerRef:y,isDisabled:r.TF||0===R.length,shouldPreventDefault:!0,contentSelector:`.${eC.trendingList}`});const W=st(()=>null==n?void 0:n.filter(e=>{var t;return(null===(t=U[e.id])||void 0===t?void 0:t.length)>0}),[n,U]);rt(()=>{t&&(u(),d({isLandscape:b}))},[t,b]);const H=ri(()=>{P.isEmpty||(r.Ni?g.current=window.setTimeout(T,300):T())}),$=ri(()=>{I&&B(),window.clearTimeout(g.current)});Ds(e=>{let[t]=e;(t&&!N||P.isEmpty)&&$(),N&&!P.isEmpty&&H()},[N,P.isEmpty]);const V=ri((e,t)=>{Td(),B();const n=(r=t,null==(a=o)?void 0:a.find(e=>{let{url:t}=e;return t===r}));var a,r;Hk(t,null==n?void 0:n.isExternal,null==n?void 0:n.name)}),z=ri((e,t)=>{Yr(e),m({url:t})});function K(e){C(e.target.value)}const q=ri(()=>{var e;null===(e=h.current)||void 0===e||e.blur()});function j(e){Yr(e),q(),k.length>0&&(Hk(k),C(""))}function Y(e,t,n){switch(n){case lC.main:return pt.createElement("div",{className:qi(eC.slide,"custom-scroll"),onScroll:E?O:l},pt.createElement("div",{className:qi(eC.searchWrapper,"with-notch-on-scroll",M&&"is-scrolled")},pt.createElement("form",{action:"#",onSubmit:j,className:eC.searchContainer,autoComplete:"off"},pt.createElement("i",{className:qi(eC.searchIcon,"icon-search"),"aria-hidden":!0}),pt.createElement("input",{name:"explore-search",className:eC.searchInput,placeholder:w("Search or enter address"),value:k,autoCorrect:!1,autoCapitalize:"none",spellCheck:!1,inputMode:"url",onChange:K,onFocus:S,onBlur:A})),pt.createElement(iC,{isSuggestionsVisible:I,searchSuggestions:P,searchValue:k,onSiteClick:V,onSiteClear:z,onClose:q})),pt.createElement(nC,null),Boolean(R.length)&&pt.createElement("div",{ref:y,className:eC.trendingSection},pt.createElement("h2",{className:eC.sectionHeader},w("Trending")),pt.createElement("div",{className:eC.trendingList},R.map(e=>pt.createElement(rC,{key:`${e.url}-${e.name}`,site:e,isTrending:!0})))),Boolean(null==W?void 0:W.length)&&pt.createElement(pt.Fragment,null,pt.createElement("h2",{className:eC.sectionHeader},w("All Dapps")),pt.createElement("div",{className:qi(eC.list,b&&eC.landscapeList)},W.map(e=>pt.createElement(jk,{key:e.id,category:e,sites:U[e.id]})))));case lC.category:{const t=U[x];if(!t)return;return pt.createElement(cC,{key:x,isActive:e,categoryId:x,sites:t})}}}return void 0===F?pt.createElement("div",{className:qi(eC.emptyList,eC.emptyListLoading)},pt.createElement(kb,null)):0===F.length?pt.createElement("div",{className:eC.emptyList},pt.createElement(Nh,{play:t,tgsUrl:Qf.happy,previewUrl:Qf.happyPreview,size:a.igk,className:eC.sticker,noLoop:!1,nonInteractive:!0}),pt.createElement("p",{className:eC.emptyListTitle},w("No partners yet"))):pt.createElement(Qh,{ref:v,name:Ab(),activeKey:x?lC.category:lC.main,withSwipeControl:!0,className:eC.rootSlide},Y)}));let uC=!1;const mC=ut(zt(e=>{const{chain:t,hardwareWallets:n,isLoading:a}=e.hardware;return{chain:t,hardwareWallets:n,accounts:on(e),isLoading:a}})(function(e){let{isActive:t,isStatic:n,chain:i,hardwareWallets:s,accounts:c,isLoading:l,onBackButtonClick:d,onCancel:u,onClose:m}=e;const{afterSelectHardwareWallets:p,loadMoreHardwareWallets:f}=$t(),h=Ki(),g=ca(i).nativeToken,v=a.dby[g.slug],{renderedValue:y,vtnStyle:w}=function(e,t){const{transitionName:n,noSkipFirst:i=!1}=t||{},[s,c]=at(e),l=lt(!0),{startViewTransition:d,shouldApplyVtn:u}=function(){const e=lt(),[t,n]=at("idle");return rt(()=>{if("capturing-old"!==t)return;const r=document.startViewTransition(async()=>{n("capturing-new"),e.current&&await e.current();const t=new ep.A;return(0,we.Uz)(()=>{t.resolve()}),t.promise});r.finished.then(()=>{n("idle"),(0,we.RK)(()=>{document.body.classList.remove(a.VIF)}),uC=!1}).catch(e=>{(0,o.SJ)("useViewTransition finished error",e),n("skipped"),(0,we.RK)(()=>{document.body.classList.remove(a.VIF)}),uC=!1}),r.ready.then(()=>{n("animating")}).catch(e=>{(0,o.SJ)("useViewTransition ready error",e),n("skipped"),(0,we.RK)(()=>{document.body.classList.remove(a.VIF)}),uC=!1})},[t]),{shouldApplyVtn:"capturing-old"===t||"capturing-new"===t||"animating"===t,transitionState:t,startViewTransition:function(t){r.ir?(e.current=t,n("capturing-old"),(0,we.RK)(()=>{document.body.classList.add(a.VIF)}),uC=!0):t&&t()}}}(),m=ri(e=>{d(()=>c(e))});return rt(()=>{!l.current||(l.current=!1,i)?m(e):c(e)},[e,i]),{renderedValue:s,vtnStyle:u&&n?`view-transition-name: ${n}`:void 0}}(s,{transitionName:"acc-list"}),[b,E]=at([]),k=!u,C=Boolean(d);lc({isActive:t,onBack:u??m});const N=ri(e=>{E(t=>t.includes(e)?t.filter(t=>t!==e):t.concat([e]))}),S=ri(()=>{p({hardwareSelectedIndices:b}),m()}),A=st(()=>new Set(Object.values(c??[]).map(e=>{var t;return null===(t=e.byChain[i])||void 0===t?void 0:t.address}).filter(Boolean)),[c,i]),I=b.length?h("%1$d Selected",b.length):h("Select Ledger Wallets");return pt.createElement(pt.Fragment,null,n?pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:m,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,h("Back"))),pt.createElement("span",{className:zy.headerTitle},I)):pt.createElement(Cv,{title:I,onBackButtonClick:d,onClose:d?void 0:m}),pt.createElement("div",{className:qi(_b.container,n&&_b.containerStatic,n&&"static-container")},function(){const e=qi(_b.accounts,1===(y||[]).length&&_b.accounts_two,"custom-scroll");return pt.createElement("div",{className:e,style:w},(y||[]).map(e=>{let{wallet:{index:t,address:n},balance:a}=e;return function(e,t,n,a){const o=b.includes(n),r=(0,zn.nI)(t,g.decimals);return pt.createElement("div",{key:e,className:qi(_b.account,a&&_b.account_connected,o&&_b.account_current),onClick:a?void 0:()=>N(n)},pt.createElement("span",{className:_b.accountName},v?pt.createElement(pt.Fragment,null,pt.createElement("i",{className:qi(_b.accountCurrencyIcon,v),"aria-label":g.symbol}),Ai(r,"",3)):Ai(r,g.symbol,3)),pt.createElement("div",{className:_b.accountFooter},pt.createElement("span",{className:_b.accountAddress},qt(e,4,4))),pt.createElement("div",{className:qi(_b.accountCheckMark,(a||o)&&_b.accountCheckMark_active)}))}(n,a,t,A.has(n))}),pt.createElement(dl,{className:_b.addAccountContainer,onClick:l?void 0:f},h("Show More"),pt.createElement(Qh,{name:"fade",activeKey:l?1:0,slideClassName:_b.addAccountIconTransition},l?pt.createElement(cl,{isActive:!0,className:_b.addAccountLoading}):pt.createElement("i",{className:qi(_b.addAccountIcon,"icon-plus"),"aria-hidden":!0}))))}(),pt.createElement("div",{className:qi(_b.actionBlock,C?_b.actionBlockVertical:_b.actionBlockHorizontal)},pt.createElement(dl,{isPrimary:!0,isDisabled:0===b.length,onClick:S,className:qi(_b.button,_b.buttonFullWidth)},h("Add")),pt.createElement(dl,{className:qi(_b.button,C&&_b.buttonFullWidth),onClick:k?m:u},h(k?"Cancel":"Back")))))}));var pC=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(pC||{});const fC=ut(zt(e=>({areSettingsOpen:e.areSettingsOpen}))(function(e){let{isOpen:t,noBackdropClose:n,onClose:a,areSettingsOpen:o}=e;const[r,i]=at(pC.Connect),[s]=at(pC.SelectWallets),c=ri(()=>{i(pC.SelectWallets)}),l=ri(()=>{i(pC.Connect)});function d(e,t,n){switch(n){case pC.Connect:return pt.createElement(qb,{isActive:e,onConnected:c,onBackButtonClick:a,onClose:a});case pC.SelectWallets:return pt.createElement(mC,{isActive:e,onBackButtonClick:a,onClose:a})}}return pt.createElement(bl,{isOpen:t,hasCloseButton:!0,onClose:a,onCloseAnimationEnd:l,dialogClassName:qi(_b.modalDialog,o&&_b.modalDialogInsideSettings),noBackdropClose:n},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:r,nextKey:s},d))})),hC=document.querySelector('meta[name="viewport"]'),gC=(null==hC?void 0:hC.getAttribute("content"))||"",vC="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover",yC={root:"o0ZmVyIN",purple:"DJCb7ytz",tokenIcon:"O2XO33Bj",chainIcon:"UKA4ZfVj",green:"IHTEYaZx",twoIcons:"UD000onR",nftIcon:"kRGDvyHS",stacked:"gdAuuzmF",image:"Q3m3aAJ1",text:"LrHNEZly",bold:"GQC2YXcS",nftTitle:"BAWd380W",address:"gWbbue48"},wC=ut(function(e){let{tokenIn:t,imageUrl:n,text:a,withChainIcon:o,tokenOut:r,secondText:i,color:s,className:c}=e;const l=Ki(),d=qi(yC.root,s&&yC[s],r&&yC.twoIcons,c),u=!!n,m=st(()=>T(Array.isArray(n)?n:[n]),[n]);return pt.createElement("div",{className:d},t&&!u&&pt.createElement(YE,{token:t,withChainIcon:o,size:"small",className:yC.tokenIcon}),u&&pt.createElement("div",{className:qi(yC.nftIcon,Array.isArray(n)&&n.length>1&&yC.stacked)},m.map(e=>pt.createElement("img",{src:e,alt:"",key:e,className:yC.image})),o&&(null==t?void 0:t.chain)&&pt.createElement("img",{src:VE(t.chain),alt:"",className:yC.chainIcon,draggable:!1})),pt.createElement("span",{className:yC.text},i?a?l("%amount% to %address%",{amount:pt.createElement("span",{className:qi(yC.bold,u&&yC.nftTitle)},a),address:pt.createElement("span",{className:qi(yC.bold,yC.address)},i)}):l("$transaction_to",{address:pt.createElement("span",{className:yC.bold},i)}):pt.createElement("span",{className:yC.bold},a)),r&&pt.createElement(YE,{token:r,withChainIcon:o,size:"small",className:yC.tokenIcon}))}),bC="erx70q4_",EC="Jag9KEHr",kC="fVQ8S1pD",CC="Pne6FnQc",NC="eBKrZtom",SC="U6ZAbMe2",AC="pUMdj3j5",IC=ut(function(e){let{address:t,name:n,chain:a,isHardware:o,isSavedAddress:i,deleteLabel:s,onClick:c,onDeleteClick:l}=e;const d=()=>{c(t)},u=e=>{Yr(e),l(t)};return pt.createElement("div",{tabIndex:-1,role:"button",onMouseDown:r.TF?void 0:d,onClick:r.TF?d:void 0,className:"WI13wV5I"},pt.createElement("span",{className:"ZEsl45OR"},pt.createElement("span",{className:"HLnOPUyB"},n||qt(t)),o&&pt.createElement("i",{className:qi("bdYXzf2H","icon-ledger"),"aria-hidden":!0})),i&&l&&pt.createElement("span",{className:"ozjjQpYQ"},pt.createElement("span",{tabIndex:-1,role:"button",className:"UWDrZutz",onMouseDown:u},s)),n&&pt.createElement("span",{className:"sDGTQ4jr"},a&&pt.createElement("i",{className:qi("g2vfXFiv",`icon-chain-${a}`),"aria-hidden":!0}),qt(t)),i&&l&&pt.createElement("span",{className:"rO6SGoH9",role:"button",tabIndex:-1,onMouseDown:u,onClick:Yr,"aria-label":s},pt.createElement("i",{className:"icon-trash","aria-hidden":!0})))}),TC=ut(zt(e=>{const t=dn(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:Cn(e,e.currentAccountId),accounts:on(e)}})(function(e){let{isOpen:t,currentChain:n,currentAddress:o="",otherAccountIds:r,accounts:i,savedAddresses:s,isMultichainAccount:c,onAddressSelect:l,onSavedAddressDelete:d,onClose:u}=e;const m=Ki(),p=st(()=>{if(s&&0!==s.length)return s.filter(e=>(!n||e.chain===n)&&BC(e,o)).map(e=>pt.createElement(IC,{key:`saved-${e.address}-${e.chain}`,address:e.address,name:e.name,chain:c?e.chain:void 0,deleteLabel:m("Delete"),isSavedAddress:!0,onClick:l,onDeleteClick:d}))},[o,c,n,m,l,d,s]),f=st(()=>{if(!r||0===r.length)return;const e=(null==s?void 0:s.map(e=>`${e.chain}:${e.address}`))??[],t=new Set;return r.reduce((o,r)=>{const s=i[r];return Object.entries(s.byChain).forEach(r=>{let[i,{address:l}]=r;const d=`${i}:${l}`;!l||t.has(d)||n&&i!==n||!c&&i!==a.Tu9.chain||e.includes(`${i}:${l}`)||(t.add(d),o.push({name:s.title||qt(l),address:l,chain:i,isHardware:"hardware"===s.type}))}),o},[]).filter(e=>BC(e,o)).map(e=>{let{address:t,name:n,chain:a,isHardware:o}=e;return pt.createElement(IC,{key:`address-${t}-${a}`,address:t,name:n,chain:c?a:void 0,isHardware:o,onClick:l})})},[r,s,i,n,c,o,l]);if(Boolean((null==f?void 0:f.length)||(null==p?void 0:p.length)))return pt.createElement(bv,{positionX:"right",type:"suggestion",noBackdrop:!0,bubbleClassName:"keyC_8Hs",isOpen:t,onClose:u},p,f)}));function BC(e,t){const n=t.toLowerCase(),{address:a,name:o}=e;return a.toLowerCase().startsWith(n)||a.toLowerCase().endsWith(n)||o.toLowerCase().split(/\s+/).some(e=>e.startsWith(n))}const xC="vnQc1YiQ",_C="input-clear-button",LC=ut(function(e){let{ref:t,label:n,value:a,chain:o,isStatic:i,withQrScan:s,address:c,addressName:l,addressBookChain:d,accounts:u,currentAccountId:m,savedAddresses:p,validateAddress:f,error:h,onInput:g,onClose:v}=e;const{showNotification:y,requestOpenQrScanner:w}=$t(),b=Ki(),E=lt(),[k,C]=at(),[N,S]=at(),[A,I,T]=Np(),[B,x,_]=Np(),[L,D]=at(r.Et),O=uy(),M=wt("address-"),F=o?Fo(a,o):void 0,P=a.length>0&&!F?b("Incorrect address"):void 0,R=st(()=>u?Object.keys(u).filter(e=>e!==m):[],[m,u]),U=st(()=>R.length>0||p&&p.length>0,[R.length,p]),W=st(()=>o&&a?ek({address:a,chain:o,currentAccountId:m,savedAddresses:p,accounts:u}):void 0,[u,o,m,p,a]),H=L&&!a,$=s&&O,V=$||H||!!a.length;gt(()=>()=>{E.current&&window.clearTimeout(E.current)});const z=st(()=>{if(!c)return;const e=W||l,t=!e&&c.length>22?qt(c,11)||"":c;return pt.createElement(pt.Fragment,null,e&&pt.createElement("span",{className:"S1nUS2km"},e),pt.createElement("span",{className:qi("DdHkCftA",!e&&"m2Fe0uv6")},e?qt(c,4):t))},[c,W,l]),K=ri(async()=>{try{const{type:e,text:t}=await Dd();if("text/plain"===e){const e=t.trim();g(e,!0),j(e)}}catch(e){y({message:b("Error reading clipboard")}),D(!1)}}),q=ri(()=>{r.pz&&(0,r.v3)()?alert("Scanning is temporarily not available"):(w(),v())}),j=ri(e=>{f&&(e&&o&&Fo(e,o)||!e)&&f({address:e})}),Y=ri(()=>{x(),U&&(r.Ni?E.current=window.setTimeout(I,300):I())}),G=ri(e=>{var t;if(_(),(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)===_C)return X(),void j(a);let n=a;_o(a)&&a!==a.toLowerCase()?(n=a.toLowerCase().trim(),g(n)):a!==a.trim()&&(n=a.trim(),g(n)),requestAnimationFrame(()=>{X(),j(n)})}),Q=ri(()=>{g(""),j()}),X=ri(()=>{U&&A&&(T(),E.current&&window.clearTimeout(E.current))}),Z=ri(e=>{C(e),S(o),T()}),J=ri(()=>{C(void 0),S(void 0)}),ee=ri(e=>{g(e,!0),T()});return pt.createElement(pt.Fragment,null,pt.createElement(Ah,{id:M,ref:t,className:qi(i&&"Nrn6AoJg",V&&"K9Nd_zOE"),isRequired:!0,isStatic:i,label:n,placeholder:b("Wallet address or domain"),value:a,error:P||h,autoCorrect:!1,valueOverlay:P?void 0:z,onInput:g,onFocus:Y,onBlur:G},function(){const e=qi("L_5kIPIy",B&&"BJFtkvaJ");return pt.createElement(Qh,{className:"ayhHYxLn",activeKey:a.length?0:1,name:"fade"},a.length?pt.createElement("div",{className:e},pt.createElement(dl,{isSimple:!0,id:_C,className:qi(xC,"tl4TUzu3"),onClick:Q,ariaLabel:b("Clear")},pt.createElement("i",{className:"icon-close-filled","aria-hidden":!0}))):pt.createElement("div",{className:e},$&&pt.createElement(dl,{isSimple:!0,className:xC,onClick:q,ariaLabel:b("Scan QR Code")},pt.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),H&&pt.createElement(dl,{isSimple:!0,className:xC,onClick:K,ariaLabel:b("Paste")},pt.createElement("i",{className:"icon-paste","aria-hidden":!0}))))}()),U&&pt.createElement(pt.Fragment,null,pt.createElement(TC,{isOpen:A,currentChain:d,currentAddress:a,otherAccountIds:R,onAddressSelect:ee,onSavedAddressDelete:Z,onClose:T}),pt.createElement(vk,{isOpen:Boolean(k),address:k,chain:N,onClose:J})))}),DC="gRT6bZt3",OC="BrPVwQU4",MC="Ps7kqvix",FC="Dnc6lzH5",PC="W2G5uyVG",RC="hdNHgPt2",UC="jQftqhh0",WC="uM1QBU1t",HC=new Set([to.Password,to.ConnectHardware,to.ConfirmHardware]),$C=ut(zt(e=>{var t;const{currentDomainLinking:n,mediaViewer:{mediaId:a}}=e,o=sn(e),r=dn(e),{byAddress:i}=(null==r?void 0:r.nfts)||{},s=n.address?null==i?void 0:i[n.address]:void 0,c=s?qo(e,s):"";return{isMediaViewerOpen:Boolean(a),currentDomainLinking:n,byAddress:i,tonBalance:Gn(e),accounts:on(e),savedAddresses:null==r?void 0:r.savedAddresses,currentLinkedWalletAddress:c,currentTonAddress:null==o||null===(t=o.byChain.ton)||void 0===t?void 0:t.address}})(function(e){let{currentDomainLinking:{address:t,state:n,error:o,isLoading:r,realFee:i,walletAddress:s="",walletAddressName:c="",resolvedWalletAddress:l,txId:d},isMediaViewerOpen:u,byAddress:m,tonBalance:p,accounts:f,savedAddresses:h,currentTonAddress:g,currentLinkedWalletAddress:v}=e;const{startDomainLinking:y,cancelDomainLinking:w,clearDomainLinkingError:b,submitDomainLinking:E,checkDomainLinkingDraft:k,checkLinkingAddress:C,setDomainLinkingWalletAddress:N,showActivityInfo:S}=$t(),A=Ki(),I=n!==to.None&&!u,{renderingKey:T,nextKey:B}=Ib(n??0,I),x=t?null==m?void 0:m[t]:void 0,_=i?p<i:void 0,L=HC.has(T),D=st(()=>i?{native:i}:void 0,[i]),O=v?"Change Linked Wallet":"Link to Wallet",M=Fo(s,"ton"),F=ri(e=>{N({address:e})}),P=M&&s!==v&&!_&&!r;al(e=>{let[t]=e;!t&&I&&F(s||v||g)},[I,v,s,g]),rt(()=>{I&&k({nft:x})},[x,I]);const R=ri(e=>{P&&E({password:e})}),U=ri(()=>{P&&E()}),W=ri(()=>{w(),S({id:d})});function H(e,t,n){switch(n){case to.Initial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:A(O),onClose:w}),pt.createElement("div",{className:ml.transitionContent},pt.createElement("div",{className:FC},pt.createElement(fk,{nft:x,withMediaViewer:!0}),pt.createElement(LC,{withQrScan:!0,value:s,currentAccountId:"",addressBookChain:"ton",chain:"ton",accounts:f,savedAddresses:h,validateAddress:C,label:A(v?"Linked Wallet":"Wallet"),address:l||s,addressName:c,onInput:F,onClose:w})),pt.createElement(Lk,{terms:D,token:a.Tu9,precision:"exact"}),pt.createElement("div",{className:qi(ml.buttons,PC)},pt.createElement(dl,{isPrimary:!0,isDestructive:_,isDisabled:!P,isLoading:!i||r,className:RC,onClick:y},A(_?"Insufficient Balance":"Link")))));case to.Password:return function(e){return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:A("Confirm Linking"),onClose:w}),pt.createElement(ig,{isActive:e,error:o,isLoading:r,submitLabel:A("Confirm"),cancelLabel:A("Cancel"),onSubmit:R,onCancel:w,onUpdate:b,skipAuthScreen:!0},pt.createElement(wC,{imageUrl:null==x?void 0:x.thumbnail,text:(null==x?void 0:x.name)??"1 domain",className:Cd()?void 0:MC})))}(e);case to.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:U,onClose:w});case to.ConfirmHardware:return pt.createElement(Db,{text:A("Please confirm transaction on your Ledger"),error:o,onClose:w,onTryAgain:U});case to.Complete:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:A("Domain has been linked!"),onClose:w}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{play:e,noLoop:!1,nonInteractive:!0,className:OC,tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),pt.createElement(fk,{nft:x,withMediaViewer:!0}),!!d&&pt.createElement("div",{className:qi(UC,WC)},pt.createElement(dl,{onClick:W},A("Details"))),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{className:RC,onClick:w,isPrimary:!0},A("Close")))))}(e)}}return pt.createElement(bl,{isOpen:I,nativeBottomSheetKey:"link-domain",forceFullNative:L,dialogClassName:DC,onClose:w},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:T,nextKey:B},H))})),VC=ut(function(e){let{nfts:t,isStatic:n,className:a}=e;const o=Ki(),[r,,i]=Np(!0),s=r&&t.length>11,c=st(()=>s?t.slice(0,10):t,[s,t]);return pt.createElement("div",{className:qi("OW45fd9i",n&&"h6wiRr_r","custom-scroll",a)},c.map(function(e){return pt.createElement("div",{key:e.address,className:"HmnTdlh8"},pt.createElement("img",{src:e.thumbnail,alt:e.name,className:"H3EA9Tak"}),pt.createElement("span",{className:"_gZbYTeY"},e.name||e.address))}),s&&pt.createElement("button",{type:"button",className:"T7bQHi3K",onClick:()=>i()},"+",o("%amount% NFTs",{amount:t.length-10})))}),zC=new Set([eo.Password,eo.ConnectHardware,eo.ConfirmHardware]),KC=ut(zt(e=>{var t;const{currentDomainRenewal:n,mediaViewer:{mediaId:a}}=e,{byAddress:o}=(null===(t=dn(e))||void 0===t?void 0:t.nfts)||{};return{isMediaViewerOpen:Boolean(a),currentDomainRenewal:n,byAddress:o,tonBalance:Gn(e)}})(function(e){let{currentDomainRenewal:{addresses:t,state:n,error:o,isLoading:r,realFee:i,txId:s},isMediaViewerOpen:c,byAddress:l,tonBalance:d}=e;const{startDomainsRenewal:u,cancelDomainsRenewal:m,clearDomainsRenewalError:p,submitDomainsRenewal:f,checkDomainsRenewalDraft:h,showActivityInfo:g}=$t(),v=Ki(),y=ft(),w=n!==eo.None&&!c,{renderingKey:b,nextKey:E}=Ib(n??0,w),k=st(()=>(t||[]).map(e=>null==l?void 0:l[e]).filter(Boolean),[t,l]),C=i?d<i:void 0,N=zC.has(b),S=st(()=>i?{native:i}:void 0,[i]),A=Date.now()+xo.UX,I=st(()=>k.map(e=>null==e?void 0:e.thumbnail).filter(Boolean).slice(0,3),[k]);xv(y,w?xo.pY:void 0,!0),rt(()=>{w&&h({nfts:k})},[k,w]);const T=ri(e=>{f({password:e})}),B=ri(()=>{f()}),x=ri(()=>{m(),g({id:s})});function _(e,n,c){switch(c){case eo.Initial:return pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(ml.header,ml.header_wideContent)},pt.createElement("div",{className:qi(ml.title,"cmL5TjIH")},pt.createElement("div",{className:"NtG0ddPE"},v(t&&t.length>1?"Renew Domains":"Renew Domain")),!!A&&pt.createElement("div",{className:"u4jvqiGf"},v("Until %date%",{date:[(0,xo.TK)(v.code,A),(0,xo.fU)(A)].join(", ")}))),pt.createElement(dl,{isRound:!0,className:ml.closeButton,ariaLabel:v("Close"),onClick:m},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0}))),pt.createElement("div",{className:ml.transitionContent},pt.createElement("div",{className:FC},1===k.length&&pt.createElement(fk,{nft:k[0],withMediaViewer:!0}),k.length>1&&pt.createElement(VC,{nfts:k,className:"p6JeJnTy"})),pt.createElement(Lk,{terms:S,token:a.Tu9,precision:"exact"}),pt.createElement("div",{className:qi(ml.buttons,PC)},pt.createElement(dl,{isPrimary:!0,isDestructive:C,isDisabled:C,isLoading:!i||r,className:RC,onClick:u},C?v("Insufficient Balance"):k.length>1?v("Renew All"):v("Renew")))));case eo.Password:return function(e){var t,n;return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:v("Confirm Renewing"),onClose:m}),pt.createElement(ig,{isActive:e,error:o,isLoading:r,submitLabel:v("Confirm"),cancelLabel:v("Cancel"),onSubmit:T,onCancel:m,onUpdate:p,skipAuthScreen:!0},pt.createElement(wC,{imageUrl:I,text:1===k.length&&Boolean(null===(t=k[0])||void 0===t?void 0:t.name)?null===(n=k[0])||void 0===n?void 0:n.name:v("$domains_amount %1$d",k.length,"i"),className:Cd()?void 0:MC})))}(e);case eo.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:B,onClose:m});case eo.ConfirmHardware:return pt.createElement(Db,{text:v("Please confirm transaction on your Ledger"),error:o,onClose:m,onTryAgain:B});case eo.Complete:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:k.length>1?v("Domains have been renewed!"):v("Domain has been renewed!"),onClose:m}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{play:e,noLoop:!1,nonInteractive:!0,className:OC,tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),pt.createElement("div",{className:FC},1===k.length&&pt.createElement(fk,{nft:k[0],withMediaViewer:!0}),k.length>1&&pt.createElement(VC,{nfts:k}),1===k.length&&!!s&&pt.createElement("div",{className:qi(UC,WC)},pt.createElement(dl,{onClick:x},v("Details")))),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:m,isPrimary:!0},v("Close")))))}(e)}}return pt.createElement(bl,{isOpen:w,nativeBottomSheetKey:"renew-domain",forceFullNative:N,dialogClassName:DC,onClose:m},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:b,nextKey:E},_))})),qC=ut(function(e){let{token:t,className:n,noChainIcon:a,onClick:o}=e;const{transitionRef:i}=function(e){const t=lt();return it(()=>{if(!t.current||!e)return;const n=`${e.symbol.length*YC/r.$+jC}rem`;Gc(t.current,{minWidth:n})},[e]),{transitionRef:t}}(t),s=lt(0);return yt(()=>{s.current++},[`${null==t?void 0:t.symbol}_${null==t?void 0:t.chain}`]),c=t,pt.createElement(Qh,{ref:i,name:"fade",activeKey:s.current,className:qi("ZSZY1phv",n),slideClassName:"vCCqOvOq"},pt.createElement("button",{type:"button",className:"XIxoy7tw",onClick:function(e){Yr(e),o()}},c&&pt.createElement(YE,{token:c,withChainIcon:!a,size:"middle",className:"SS8KpgmL"}),pt.createElement("div",{className:"ISsYr_9r"},pt.createElement("span",null,null==c?void 0:c.symbol),pt.createElement("i",{className:qi("icon-chevron-right","D_7DrGaN"),"aria-hidden":!0}))));var c}),jC=70/r.$,YC=10,GC={binance_smart_chain:"Binance Smart Chain",internet_computer:"Internet Computer",ethereum_classic:"Ethereum Classic",bitcoin_cash:"Bitcoin Cash",binance_dex:"Binance Dex",ton:"TON",bitcoin:"Bitcoin",ethereum:"Ethereum",solana:"Solana",tron:"TRON",stellar:"Stellar",doge:"DOGE",eos:"EOS",avalanche:"Avalanche",cardano:"Cardano",monero:"Monero",dash:"Dash",ripple:"Ripple",cosmos:"Cosmos",litecoin:"Litecoin",zcash:"Zcash",polkadot:"Polkadot",iota:"IOTA"};function QC(e){return e?GC[e]??e:""}const XC={tokenSelectInputWrapper:"oCuiJXQ_",tokenSelectSearchIcon:"zftr1vD0",tokenSelectSearchResetWrapper:"Ss4Pd7B2",tokenSelectSearchReset:"oDrN01CP",tokenSelectSearchResetIcon:"ok_5nHql",tokenSelectInput:"fDjHi6pe",tokenSelectContent:"LodBlyss",tokenGroupContainer:"MbjJDq0G",tokenGroupHeader:"RpUAt2yS",tokenGroupTitle:"WhzSaV_6",tokenGroupAdditionalTitle:"FdHSpaSV",tokenContainer:"eUkSUO8W",tokenContainerDisabled:"tHJSsGRH",tokenLogoContainer:"nsViIoST",logoContainer:"adBlSlrG",tokenLogoSkeleton:"cGf45x9B",tokenLogoSymbol:"PSK73bRe",tokenLogo:"xiUmZwCy",tokenLogoDisabled:"OwvlXRrn",tokenNetworkLogoSkeleton:"MO1xaZfl",nameContainer:"ZPTo397c",tokenPriceContainer:"qGxMTfbW",tokenName:"Wgp2h4bc",tokenAmount:"QWmp5WQP",tokenNetwork:"gBNLwjjP",tokenValue:"S1V0VVx3",tokenNameSkeleton:"GkqdgXVp",tokenValueSkeleton:"AhEbK2G0",tokenNotFound:"zp0dyh68",tokenNotFoundTitle:"R7aa_jfY",tokenNotFoundDesc:"XlzS0_qG",tokenTextDisabled:"lotwVvdo"};var ZC=function(e){return e[e.Initial=0]="Initial",e[e.Search=1]="Search",e[e.Loading=2]="Loading",e[e.TokenByAddress=3]="TokenByAddress",e[e.Empty=4]="Empty",e}(ZC||{});const JC=[],eN={},tN=ut(zt(e=>{var t,n;const{baseCurrency:a,isSensitiveDataHidden:o}=e.settings,{isLoading:r,token:i}=e.settings.importToken??{},{tokenInSlug:s,shouldShowAllPairs:c}=e.currentSwap??{},l=null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug,d=function(e){var t;const n=null===(t=dn(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!n||!e.tokenInfo||!e.swapTokenInfo)return;const a=pn(e)??{},{areTokensWithNoCostHidden:o,isSortByValueEnabled:r}=e.settings;return bo(e.currentAccountId)(n,e.tokenInfo,e.swapTokenInfo,a,e.settings.baseCurrency,e.currencyRates,r,o)}(e),u=function(e){var t;const n=null===(t=dn(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return yo(e.currentAccountId)(n,e.swapTokenInfo,e.settings.baseCurrency,e.currencyRates)}(e);return{baseCurrency:a,isLoading:r,token:i,pairsBySlug:l,shouldShowAllPairs:c,tokenInSlug:s,userTokens:d,popularTokens:u,swapTokens:Eo(e),isMultichain:Cn(e,e.currentAccountId),availableChains:null===(n=sn(e))||void 0===n?void 0:n.byChain,isSensitiveDataHidden:o}})(function(e){let{token:t,userTokens:n=JC,swapTokens:o=JC,popularTokens:r=JC,header:i,shouldFilter:s,shouldUseSwapTokens:c,baseCurrency:l,tokenInSlug:d,pairsBySlug:u,shouldShowAllPairs:m,isActive:p,isLoading:f,shouldHideMyTokens:h,shouldHideNotSupportedTokens:g=!1,isMultichain:v,availableChains:y=eN,selectedChain:w,isSensitiveDataHidden:b,onTokenSelect:E,onBack:k,onClose:C}=e;const{importToken:N,resetImportToken:S,openSettingsWithState:A}=$t(),I=Ki(),T=xi(l),B=lt(),x=lt();lc({isActive:p,onBack:k}),rt(()=>{if(p)return ls(),ds},[p]),Xf(x,!p);const{handleScroll:_}=Pv(),[L,D]=at(""),[O,M]=at(!1),[F,P]=at(ZC.Initial),[R,U]=at([]),W=st(()=>w&&new Set(Array.isArray(w)?w:[w]),[w]),H=ct(e=>function(e,t,n,a,o){return e.length&&n?e.map(e=>{let r;if(o)r=!0;else{var i;const o=null==a||null===(i=a[n])||void 0===i?void 0:i[e.slug];r=Boolean(t?o:o&&!o.isMultichain)}return{...e,canSwap:r}}).sort((e,t)=>Number(t.canSwap)-Number(e.canSwap)):[]}(e,v,d,u,m),[u,d,v,m]),$=st(()=>aN(n,g,y,W),[n,g,y,W]),V=st(()=>aN(o,g,y,W),[o,g,y,W]),z=st(()=>aN(r,g,y,W),[r,g,y,W]),{userTokensWithFilter:K,popularTokensWithFilter:q,swapTokensWithFilter:j}=st(()=>s?{userTokensWithFilter:H($),popularTokensWithFilter:H(z),swapTokensWithFilter:H(o)}:{userTokensWithFilter:$,popularTokensWithFilter:z,swapTokensWithFilter:o},[H,z,s,o,$]),Y=st(()=>{const e=c?j:V,t=L.toLowerCase(),n=t.trim();if(t.length&&!n.length)return[];const o=e.filter(e=>{let{name:t,symbol:a,keywords:o,isDisabled:r}=e;if(r)return!1;const i=t.toLowerCase().includes(n),s=a.toLowerCase().includes(n),c=null==o?void 0:o.some(e=>e.toLowerCase().includes(n));return i||s||c})??[],r=o.reduce((e,t)=>{const o={tickerExactMatch:0,tickerMatchLength:0,nameMatchLength:0,specialOrder:0},r=t.symbol.toLowerCase(),i=t.name.toLowerCase();return r===n&&(o.tickerExactMatch=1),r.includes(n)&&(o.tickerMatchLength=n.length),i.includes(n)&&(o.nameMatchLength=n.length),t.slug!==a.iLw&&t.slug!==a.RB||(o.specialOrder=2),t.slug!==a.QSz&&t.slug!==a.vsz||(o.specialOrder=1),e[t.slug]=o,e},{});return o.sort((e,t)=>{const n=function(e,t){return e.specialOrder!==t.specialOrder?t.specialOrder-e.specialOrder:e.tickerExactMatch!==t.tickerExactMatch?t.tickerExactMatch-e.tickerExactMatch:e.tickerMatchLength!==t.tickerMatchLength?t.tickerMatchLength-e.tickerMatchLength:t.nameMatchLength-e.nameMatchLength}(r[e.slug],r[t.slug]);return 0!==n?n:Number(t.amount-e.amount)})},[V,c,L,j]),G=()=>{D("")};yt(()=>{M(Boolean(L.length));const e=Fo(L,"ton");let n=ZC.Initial;f&&e?n=ZC.Loading:t&&e?n=ZC.TokenByAddress:L.length&&0!==Y.length?n=ZC.Search:0===Y.length&&(n=ZC.Empty),P(n),n!==ZC.Initial&&U(Y)},[R.length,f,L,t,Y]),rt(()=>{"ton"in y&&Fo(L,"ton")?(N({address:L,isSwap:!0}),P(ZC.Loading)):S()},[L,y]),it(()=>{p&&B.current&&(B.current.scrollTop=0)},[p]);const Q=ri(e=>{var t;null===(t=x.current)||void 0===t||t.blur(),E(e),G(),k()}),X=ri(()=>{C(),A({state:uo.Assets})});function Z(e){const t=Boolean(!s||e.canSwap),n=(v||!!c)&&(!W||W.size>1),a=t?QC(e.chain):I("Unavailable"),o=0===e.price?I("No Price"):Ai(e.price,T,void 0,!0);return pt.createElement(nN,{key:e.slug,isAvailable:t,isSensitiveDataHidden:b,withChainIcon:n,descriptionText:a,token:e,tokenPrice:o,onSelect:Q})}function J(e,t,n){return pt.createElement("div",{className:XC.tokenGroupContainer},pt.createElement("div",{className:XC.tokenGroupHeader},pt.createElement("span",{className:XC.tokenGroupTitle},t),n&&pt.createElement("span",{className:XC.tokenGroupAdditionalTitle,onClick:X},I("Settings"))),e.map(Z))}function ee(){return pt.createElement("div",{className:qi(XC.tokenContainer,XC.tokenContainerDisabled)},pt.createElement("div",{className:XC.tokenLogoContainer},pt.createElement("div",{className:XC.logoContainer},pt.createElement("div",{className:XC.tokenLogoSkeleton}),pt.createElement("div",{className:XC.tokenNetworkLogoSkeleton})),pt.createElement("div",{className:XC.nameContainer},pt.createElement("span",{className:XC.tokenNameSkeleton}),pt.createElement("span",{className:XC.tokenValueSkeleton}))),pt.createElement("div",{className:XC.tokenPriceContainer},pt.createElement("span",{className:qi(XC.tokenNameSkeleton,XC.rotateSkeleton)}),pt.createElement("span",{className:XC.tokenValueSkeleton})))}function te(e){return e?pt.createElement("div",{className:XC.tokenGroupContainer},Z(e)):pt.createElement(pt.Fragment,null,ee(),ee(),ee(),ee(),ee())}function ne(e,n,o){switch(o){case ZC.Initial:return pt.createElement(pt.Fragment,null,!h&&J(K,I("MY"),!0),J(q,I("🪙 Popular token ton trc20 network")));case ZC.Loading:return te();case ZC.Search:return pt.createElement("div",{className:XC.tokenGroupContainer},R.map(Z));case ZC.TokenByAddress:return te(t);case ZC.Empty:return pt.createElement("div",{className:XC.tokenNotFound},pt.createElement(Nh,{play:e,tgsUrl:Qf.noData,previewUrl:Qf.noDataPreview,size:a.lWW,noLoop:!1,nonInteractive:!0}),pt.createElement("span",{className:XC.tokenNotFoundTitle},I("Not Found")),pt.createElement("span",{className:XC.tokenNotFoundDesc},I("Try another keyword or address.")))}}return pt.createElement(pt.Fragment,null,i||pt.createElement(Cv,{title:I("Select Token"),onBackButtonClick:k,onClose:C}),pt.createElement("div",{className:XC.tokenSelectInputWrapper},pt.createElement("i",{className:qi(XC.tokenSelectSearchIcon,"icon-search"),"aria-hidden":!0}),pt.createElement("input",{ref:x,name:"token-search-modal",className:XC.tokenSelectInput,onChange:e=>D(e.target.value),placeholder:I("Name or Address..."),value:L}),pt.createElement(Qh,{name:"fade",activeKey:O?0:1,className:XC.tokenSelectSearchResetWrapper},O&&pt.createElement("button",{type:"button",className:XC.tokenSelectSearchReset,"aria-label":I("Clear"),onClick:G},pt.createElement("i",{className:qi(XC.tokenSelectSearchResetIcon,"icon-close"),"aria-hidden":!0})))),pt.createElement("div",{ref:B,className:qi(XC.tokenSelectContent,"custom-scroll"),onScroll:_},pt.createElement(Qh,{name:"fade",activeKey:F},ne)))}));function nN(e){let{token:t,isAvailable:n,isSensitiveDataHidden:a,withChainIcon:o,descriptionText:r,tokenPrice:i,onSelect:s}=e;const c=n?()=>s(t):void 0,l=st(()=>LE(4,10,t.slug),[t.slug]);return pt.createElement("div",{className:qi(XC.tokenContainer,!n&&XC.tokenContainerDisabled),onClick:c},pt.createElement("div",{className:XC.tokenLogoContainer},pt.createElement(YE,{token:t,withChainIcon:o,className:qi(XC.tokenLogo,!n&&XC.tokenLogoDisabled)}),pt.createElement("div",{className:XC.nameContainer},pt.createElement("span",{className:qi(XC.tokenName,!n&&XC.tokenTextDisabled)},t.name),pt.createElement("span",{className:qi(XC.tokenNetwork,!n&&XC.tokenTextDisabled)},r))),pt.createElement("div",{className:XC.tokenPriceContainer},pt.createElement(Jv,{isActive:a,cols:l,rows:2,cellSize:8,align:"right",className:qi(XC.tokenAmount,!n&&XC.tokenTextDisabled)},Ai((0,zn.nI)(t.amount,null==t?void 0:t.decimals),t.symbol)),pt.createElement("span",{className:qi(XC.tokenValue,!n&&XC.tokenTextDisabled)},i)))}function aN(e,t,n,a){return t||a?e.filter(e=>(!t||e.chain in n)&&(!a||a.has(e.chain))):e}function oN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.I04,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e=rN(e),t=rN(t),n=rN(n),!e)return"";const i=e.includes("."),[s="0",c]=i?e.split("."):[e],l=r?s.replace(/\d(?=(\d{3})+($|\.))/g,`$&${a.MS3}`):s,d=i?`.${(c||"").substring(0,o)}`:"",u=n?`&thinsp;${n}`:"";return`${t}${l}${d||u?`<span class="${Sh.fractional}">${d}${u}</span>`:""}`}function rN(e){const t=document.createElement("span");return t.textContent=e,t.innerHTML}const iN=function(e,t){const n=lt(!1),a=lt(document.createElement("div"));return{updateFontScale:ri(()=>{const o=e.current;(0,ji.bo)(()=>{if(null==o||!o.offsetParent)return;let{clientWidth:e}=t?o.parentElement:o;if(t){const{paddingLeft:t,paddingRight:n}=getComputedStyle(o);e-=parseFloat(t)+parseFloat(n)}a.current.className=qi(o.className,"measure-hidden"),a.current.style.width=`${e}px`,a.current.innerHTML="",a.current.append(...o.cloneNode(!0).childNodes),document.body.appendChild(a.current);let r=1;for(;r>.25&&(a.current.style.setProperty("--font-size-scale",r.toString()),!(a.current.scrollWidth<=e));)r-=.05;n.current=r<1,document.body.removeChild(a.current),a.current.className="",o.style.setProperty("--font-size-scale",r.toString())})}),isFontChangedRef:n}};function sN(e){return e?e.trim().replace(",",".").replace(/[^\d.]/g,"").replace(/^0+(?=([1-9]|0\.))/,"").replace(/^0+$/,"0")??"":""}const cN=ut(function(e){let{id:t,labelText:n,hasError:o,isLoading:r=!1,prefix:i="",suffix:s="",value:c,children:l,className:d,inputClassName:u,labelClassName:m,valueClassName:p,cornerClassName:f,onChange:h,onBlur:g,onFocus:v,onPressEnter:y,onInputClick:w,decimals:b=a.I04,disabled:E=!1,isStatic:k=!1,size:C="large"}=e;const N=lt(),S=lt(),A=Ki(),[I,T,B]=Np(!1),{updateFontScale:x,isFontChangedRef:_}=iN(N),L=lt(""),D=ri(e=>{const t=N.current,n=oN(e,i,s,b);if(S.current.innerHTML=e?"":oN("0",i,s),n!==t.innerHTML){const e=document.activeElement===t?function(e,t,n){var a;const o=window.getSelection();if(!o||0===o.rangeCount)return;const r=o.getRangeAt(0);r.setStart(e,0);const i=r.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${n}})?)`)),s=t+((null==i||null===(a=i[0])||void 0===a?void 0:a.length)||r.toString().length||0);return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT,a=document.createTreeWalker(e,n,e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT),o=a.nextNode()??a.currentNode;return{node:o,position:Math.min(t,o.textContent.length)}}(e,s);o.removeAllRanges();const a=new Range;a.setStart(t,n),a.setEnd(t,n),o.addRange(a)}catch(e){}}}(t,i.length,b):void 0;t.innerHTML=n,null==e||e()}(`${i}${e}${s}`.length>5||_.current)&&x()});it(()=>{const e=sN(c);e&&L.current.startsWith(e)||(D(e),L.current=e)},[L,c]),it(()=>{D(L.current)},[i,s,b]);const O=ri(()=>{E||(T(),null==v||v())}),M=ri(()=>{E||(B(),null==g||g())}),F=qi(Sh.input__wrapper,k&&Sh.inputWrapperStatic,o&&Sh.error,I&&Sh.input__wrapper_hasFocus,u),P=qi(Sh.input,"large"===C&&Sh.large,p,E&&Sh.disabled,r&&Sh.isLoading,"rounded-font"),R=qi(Sh.label,o&&Sh.error,m),U=qi(f,I&&Sh.swapCorner,o&&Sh.swapCorner_error);return pt.createElement("div",{className:qi(Sh.wrapper,d)},Boolean(n)&&pt.createElement("label",{className:R,htmlFor:t,id:`${t}Label`},n),pt.createElement("div",{className:F},pt.createElement("div",{className:Sh.rich},pt.createElement("div",{ref:N,contentEditable:!E&&!r,id:t,role:"textbox","aria-required":!0,"aria-placeholder":A("Amount value"),"aria-labelledby":n?`${t}Label`:void 0,tabIndex:0,inputMode:"decimal",className:qi(P,Sh.rich__value),onKeyDown:e=>{"Enter"===e.key&&(null==y||y(e))},onChange:function(e){const t=sN(e.currentTarget.textContent??void 0);var n;D(t),t!==L.current&&(L.current=t,h&&(n=t,!Number.isNaN(Number(n)))&&h(t))},onFocus:O,onBlur:M,onClick:w}),pt.createElement("div",{ref:S,className:qi(P,Sh.rich__placeholder)})),l),f&&pt.createElement("div",{className:U}))});function lN(e){const t=document.getElementById(e),n=window.getSelection();if(!t||!n)return;const a=document.createRange();a.selectNodeContents(t),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}const dN={modalDialog:"pOo4Z_aH",iosModalDialog:"q6jp1iyp",contentWrapper:"jvZQQwjc",content:"SRNIOpBE",contentTitle:"GKe6CMiw",contentTitleQr:"FleNuH6I",contentTitleLedger:"uEJfLLFI",contentTitleLedgerStatic:"zolk8bhu",tabsInModal:"kxmoYeWl",receiveHeader:"k3MxFquM",receiveHeaderNoTabs:"RJOW3R8W",contentStatic:"CDl3KL71",tabs:"Bq7mtmdH",tabsOverlay:"dsNYuIgk",ton:"NXOAmkcT",tron:"sWqocCYZ",tab:"YpO46ybD",qrCode:"Bol24ap4",qrCodeStatic:"VkwtgLpL",qrCodeHidden:"yC4eGg0t",labelForInvoice:"ykqIpMy7",addressWrapper:"aUXplGt1",copyButtonStatic:"EbsE8cY6",tokenButton:"vgInBvx7",invoiceComment:"U6Z9qzVb",dottedLink:"xzGjTX1X",actionButtons:"QxrwhhFf",actionButton:"ARg65twE"};var uN=function(e){return e[e.Initial=0]="Initial",e[e.Selector=1]="Selector",e}(uN||{});const mN=ut(zt(e=>{var t;const n=sn(e),{invoiceTokenSlug:a}=dn(e)||{};return{isOpen:e.isInvoiceModalOpen,tokenSlug:a,tokensBySlug:null===(t=e.tokenInfo)||void 0===t?void 0:t.bySlug,byChain:null==n?void 0:n.byChain}})(function(e){var t;let{byChain:n,tokenSlug:o,tokensBySlug:r,isOpen:i}=e;const{changeInvoiceToken:s,closeInvoiceModal:c}=$t(),l=o?wa(o):a.GKQ,{isTransferCommentSupported:d,nativeToken:u,formatTransferUrl:m}=ca(l),p=o&&(null==r?void 0:r[o])||u,f=null==n||null===(t=n[l])||void 0===t?void 0:t.address,h=Ki(),[g,v,y]=Np(!1),[w,b]=at(void 0),[E,k]=at(""),C=st(()=>n?Object.keys(n).filter(e=>ca(e).formatTransferUrl):[],[n]),N=w?(0,zn.UH)(w,p.decimals):0n,S="tokenAddress"in p?null==p?void 0:p.tokenAddress:void 0,A=f&&m?m(f,N,E,S):"",I=ri(e=>{s({tokenSlug:e.slug})});function T(e,t,n){switch(n){case uN.Initial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:h("Deposit Link"),onClose:c}),pt.createElement("div",{className:dN.content},pt.createElement("div",{className:dN.contentTitle},bi(h("$receive_invoice_description"))),pt.createElement(cN,{key:"amount",id:"amount",value:w,labelText:h("Amount"),onChange:b},pt.createElement(qC,{noChainIcon:C.length<=1,token:p,className:dN.tokenButton,onClick:v})),d&&pt.createElement(Ah,{value:E,label:h("Comment"),placeholder:h("Optional"),wrapperClassName:dN.invoiceComment,onInput:k}),pt.createElement("p",{className:dN.labelForInvoice},h("Share this URL to receive %token%",{token:null==p?void 0:p.symbol})),pt.createElement(Ck,{text:A,addressUrl:a.UMQ?A:void 0,noExplorer:!0,withShareInMenu:a.UMQ,copyNotification:h("Invoice link was copied!"),className:dN.invoiceLinkField})));case uN.Selector:return pt.createElement(tN,{isActive:e,shouldHideNotSupportedTokens:!0,selectedChain:C,onTokenSelect:I,onBack:y,onClose:c})}}return pt.createElement(bl,{isOpen:i,dialogClassName:dN.modalDialog,nativeBottomSheetKey:"invoice",onClose:c,onCloseAnimationEnd:y},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:g?uN.Selector:uN.Initial,nextKey:g?uN.Initial:uN.Selector},T))})),pN=new Map,fN=function(e){let{isActive:t,icon:n,title:a,menuItems:o,className:r,onClick:i,clickArg:s,onMenuItemClick:c,onActiveClick:l}=e;const d=lt(),u=lt(),[m,p]=at(),f=Boolean(null==o?void 0:o.length),h=Boolean(m),g=ri(()=>u.current),v=ri(()=>document.body),y=ri(()=>d.current),w=ri(()=>({withPortal:!0})),b=ri(()=>p(void 0)),E=ri(()=>{if(!t||f)if(t)if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}else i(s);else null==l||l()});return pt.createElement("div",{className:qi("D6as8ltx",t&&"O4d43EtE",r,f&&"MiCetFPJ"),onClick:E},pt.createElement("span",{className:"vwr4su2y",ref:u},n&&pt.createElement("i",{className:qi(n,"EDDQtmOa"),"aria-hidden":!0}),a,f&&pt.createElement("i",{className:qi("icon-caret-down","UgBDhvZa"),"aria-hidden":!0})),f&&pt.createElement(kv,{isOpen:h,ref:d,items:o,withPortal:!0,buttonClassName:"tUY9MzOP",menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:y,getLayout:w,onSelect:c,onClose:b}))},hN=r.pz?450:r.Ni?400:300,gN="clip-path-container",vN=ut(function(e){let{isActive:t,tabs:n,activeTab:a,className:o,overlayClassName:r,onSwitchTab:i,onActiveTabClick:s}=e;const c=Ki(),l=lt(),{width:d}=xp(),u=qi("Jya4TQTw","no-scrollbar",o);return $k({containerRef:l,shouldPreventDefault:!0}),function(e,t){rt(()=>{if(!t)return;const{scrollWidth:n,offsetWidth:a,scrollLeft:o}=t;if(n<=a)return;const r=t.childNodes[e];if(!r)return;const{offsetLeft:i,offsetWidth:s}=r,c=i-a/2+s/2;Math.abs(c-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:i,dataset:{scrollId:s}}=e;let c=t-o;if(c<0){const e=-o*(a?-1:1);c=Math.max(c,e)}else if(c>0){const e=i-(o+r);c=Math.min(c,e)}if(0===c)return Promise.resolve();s&&pN.has(s)&&pN.get(s)();const l=o+c;new Promise(t=>{(0,we.RK)(()=>{if(0===n)return e.scrollLeft=l,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,pN.set(o,()=>{a=!0}),e.style.scrollSnapType="none";const r=Date.now();(0,se.i0)(()=>{if(a)return!1;const i=Math.min((Date.now()-r)/n,1),s=c*(1-function(e){return 1-(1-e)**3.5}(i));return e.scrollLeft=Math.round(l-s),i>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,pN.delete(o),t()),i<1},we.RK)})})}(t,c,hN)},[e,t])}(a,l.current),rt(()=>{var e;const t=null===(e=l.current)||void 0===e?void 0:e.querySelector(`.${gN}`),n=null==t?void 0:t.childNodes[a];if(t&&n){const e=function(e,t){const{paddingTop:n,paddingBottom:a}=getComputedStyle(e),{offsetLeft:o,offsetWidth:r}=e,i=o,s=Number(100-(o+r)/t.offsetWidth*100).toFixed(3),c=Number(i/t.offsetWidth*100).toFixed(3);return`inset(${parseInt(n)}px ${s}% ${parseInt(a)}px ${c}% round 1rem)`}(n,t);(0,we.RK)(()=>{t.style.clipPath=e})}},[t,a,n,c,l,d]),pt.createElement("div",{ref:l,className:u},n.map((e,t)=>pt.createElement(fN,{key:e.title,title:e.title,isActive:t===a,className:null==e?void 0:e.className,menuItems:null==e?void 0:e.menuItems,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onActiveClick:s,onClick:i,clickArg:e.id,icon:e.icon})),pt.createElement("div",{className:qi("GMG3Qgat",r,gN),"aria-hidden":!0},n.map((e,t)=>pt.createElement(fN,{key:e.title,title:e.title,isActive:t===a,className:qi(null==e?void 0:e.className,t===a&&"current-tab"),menuItems:null==e?void 0:e.menuItems,onActiveClick:s,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onClick:i,clickArg:e.id,icon:e.icon}))))}),yN="_bLbqKSN",wN="HPHEhXfF",bN="riB0aKK2",EN="zAf3JohS",kN=ut(zt(e=>{const{isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}})(function(e){let{chain:t,className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,countryCode:c,onClose:l}=e;const{startSwap:d,openOnRampWidgetModal:u,openInvoiceModal:m,closeReceiveModal:p}=$t(),f=Ki(),{canBuyWithCardInRussia:h,formatTransferUrl:g}=ca(t),v=h||"RU"!==c,y=!o&&!r&&!i,w=!o&&!s&&(v||a),b=!!g,E=Boolean(y||w||a),k=ri(()=>{u({chain:t}),null==l||l()}),C=ri(()=>{const{tokenInSlug:e,amountIn:n}=ca(t).buySwap;d({tokenInSlug:e,tokenOutSlug:va(t).slug,amountIn:String(n)}),null==l||l()}),N=ri(()=>{p(),m({tokenSlug:va(t).slug}),null==l||l()}),S=qi("Iy7m6qwP",a&&"_xf3s2cL",n);if(E)return pt.createElement("div",{className:S},w&&pt.createElement("div",{className:qi(yN,!v&&wN),onClick:v?k:void 0},pt.createElement("i",{className:qi(bN,"icon-card"),"aria-hidden":!0}),f("Buy with Card"),pt.createElement("i",{className:qi(EN,"icon-chevron-right"),"aria-hidden":!0})),y&&pt.createElement("div",{className:yN,onClick:C},pt.createElement("i",{className:qi(bN,"icon-crypto"),"aria-hidden":!0}),f("Buy with Crypto"),pt.createElement("i",{className:qi(EN,"icon-chevron-right"),"aria-hidden":!0})),(a||b)&&pt.createElement("div",{className:qi(yN,!b&&wN),onClick:b?N:void 0},pt.createElement("i",{className:qi(bN,"icon-link"),"aria-hidden":!0}),f("Create Deposit Link"),pt.createElement("i",{className:qi(EN,"icon-chevron-right"),"aria-hidden":!0})))}));let CN;function NN(e){let{address:t,chain:n,isActive:o,hiddenClassName:r,hideLogo:s,preferUrl:c}=e;const[l,d]=at(!!CN),u=a.TI6?"./coreWallet/logo.svg":"./logo.svg",m=lt();return rt(()=>{l||i.e(283).then(i.t.bind(i,97283,23)).then(e=>{let{default:t}=e;CN=new t({width:600,height:600,image:n?VE(n):u,margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"},data:""}),d(!0)})},[n,l,u]),it(()=>{var e;o&&l&&(m.current&&r&&jc(m.current,r),m.current&&(null===(e=CN)||void 0===e||e.append(m.current),CN._options.image=s?void 0:n?VE(n):u))},[o,l,r,s,n,u]),rt(()=>{if(!(t&&o&&CN&&l))return;const e=n&&ca(n).formatTransferUrl,a=c&&e?e(t):t;CN.update({data:a})},[t,o,l,c,n]),{qrCodeRef:m,isInitialized:l}}const SN=ut(function(e){let{chain:t,isActive:n,isStatic:a,isLedger:o,address:r,onClose:i}=e;const{verifyHardwareAddress:s}=$t(),c=Ki(),{qrCodeRef:l,isInitialized:d}=NN({address:r,chain:t,isActive:n,hiddenClassName:dN.qrCodeHidden,preferUrl:!0}),u=qi(dN.qrCode,a&&dN.qrCodeStatic,!d&&dN.qrCodeHidden);return pt.createElement("div",null,pt.createElement("div",{className:qi(dN.contentTitle,dN.contentTitleQr)},bi(c("$receive_description"))),pt.createElement("div",{className:u,ref:l}),pt.createElement(Ck,{chain:t,address:r,className:a?dN.copyButtonStatic:dN.addressWrapper,copyNotification:c("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),o&&pt.createElement("div",{className:qi(dN.contentTitle,dN.contentTitleLedger,a&&dN.contentTitleLedgerStatic)},bi(c("$ledger_verify_address"))," ",pt.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),e.stopPropagation(),s({chain:t})},className:dN.dottedLink},c("Verify now"))),!a&&pt.createElement(kN,{chain:t,isLedger:o,onClose:i}))}),AN=Object.fromEntries(ma().map((e,t)=>[e,t])),IN=F(AN),TN=ut(zt(e=>{const t=cn(e,e.currentAccountId),{receiveModalChain:n}=dn(e)||{};return{accountChains:null==t?void 0:t.byChain,isLedger:"hardware"===(null==t?void 0:t.type),chain:n??a.GKQ}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isOpen:t,accountChains:n,chain:a,isStatic:o,isLedger:r,onClose:i}=e;const{setReceiveActiveTab:s}=$t(),c=Ki(),{isPortrait:l}=xs(),d=st(()=>function(e){const t=[];for(const n of ma())n in e&&t.push({id:AN[n],title:da(n),className:qi(dN.tab,dN[n])});return t}(n??{}),[n]),u=AN[a],m=ri(e=>{const t=IN[e];t&&s({chain:t})});function p(e,a,s){var c;const l=IN[s];return pt.createElement(SN,{chain:l,isActive:t&&e,isStatic:o,isLedger:r,address:(null==n||null===(c=n[l])||void 0===c?void 0:c.address)??"",onClose:i})}if(d.length)return pt.createElement(pt.Fragment,null,o&&pt.createElement(kN,{chain:a,isStatic:!0,isLedger:r}),d.length>1&&pt.createElement(vN,{tabs:d,activeTab:u,className:qi(dN.tabs,!o&&dN.tabsInModal),overlayClassName:qi(dN.tabsOverlay,a&&dN[a]),onSwitchTab:m}),pt.createElement(Qh,{key:`content_${c.code}`,activeKey:u,name:l?"slide":"slideFade",className:dN.contentWrapper,slideClassName:qi(dN.content,o&&dN.contentStatic,"custom-scroll"),shouldRestoreHeight:o},p))})),BN=ut(zt(e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions,a=fn(e),o=Cn(e,e.currentAccountId);return{isOpen:e.isReceiveModalOpen,isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,isLedger:a,isMultichainAccount:o}})(function(e){let{isOpen:t,isTestnet:n,isLedger:a,isSwapDisabled:o,isOnRampDisabled:i,isMultichainAccount:s}=e;const{closeReceiveModal:c}=$t(),l=Ki(),{isLandscape:d}=xs(),u=l((n||a||o)&&(n||i)?"Add":"Add / Buy");return rt(()=>{t&&d&&c()},[d,t]),pt.createElement(bl,{isOpen:t,dialogClassName:r.ZH?dN.iosModalDialog:dN.modalDialog,nativeBottomSheetKey:"receive",onClose:c},pt.createElement(Cv,{title:u,className:qi(dN.receiveHeader,!s&&dN.receiveHeaderNoTabs),onClose:c}),pt.createElement(TN,{isOpen:t,onClose:c}))})),xN=ut(function(e){let{isSensitiveDataHidden:t,playAnimation:n,amount:o=0n,tokenSymbol:r=a.Tu9.symbol,decimals:i=a.Tu9.decimals,noSign:s,color:c,firstButtonText:l,secondButtonText:d,onFirstButtonClick:u,onSecondButtonClick:m}=e;const p=(0,zn.nI)(o,i),[f,h]=Ii(p,"",s,i).split("."),g=st(()=>LE(5,13,r),[r]);return pt.createElement(pt.Fragment,null,pt.createElement(Nh,{play:n,noLoop:!1,nonInteractive:!0,className:BE.sticker,tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),pt.createElement(Jv,{isActive:t,cols:g,rows:3,cellSize:18,align:"center",maskSkin:"green",className:qi(BE.amount,c&&BE[`amount_${c}`],"rounded-font")},f.trim().replace(" ","").replace("-","−"),h&&pt.createElement("span",{className:BE.amountFraction},".",h.trim()),pt.createElement("span",{className:BE.amountSymbol},r)),function(){if(l||d)return pt.createElement("div",{className:BE.buttons},l&&pt.createElement(dl,{className:BE.button,onClick:u},l),d&&pt.createElement(dl,{className:BE.button,onClick:m},d))}())});function _N(e){const{baseCurrency:t,onAmountChange:n}=e,{isBaseCurrency:o,switchCurrency:r,...i}=function(e){let{baseCurrency:t,amount:n,token:o,isAmountReadonly:r,onAmountChange:i,onTokenChange:s}=e;const[c,l]=at(!1),d=lt(),u=lt(),m=a.yR2[t].decimals,p=e=>{d.current=e,u.current=LN(e,null==o?void 0:o.price,m)},f=(e,t)=>{if(c&&!r){const n=DN(u.current,e,t);n!==MN(d.current)&&(d.current=n,i(ON(n,t)))}else u.current=LN(d.current,e,m)};yt(()=>{const e=(t=n,a=null==o?void 0:o.decimals,void 0===t?void 0:(0,zn.nI)(t,a));var t,a;e!==MN(d.current)&&p(e)},[n,null==o?void 0:o.decimals]),yt(()=>{f(null==o?void 0:o.price,null==o?void 0:o.decimals)},[null==o?void 0:o.price,null==o?void 0:o.decimals,m]);const h=ri(e=>{var t;e||=void 0,c?(t=e,d.current=DN(t,null==o?void 0:o.price,null==o?void 0:o.decimals),u.current=t):p(e),i(ON(d.current,null==o?void 0:o.decimals))}),g=ri((e,t)=>{null==s||s(e),t&&f(t.price,t.decimals)});return{isBaseCurrency:c,isAmountReadonly:r,inputValue:c?u.current:d.current,alternativeValue:c?d.current:u.current,switchCurrency:l,onInputChange:h,onTokenChange:g}}(e),s=ri(e=>{void 0!==e&&(Td(),r(!1),n(e,!0))}),c=ri(()=>{Td(),r(!o)});return{...i,isBaseCurrency:o,baseCurrency:t,onMaxAmountClick:s,onAlternativeAmountClick:c}}function LN(e,t,n){return e&&void 0!==t?(0,$n.z)(e).mul(t).round(n).toString():void 0}function DN(e,t,n){return e&&t?(0,$n.z)(e).div(t).round(n??9).toString():void 0}function ON(e,t){return e?(0,zn.UH)(e,t):void 0}function MN(e){if(!e)return;if(!e.includes("."))return e;let t=e.length;for(;"0"===e[t-1];)t--;return"."===e[t-1]&&t--,e.slice(0,t)}function FN(e){let{tokenBySlug:t,states:n,shouldUseNominators:a,selectedStakingId:o,isViewMode:r,baseCurrency:i,currencyRates:s}=e;const c=st(()=>{if(!t||!n)return[];let e=function(e,t,n){const a=t.some(e=>"nominators"===e.type&&Tm(e)),o=t.some(e=>"liquid"===e.type&&Tm(e));return n&&!o&&(t=t.filter(e=>"liquid"!==e.type)),n||a||(t=t.filter(e=>"nominators"!==e.type)),t.filter(t=>e[t.tokenSlug]).map(t=>({...e[t.tokenSlug],id:t.id}))}(t,n,a);return r&&(e=e.filter(e=>{let{id:t}=e;return t===o})),e.map(e=>({...e,price:Vn(e.priceUsd,i,s)}))},[t,n,a,r,o,i,s]);return[st(()=>c.find(e=>e.id===o),[c,o]),c]}const PN=ut(function(e){let{maxAmount:t,token:n,isLoading:a,isSensitiveDataHidden:o,isAllMode:r,onAmountClick:i}=e;const s=Ki(),c=a?s("Loading..."):n&&void 0!==t?o?`*** ${n.symbol}`:r?Ti(t,n.symbol,n.decimals):Ai((0,zn.nI)(t,n.decimals),n.symbol):"",l=gw([!c,null==n?void 0:n.symbol,a,o]);return pt.createElement(Qh,{name:"fade",activeKey:l,shouldCleanup:!0,className:"OEF25dXJ"},c&&pt.createElement("span",{className:"zfocSjTR"},s(r?"$all_balance":"$max_balance",{balance:pt.createElement("div",{role:"button",tabIndex:0,onClick:()=>i(t),className:"KwAXOVQ_"},c)})))}),RN={dropdown:"ZNn8fpqd",dropdown__prefix:"u0_9mbdz",dropdownPrefix:"u0_9mbdz",prefix:"yhhTwepY",purple:"fP_2Gh_l"},UN=[],WN=ut(function(e){let{selectedToken:t,allTokens:n=UN,isMultichainAccount:a,theme:o,isInMode:r,onChange:i}=e;const s=Ki()("$in_currency",{currency:""}),c=st(()=>r&&pt.createElement("span",{className:RN.prefix},s),[r,s]),l=st(()=>n.map(e=>function(e,t){return{value:HN(e),icon:qE[e.symbol.toLowerCase()]||e.image,overlayIcon:t?VE(e.chain):void 0,name:e.symbol}}(e,a)),[n,a]),d=st(()=>n.reduce((e,t)=>(e[HN(t)]=t,e),{}),[n]),u=ri(e=>{const t=d[e];null==i||i(e,t)});if(!l.length)return;const m=t&&"string"!=typeof t?HN(t):t;return pt.createElement(Fb,{items:l,selectedValue:m,buttonPrefix:c,className:RN.dropdown,menuClassName:o&&RN[o],onChange:u})});function HN(e){return e.id??e.slug}const $N=ut(function(e){let{isBaseCurrency:t,inputValue:n,alternativeValue:o,baseCurrency:r,maxAmount:i,token:s,allTokens:l,isStatic:d,hasError:u,isMultichainAccount:m,isSensitiveDataHidden:p,isMaxAmountLoading:f,isMaxAmountAllMode:h,renderBottomRight:g,isAmountReadonly:v,labelText:y,onTokenChange:w,onPressEnter:b,onInputChange:E,onMaxAmountClick:k,onAlternativeAmountClick:C}=e;const N=Ki(),S=t?0:1,{inputId:A,onInputFocus:I,onInputBlur:T,onClick:B}=function(e){const t=`${wt()}_${e}`,n=lt(!1),a=lt(),o=ri(()=>{var e;null===(e=a.current)||void 0===e||e.call(a),n.current=!0}),r=ri(()=>{var e;null===(e=a.current)||void 0===e||e.call(a),a.current=(0,c.Gf)(500,()=>{n.current=!1})});return rt(()=>{n.current&&lN(t)},[e]),{inputId:t,onInputFocus:o,onInputBlur:r,onClick:()=>{n.current&&lN(t)}}}(S),x=ri(()=>{k(i),B()});return pt.createElement(Qh,{activeKey:S,name:"semiFade",shouldCleanup:!0,className:"u5uvgNoY",slideClassName:"OeHWkJFQ"},pt.createElement(PN,{maxAmount:v?void 0:i,token:s,isLoading:f,isAllMode:h,isSensitiveDataHidden:p,onAmountClick:x}),function(){let e,o;if(t){const{shortSymbol:t}=a.yR2[r];t?e=t:o=r}return pt.createElement(cN,{id:A,hasError:u,value:n,labelText:y??N("Amount"),decimals:t?a.yR2[r].decimals:null==s?void 0:s.decimals,className:"me9Fg5VF",isStatic:d,prefix:e,suffix:o,disabled:v,onChange:E,onPressEnter:b,onFocus:I,onBlur:T},pt.createElement(WN,{selectedToken:s,allTokens:l,isInMode:t,isMultichainAccount:m,onChange:w}))}(),pt.createElement("div",{className:"xPmDv9gI"},function(){const e=t?(null==s?void 0:s.symbol)??"":xi(r);return pt.createElement("button",{type:"button",className:"hx_H7UUP",onClick:()=>{C(),B()}},"≈ ",Ai(o??0,e,void 0,!0),pt.createElement("i",{className:qi("Agk5w0hD","icon-switch"),"aria-hidden":!0}))}(),g("uMCMe6l_")))}),VN=(0,Kt.A)(e=>0===e?/^(\d+)/:new RegExp(`^(\\d+)([.,])?(\\d{1,${e}})?`)),zN=ut(function(e){let{id:t,labelText:n,value:o,error:r,prefix:i,suffix:s,zeroValue:c,decimals:l=a.I04,className:d,isSensitiveData:u,isSensitiveDataHidden:m,sensitiveDataMaskSkin:p,isStatic:f,inputClassName:h,labelClassName:g,valueClassName:v,children:y}=e;const w=lt(),b=lt(""),{updateFontScale:E,isFontChangedRef:k}=iN(w,!0),C=ri(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=w.current,a=VN(l),o=e.match(a);if(null===o||o.length<4||""===o[0])return void(t||""===e?(b.current="",n.innerText=""):C(b.current,!0));const r=(null==o?void 0:o[0])||"";b.current=e,n.innerHTML=oN(e,i,s,l,!0),(r.length>5||k.current)&&E()});it(()=>{o?C(o):c&&(w.current.textContent=c)},[i,s,l,C,o,c]);const N=qi(Sh.input__wrapper,f&&Sh.inputWrapperStatic,h),S=qi(Sh.rich__value,Sh.input,Sh.large,Sh.disabled,r&&Sh.error,"rounded-font",v),A=qi(Sh.label,g);return pt.createElement("div",{className:qi(Sh.wrapper,d)},r&&pt.createElement("label",{className:qi(Sh.label,Sh.label_error,Sh.error),htmlFor:t},r),n&&pt.createElement("label",{className:A,htmlFor:t,id:`${t}Label`},n),pt.createElement("div",{className:N},u?pt.createElement(Jv,{isActive:m,cols:8,rows:3,cellSize:16,maskSkin:p,className:qi(Sh.rich,Sh.large),maskClassName:Sh.mask},pt.createElement("div",{ref:w,id:t,className:S})):pt.createElement("div",{className:Sh.rich},pt.createElement("div",{ref:w,id:t,className:S})),y))}),KN={modalDialog:"oJIiPolp",welcome:"TiFPq3C6",welcome_static:"Rv6oYnJ8",welcomeStatic:"Rv6oYnJ8",welcomeInformation:"Xg9cqUJJ",welcomeInformation_static:"o_nJd5KS",welcomeInformationStatic:"o_nJd5KS",stakingApy:"HKeaaGYy",textButton:"fole9hpS",sticker:"bPhlS4F_",sticker_static:"uaQ89610",stickerStatic:"uaQ89610",stakingSafeDialog:"zNAkvVGS",amountBottomRight:"VuUMtt0r",amountBottomRight_error:"XziKGimY",amountBottomRightError:"XziKGimY",amountBottomRight_slide:"D7jfmDqZ",amountBottomRightSlide:"D7jfmDqZ",animating:"idaRXWqT",from:"w5MTAdBs",to:"OH6m_v4W",balanceError:"XV91oi_1",historyTotalValue:"ps_1E9fe",stakingBalance:"ZzjyhAIi",balanceResultWrapper:"vtSKtwOl",balanceResultWrapper__slide:"ri2mpmSG",balanceResultWrapperSlide:"ri2mpmSG",balanceResultInput:"oiRjkkEM",balanceResultLabel:"h10QGypW",balanceStakedLabel:"DlWk_wtQ",balanceStakedResult:"Zvcxz1_r",balanceResult:"ANb8RM_U",stakingInfoModal:"WPEajhsz",stakingInfoModal_withHistory:"RmyjusO4",stakingInfoModalWithHistory:"RmyjusO4",stakingInfo:"jqjfDFur",stakingInfo_modal:"WPEajhsz",stakingInfoNoHistory:"JhvH7wqN",stakingInfoModalContent:"adkWFcPE",history:"vrPulHrK",historyList:"Y0yHbYn0",withBackground:"seOnXIX2",stakingInfoLoading:"FpmrUch0",stakingInfoLoadingAnimation:"HhFmzxoC",stakingInfoClose:"hUegI624",stakingInfoButtons:"p0aoyqxp",stakingInfoButtons_withMargin:"pa9mJcSA",stakingInfoButtonsWithMargin:"pa9mJcSA",stakingInfoButtons_adaptiveWidth:"KhWpHXOV",stakingInfoButtonsAdaptiveWidth:"KhWpHXOV",stakingInfoButton:"ANY2XY_3",checkEligibilityButton:"aM6EzHZ6",insufficientBalance:"rGOjgmuu",unstakeTime:"AQ56tknq",unstakeTime_purple:"LqS98rhM",unstakeTimePurple:"LqS98rhM",unstakeTimeIcon:"tyhEzoP5",history_static:"s2VvvIeZ",historyStatic:"s2VvvIeZ",historyTotal:"saWAKbAc",historyTitle:"Y0cCgJMS",historyList_static:"axMdO17j",historyListStatic:"axMdO17j",transactionBanner:"qrdHJFDS",unstakeInfoTransition:"dyqJuGUL",unstakeInfo:"m1LUZiWL"};function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qN.apply(null,arguments)}var jN=function(e){return e[e.Fee=0]="Fee",e[e.InsufficientBalance=1]="InsufficientBalance",e[e.InsufficientFee=2]="InsufficientFee",e[e.BelowMinimumAmount=3]="BelowMinimumAmount",e[e.ApiError=4]="ApiError",e}(jN||{});const YN=new Set([co.StakeInitial,co.None]),GN=(0,c.nF)(e=>e(),1500,!0),QN=ut(zt(e=>{var t;const n=e.currentAccountId,o=dn(e),r=jn(e),i=e.tokenInfo.bySlug,{baseCurrency:s=a.wOb,isSensitiveDataHidden:c}=e.settings,{state:l,isLoading:d,error:u}=e.currentStaking,m=n?Wo(e,n):void 0,p=Vo(e,e.currentAccountId);return{isViewMode:Tn(e),isLoading:d&&YN.has(l),tokens:r,tokenBySlug:i,apiError:u,stakingState:p,states:m,shouldUseNominators:null==o||null===(t=o.staking)||void 0===t?void 0:t.shouldUseNominators,isSensitiveDataHidden:c,baseCurrency:s,currencyRates:e.currencyRates}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isActive:t,isStatic:n,isLoading:o,isViewMode:i,apiError:s,tokens:c,tokenBySlug:l,stakingState:d,states:u,shouldUseNominators:m,isSensitiveDataHidden:p,baseCurrency:f,currencyRates:h}=e;const{submitStakingInitial:g,fetchStakingFee:v,cancelStaking:y,changeCurrentStaking:w}=$t(),b=Ki(),[E,k,C]=Np(),[N,S]=at();let A=!1,I=!1,T=!1,B=!1;const{id:x,type:_,tokenSlug:L}=d??{},D=st(()=>{if(!L||!c||!l)return;let e=c.find(e=>{let{slug:t}=e;return t===L});return!e&&L in l&&(e=Ea(l[L])),e},[L,c,l]),{amount:O=0n,symbol:M,decimals:F=a.Tu9.decimals}=D??{};let{annualYield:P=0}=d??{},R=`${P}%`;if("jetton"===(null==d?void 0:d.type)&&N)P=function(e){let{tvl:t,dailyReward:n,decimals:a}=e;if(!t)return 0;const o=(0,zn.CF)(n,a).div((0,zn.CF)(t,a)).mul(365).mul(100).toFixed(2);return Number(o)}({tvl:d.tvl+N,dailyReward:d.dailyReward,decimals:F});else if("ethena"===(null==d?void 0:d.type)){const{annualYieldStandard:e,annualYieldVerified:t}=d;R=`${e}%–${t}%`}const U=ha(null==D?void 0:D.slug),W=st(()=>{if(!c||!D)return;if(U)return D;const e=va(D.chain).slug;return c.find(t=>{let{slug:n}=t;return n===e})},[c,D,U]),H=(null==W?void 0:W.amount)??0n,$=function(e){switch(e){case"nominators":return a.pLj;case"ethena":return a.WUE;default:return a.UAn}}(_),{gas:V,real:z}=Nm(null==d?void 0:d.type).stake,K=U&&N?N+V:V,q=2n*V,j=U&&O>=q,Y=(()=>{let e=O;return U&&e&&(e-=j?q:V),(0,Ao._O)(0n,e)})(),G=Am();void 0!==N&&(Number.isNaN(N)||N<0?A=!0:N<$?B=!0:!Y||N>O?I=!0:(H<V||U&&K>O)&&(T=!0));const[Q,X]=FN({tokenBySlug:l,states:u,shouldUseNominators:m,selectedStakingId:x,baseCurrency:f,currencyRates:h}),Z=ri(()=>{const e=Fv(b.code,"ethenaStaking");Il(e,{title:b("Help Center"),subtitle:di(e)})});rt(()=>{N&&GN(()=>{v({amount:N})})},[N,v]),yt(()=>{if(r.bA&&E){let e;switch(null==d?void 0:d.type){case"jetton":e=[`${b("$safe_staking_description_jetton1").replace("%jvault_link%","JVault")}`,`${b("$safe_staking_description_jetton2")}`];break;case"ethena":e=[`1. ${b("$safe_staking_ethena_description1")}`,`2. ${b("$safe_staking_ethena_description2")}`,`3. ${b("$safe_staking_ethena_description3")}`];break;default:e=[`1. ${b("$safe_staking_description1")}`,`2. ${b("$safe_staking_description2")}`,`3. ${b("$safe_staking_description3")}`]}"ethena"===(null==d?void 0:d.type)?Rk.confirm({title:b(G),message:e.join("\n\n").replace(/\*\*/g,""),okButtonTitle:b("Close"),cancelButtonTitle:b("Help Center")}).then(e=>{C(),e.value||Z()}):Rk.alert({title:b(G),message:e.join("\n\n").replace(/\*\*/g,"")}).then(C)}},[E,b,d,G]);const J=N&&Y&&!i&&!A&&!B&&!T&&!I,ee=ri(e=>{Yr(e),J&&(Td(),g({amount:N}))}),te=ri(()=>{Il(a.lsx)}),[ne,ae]=st(()=>I?[b("Insufficient balance"),jN.InsufficientBalance]:T?[b("$insufficient_fee",{fee:Ai((0,zn.nI)(V),(null==W?void 0:W.symbol)??"")}),jN.InsufficientFee]:B?[b("$min_value",{value:Ai((0,zn.nI)($,F),M??"")}),jN.BelowMinimumAmount]:s?[b(s),jN.ApiError]:[void 0,jN.Fee],[s,F,B,I,T,b,$,null==W?void 0:W.symbol,V,M]),oe=ct(e=>{let t=" ";return t=ne?pt.createElement("span",{className:KN.balanceError},ne):D?b("$fee_value",{fee:pt.createElement(_k,{terms:{native:z},precision:"approximate",token:D})}):"",pt.createElement(Qh,{className:qi(KN.amountBottomRight,A&&KN.amountBottomRight_error,e),slideClassName:KN.amountBottomRight_slide,name:"semiFade",activeKey:ae},t)},[ne,ae,A,b,z,D]);const re=ri(e=>{y(),w({stakingId:e,shouldReopenModal:!n})}),ie=_N({amount:N,token:D,baseCurrency:f,onAmountChange:S,onTokenChange:re});return pt.createElement("form",{className:n?void 0:ml.transitionContent,onSubmit:ee},pt.createElement("div",{className:qi(KN.welcome,n&&KN.welcome_static)},pt.createElement(Nh,{size:n?a.lWW:a.jzp,play:t,noLoop:!1,nonInteractive:!0,className:qi(KN.sticker,n&&KN.sticker_static),tgsUrl:Qf.wait,previewUrl:Qf.waitPreview}),pt.createElement("div",{className:qi(KN.welcomeInformation,n&&KN.welcomeInformation_static)},pt.createElement("div",null,b("Earn from your tokens while holding them",{symbol:M})),pt.createElement("div",{className:KN.stakingApy},b("Est. %annual_yield%",{annual_yield:R})),"ethena"===_&&pt.createElement(dl,{isText:!0,className:KN.textButton,onClick:te},b("Check eligibility")),pt.createElement(dl,{isText:!0,className:KN.textButton,onClick:k},b(Am(_))))),pt.createElement($N,qN({},ie,{maxAmount:Y,token:Q,allTokens:X,isStatic:n,hasError:A||I,isMaxAmountLoading:!Q,isSensitiveDataHidden:p,renderBottomRight:oe,onPressEnter:ee})),function(){const e=(0,zn.CF)(N??0,F);let t,o,r;if(ie.isBaseCurrency){t=e.mul((null==D?void 0:D.price)??0);const{shortSymbol:n}=a.yR2[f];n?o=n:r=f}else t=e;const i=t.mul(P/100+1).toString();return pt.createElement(Qh,{activeKey:ie.isBaseCurrency?0:1,name:"semiFade",className:KN.balanceResultWrapper,slideClassName:KN.balanceResultWrapper__slide,shouldCleanup:!0},pt.createElement(zN,{labelText:b("Est. balance in a year"),zeroValue:"...",value:i,decimals:a.Vxu,prefix:o,suffix:r,isStatic:n,inputClassName:KN.balanceResultInput,labelClassName:KN.balanceResultLabel,valueClassName:KN.balanceResult}))}(),!i&&pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,isSubmit:!0,isDisabled:!J,isLoading:o},b("$stake_asset",{symbol:null==D?void 0:D.symbol}))),function(){if(!r.bA)return pt.createElement(bl,{isCompact:!0,isOpen:E,title:b(G),onClose:C,dialogClassName:KN.stakingSafeDialog},!!d&&function(){switch(d.type){case"jetton":return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:ml.text},bi(b("$safe_staking_description_jetton1",{jvault_link:pt.createElement("a",{href:a.dCY,target:"_blank",rel:"noreferrer"},pt.createElement("b",null,"JVault"))}))),pt.createElement("p",{className:ml.text},bi(b("$safe_staking_description_jetton2"))));case"ethena":return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:ml.text},bi(b("$safe_staking_ethena_description1"))),pt.createElement("p",{className:ml.text},bi(b("$safe_staking_ethena_description2"))),pt.createElement("p",{className:ml.text},bi(b("$safe_staking_ethena_description3"))));default:return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:ml.text},bi(b("$safe_staking_description1"))),pt.createElement("p",{className:ml.text},bi(b("$safe_staking_description2"))),pt.createElement("p",{className:ml.text},bi(b("$safe_staking_description3"))))}}(),pt.createElement("div",{className:ml.buttons},"ethena"===d.type&&pt.createElement(dl,{onClick:Z},b("Help Center")),pt.createElement(dl,{onClick:C},b("Close"))))}())})),XN=new Set([co.StakeInitial,co.StakePassword,co.StakeConnectHardware,co.StakeConfirmHardware,co.StakeComplete]),ZN=ut(zt(e=>{const t=e.currentAccountId,n=Cn(e,t),a=Vo(e,t),o=e.tokenInfo.bySlug;return{...e.currentStaking,stakingState:a,tokenBySlug:o,isMultichainAccount:n}})(function(e){let{state:t,stakingState:n,isLoading:o,amount:r,error:i,tokenBySlug:s,isMultichainAccount:c}=e;const{startStaking:l,setStakingScreen:d,cancelStaking:u,clearStakingError:m,submitStaking:p,openStakingInfo:f}=$t(),{tokenSlug:h}=n??{},g=h&&s?s[h]:void 0,v=Ki(),y=XN.has(t),[w,b]=at(r),{renderingKey:E,nextKey:k,updateNextKey:C}=Ib(t,y),N=ri(()=>{t===co.StakePassword&&(m(),d({state:co.StakeInitial}))}),S=ri(()=>{b(r),p()}),A=ri(e=>{b(r),p({password:e})}),I=ri(()=>{u(),f()});function T(e,t,n){switch(n){case co.StakeInitial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:v("$stake_asset",{symbol:null==g?void 0:g.symbol}),onClose:u}),pt.createElement(QN,{isActive:e}));case co.StakePassword:return function(e){return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:v("Confirm Staking"),onClose:u}),pt.createElement(ig,{isActive:e,isLoading:o,error:i,withCloseButton:a.UMQ,operationType:"staking",placeholder:"Confirm operation with your password",submitLabel:v("Confirm"),cancelLabel:v("Back"),onSubmit:A,onCancel:N,onUpdate:m,skipAuthScreen:!0},function(){if(g&&r)return pt.createElement(wC,{tokenIn:g,withChainIcon:c,color:"purple",text:Ai((0,zn.nI)(r,g.decimals),g.symbol),className:Cd()?void 0:KN.transactionBanner})}()))}(e);case co.StakeConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:S,onClose:u});case co.StakeConfirmHardware:return pt.createElement(Db,{text:v("Please confirm operation on your Ledger"),error:i,onClose:u,onTryAgain:S});case co.StakeComplete:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:v("Coins have been staked!"),onClose:u}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(xN,{color:"purple",playAnimation:e,amount:w,decimals:null==g?void 0:g.decimals,tokenSymbol:null==g?void 0:g.symbol,noSign:!0,firstButtonText:v("View"),secondButtonText:v("Stake More"),onFirstButtonClick:I,onSecondButtonClick:l}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:u,isPrimary:!0},v("Close")))))}(e)}}return pt.createElement(bl,{isOpen:y,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:KN.modalDialog,nativeBottomSheetKey:"stake",forceFullNative:E===co.StakePassword,onClose:u,onCloseAnimationEnd:C},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:E,nextKey:k,onStop:C},T))})),JN=new Set([co.ClaimPassword,co.ClaimConfirmHardware,co.ClaimConnectHardware,co.ClaimComplete]),eS=ut(zt(e=>{var t;const n=e.currentAccountId,{byChain:a}=cn(e,n)||{},o=fn(e),{state:r,isLoading:i,error:s}=(null==e?void 0:e.currentStaking)||{},c=n?Vo(e,n):void 0,l=jn(e);return{stakingState:"jetton"===(null==c?void 0:c.type)||"ethena"===(null==c?void 0:c.type)?c:void 0,isOpen:JN.has(r),state:r,tokens:l,isLoading:i,error:s,address:null==a||null===(t=a.ton)||void 0===t?void 0:t.address,isHardwareAccount:o,isMultichainAccount:Cn(e,n),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}})(function(e){let{stakingState:t,isOpen:n,tokens:o,isLoading:r,address:i,error:s,state:c=co.ClaimPassword,isHardwareAccount:l,isMultichainAccount:d,isSensitiveDataHidden:u}=e;const{submitStakingClaim:m,cancelStakingClaim:p,clearStakingError:f}=$t(),{tokenSlug:h}=t??{},g=t&&"unclaimedRewards"in t?t.unclaimedRewards:(null==t?void 0:t.unstakeRequestAmount)??0n,v=Ki(),y=st(()=>null==o?void 0:o.find(e=>{let{slug:t}=e;return t===h}),[o,h]),w=st(()=>null==o?void 0:o.find(e=>{let{slug:t}=e;return t===a.Tu9.slug}),[o]),b=(null==w?void 0:w.amount)??0n,{gas:E,real:k}=Nm(null==t?void 0:t.type).claim,C=b>E,{renderingKey:N,nextKey:S,updateNextKey:A}=Ib(c,Boolean(n)),I=c===co.ClaimComplete||!l&&!Cd(),T=I?v(c===co.ClaimComplete?"Coins have been unstaked!":"ethena"===(null==t?void 0:t.type)?"Confirm Unstaking":"Confirm Rewards Claim"):void 0,B=ri(e=>{C&&m({password:e})}),x=ri(()=>{C&&m()});function _(e,t,o){switch(o){case co.ClaimConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:x,onClose:p});case co.ClaimConfirmHardware:return pt.createElement(Db,{text:v("Please confirm transaction on your Ledger"),error:s,onClose:p,onTryAgain:x});case co.ClaimPassword:return pt.createElement(ig,{isActive:Boolean(n),isLoading:r,withCloseButton:!0,operationType:"claim",error:C?s:v("Insufficient Balance for Fee"),submitLabel:v("Confirm"),onSubmit:B,onCancel:p,onUpdate:f,skipAuthScreen:!0},function(){const e=qi("k75dvmdJ",!Cd()&&"F2nQ3VmO"),t=u?`*** ${y.symbol}`:Ai((0,zn.nI)(g,y.decimals),y.symbol,a.Vxu);return pt.createElement(pt.Fragment,null,pt.createElement(wC,{tokenIn:y,withChainIcon:d,text:t,className:Cd()?void 0:"yYT_DSGe",secondText:i&&qt(i)}),pt.createElement("div",{className:e},y&&bi(v("$fee_value_bold",{fee:pt.createElement(_k,{terms:{native:C?k:E},precision:C?"approximate":"lessThan",token:y})}))))}());case co.ClaimComplete:return pt.createElement("div",{className:ml.transitionContent},pt.createElement(xN,{isSensitiveDataHidden:u,color:"green",playAnimation:e,amount:g,tokenSymbol:null==y?void 0:y.symbol,decimals:null==y?void 0:y.decimals,noSign:!0}),pt.createElement("div",{className:"zw06OBVe"},v("$unstake_information_instantly")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:p,isPrimary:!0},v("Close"))))}}return pt.createElement(bl,{isOpen:n,title:T,hasCloseButton:I,forceFullNative:!0,nativeBottomSheetKey:"staking-claim",contentClassName:"FYtlcmCw",onClose:p},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:N,nextKey:S,onStop:A},_))})),tS=ut(function(e){let{tonToken:t,timestamp:n,profit:a,isSensitiveDataHidden:o}=e;const r=Ki(),i=st(()=>LE(4,10,n.toString()),[n]);return pt.createElement("div",{className:"nq4YjGn3"},pt.createElement("i",{className:qi("jLdRlENh","icon-earn"),"aria-hidden":!0}),pt.createElement("div",{className:"nxAiUgO_"},pt.createElement("div",{className:"uDw7ob8E"},r("Earned")),pt.createElement("div",{className:"aJl0mknc"},(0,xo.N5)(r,n),", ",(0,xo.fU)(n))),pt.createElement(Jv,{isActive:o,cellSize:8,rows:2,cols:i,align:"right",className:"x2kd8DjZ"},Ii(a,t.symbol)))}),nS=ut(zt(e=>{var t;const n=e.currentAccountId,{settings:{theme:o,isSensitiveDataHidden:r},tokenInfo:{bySlug:i}}=e,s=dn(e),c=n?Wo(e,n):void 0,l=n?Vo(e,n):void 0,d=n?zo(e,n):void 0,u=n?function(e,t){var n;const o=un(e,t);return(Vo(e,t).tokenSlug===a.Tu9.slug?null==o||null===(n=o.staking)||void 0===n?void 0:n.totalProfit:void 0)??0n}(e,n):0n;return{stakingState:l,states:c,totalProfit:u,stakingHistory:d,tokens:jn(e),tokenBySlug:i,baseCurrency:e.settings.baseCurrency,currencyRates:e.currencyRates,theme:o,shouldUseNominators:null==s||null===(t=s.staking)||void 0===t?void 0:t.shouldUseNominators,isSensitiveDataHidden:r,isViewMode:Tn(e)}})(function(e){let{states:t,stakingState:n,isActive:o,isStatic:r,totalProfit:i,stakingHistory:s,tokens:c,tokenBySlug:l,baseCurrency:d,currencyRates:u,theme:m,shouldUseNominators:p,isViewMode:f,isSensitiveDataHidden:h,onClose:g}=e;const{startStaking:v,startUnstaking:y,startStakingClaim:w,fetchStakingHistory:b,changeCurrentStaking:E}=$t(),{id:k,tokenSlug:C,balance:N,annualYield:S=0,unstakeRequestAmount:A,type:I}=n??{},T=Sm(n),B=n?"readyToClaim"===Im(n):void 0,x=st(()=>C?null==c?void 0:c.find(e=>{let{slug:t}=e;return C===t}):void 0,[C,c]),{decimals:_,symbol:L}=x??{},D=Ki(),O=void 0===N,M=Boolean(null==s?void 0:s.length),{shouldRender:F,ref:P}=rl({isOpen:O&&o,withShouldRender:!0}),R=st(()=>null==c?void 0:c.find(e=>{let{slug:t}=e;return t===a.Tu9.slug}),[c]),U=ft(),{height:W}=xp(),H=cg(m),{shouldRender:$,ref:V}=rl({isOpen:!h,withShouldRender:!0}),z="jetton"===(null==n?void 0:n.type)?n.unclaimedRewards:void 0;xv(U,A?3e4:void 0),rt(()=>{o&&b()},[b,o]);const K=ri(()=>{null==g||g(),v()}),q=ri(()=>{null==g||g(),y()}),j=ri(()=>{null==g||g(),w()});let Y="0",G="0";N&&(Y=(0,zn.CF)(N,_).round(a.Vxu).toString(),G=(0,zn.CF)(N,_).mul(S/100+1).round(a.Vxu).toString());const Q=ri(()=>{Il(a.lsx)}),[X,Z]=FN({tokenBySlug:l,states:t,shouldUseNominators:p,selectedStakingId:k,isViewMode:f,baseCurrency:d,currencyRates:u});function J(){let e;if(T){let t="$unstaking_when_receive_with_amount";"ethena"===I?t="$unstaking_when_receive_with_amount_ethena":"nominators"===I&&(t="$unstaking_when_receive"),e=D(t,{time:pt.createElement("strong",null,(0,xo.YG)(D.code,T)),amount:pt.createElement("strong",null,Ai((0,zn.nI)(A??0n,_),L).replace(" "," "))})}return pt.createElement("div",{className:qi(KN.unstakeTime,KN.unstakeTime_purple)},pt.createElement(Nh,{play:o,size:a.wg4,className:KN.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[H].iconClockPurple,previewUrl:Qf[H].preview.iconClockPurple}),pt.createElement("div",null,e))}const ee=qi(KN.stakingInfo,!r&&KN.stakingInfo_modal,!M&&KN.stakingInfoNoHistory,r&&"staking-info"),te=ri(e=>{null==g||g(),E({stakingId:e,shouldReopenModal:!r})}),ne=gw([r,k],!r);return pt.createElement(Qh,{name:"fade",activeKey:ne,shouldCleanup:!0,className:KN.stakingTransition,slideClassName:r?"staking-info":void 0},pt.createElement(pt.Fragment,null,pt.createElement("div",{className:ee},!r&&pt.createElement(Cv,{title:D("Staking"),closeClassName:KN.stakingInfoClose,onClose:g}),pt.createElement(zN,{isSensitiveData:!0,isSensitiveDataHidden:h,sensitiveDataMaskSkin:"purple",labelText:D("Currently Staked"),zeroValue:"...",value:Y,decimals:_,className:KN.stakingBalance,labelClassName:KN.balanceStakedLabel,valueClassName:KN.balanceStakedResult},pt.createElement("div",{className:KN.stakingInfoLoading},F&&pt.createElement(kb,{ref:P,className:KN.stakingInfoLoadingAnimation})),pt.createElement(WN,{selectedToken:X,allTokens:Z,theme:"purple",onChange:te})),A&&A>0n&&"ethena"!==I?J():pt.createElement(pt.Fragment,null,pt.createElement(zN,{isSensitiveData:!0,isSensitiveDataHidden:h,sensitiveDataMaskSkin:"purple",labelText:D("Est. balance in a year"),zeroValue:"...",value:G,decimals:_,suffix:L,labelClassName:KN.balanceStakedLabel,valueClassName:KN.balanceResult}),"ethena"===I&&!B&&!!A&&J(),!f&&pt.createElement("div",{className:qi(KN.stakingInfoButtons,"ethena"===I&&KN.stakingInfoButtonsAdaptiveWidth,!!z&&KN.stakingInfoButtonsWithMargin)},pt.createElement(dl,{className:KN.stakingInfoButton,isPrimary:!0,isDisabled:O,onClick:K},D("Stake More")),("ethena"!==I||!B)&&pt.createElement(dl,{className:KN.stakingInfoButton,isDisabled:O,onClick:q},D("ethena"===I?"Request Unstaking":"Unstake")),B&&pt.createElement(dl,{className:KN.stakingInfoButton,isDisabled:O,onClick:j},D("Unstake %amount%",{amount:h?`*** ${L}`:Ai((0,zn.nI)(A,_),L,2)}))),!f&&"ethena"===I&&pt.createElement(dl,{isText:!0,className:KN.checkEligibilityButton,onClick:Q},D("Check eligibility for max APY")),!!z&&function(){const e=(0,zn.nI)(z,_);return pt.createElement(pt.Fragment,null,pt.createElement(zN,{isSensitiveData:!0,isSensitiveDataHidden:h,sensitiveDataMaskSkin:"purple",labelText:D("Accumulated Rewards"),zeroValue:"...",value:e,decimals:_,suffix:L,labelClassName:KN.balanceStakedLabel,valueClassName:KN.balanceResult}),!f&&pt.createElement("div",{className:KN.stakingInfoButtons},pt.createElement(dl,{className:KN.stakingInfoButton,isDisabled:O,onClick:j},D("Claim"))))}())),M&&pt.createElement("div",{className:qi(KN.history,r&&KN.history_static)},$&&pt.createElement("div",{ref:V,className:KN.historyTotal},D("$total",{value:pt.createElement("span",{className:KN.historyTotalValue},Ai((0,zn.nI)(i),a.Tu9.symbol))})),pt.createElement("div",{className:KN.historyTitle},D("Earning History")),pt.createElement("div",{className:qi(KN.historyList,r&&KN.historyList_static,r&&"custom-scroll",!r&&W>=640&&"custom-scroll")},null==s?void 0:s.map(e=>pt.createElement(tS,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:R,isSensitiveDataHidden:h}))))))})),aS=ut(zt(e=>{const t=e.currentAccountId,n=t?zo(e,t):void 0,a=t?Vo(e,t):void 0;return{tokenSlug:null==a?void 0:a.tokenSlug,hasHistory:Boolean(null==n?void 0:n.length)}})(function(e){let{isOpen:t,tokenSlug:n,hasHistory:o,onClose:r}=e;const{fetchStakingHistory:i}=$t(),s=n!==a.Tu9.slug;return rt(()=>{t&&i()},[i,t]),pt.createElement(bl,{isOpen:t,contentClassName:qi(KN.stakingInfoModalContent,s&&KN.withBackground),nativeBottomSheetKey:"staking-info",onClose:r,forceFullNative:o},pt.createElement(nS,{isActive:t,onClose:r}))}));function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oS.apply(null,arguments)}const rS=new Set([co.UnstakeInitial,co.UnstakePassword,co.UnstakeConnectHardware,co.UnstakeConfirmHardware,co.UnstakeComplete]),iS=new Set([co.UnstakePassword,co.UnstakeConnectHardware,co.UnstakeConfirmHardware]),sS=ut(zt(e=>{const t=e.currentAccountId,n=jn(e),{baseCurrency:o=a.wOb,isSensitiveDataHidden:r}=e.settings,i=Cn(e,t),s=Vo(e,t),c="nominators"===(null==s?void 0:s.type);return{...e.currentStaking,tokens:n,baseCurrency:o,isNominators:c,theme:e.settings.theme,isMultichainAccount:i,stakingState:s,isSensitiveDataHidden:r,isViewMode:Tn(e)}})(function(e){let{state:t,isViewMode:n,isLoading:o,error:i,tokens:s,baseCurrency:c,isNominators:l,isMultichainAccount:d,theme:u,amount:m,stakingState:p,isSensitiveDataHidden:f}=e;const{setStakingScreen:h,cancelStaking:g,clearStakingError:v,submitStakingInitial:y,submitStaking:w,fetchStakingHistory:b}=$t(),{type:E,tokenSlug:k,balance:C}=p??{},N=Ki(),S=rS.has(t),{gas:A,real:I}=Nm(null==p?void 0:p.type).unstake,T=st(()=>null==s?void 0:s.find(e=>{let{slug:t}=e;return t===a.Tu9.slug}),[s]),B=T&&T.amount>=A,x="liquid"===(null==p?void 0:p.type)?p.instantAvailable:void 0,_=st(()=>k?null==s?void 0:s.find(e=>{let{slug:t}=e;return t===k}):void 0,[k,s]),L=l,[D,O]=at(L?C:void 0),[M,F]=at(void 0),P=Sm(p),R=p?Bm(p,D):void 0,[U,W]=at(P??Date.now()+a.NFS),H=ft(),$=cg(u),{renderingKey:V,nextKey:z,updateNextKey:K}=Ib(t,S),q=void 0!==D&&(D<0||!C||D>C),j=i===Zo.InsufficientBalance||void 0!==D&&(!C||D>C),Y=!B||j||!D;rt(()=>{S&&(b(),O(L?C:void 0))},[S,b,L,C]),yt(()=>{P&&W(P)},[P]);const G=ri(()=>{U<Date.now()&&b(),H()});xv(G,3e4);const Q=ri(()=>{t===co.UnstakePassword&&h({state:co.UnstakeInitial})}),X=ri(()=>{y({isUnstaking:!0,amount:D})}),Z=ri(e=>{F(m),w({password:e,isUnstaking:!0})}),J=ri(()=>{F(m),w({isUnstaking:!0})}),ee=_N({amount:D,token:_,baseCurrency:c,isAmountReadonly:L,onAmountChange:O}),te=st(()=>_&&[_],[_]),ne=ct(e=>{const t=j?0:B?x?2:3:1;let n=_?N("$fee_value",{fee:pt.createElement(_k,{terms:{native:I},precision:"approximate",token:_})}):"";return _&&(j?n=pt.createElement("span",{className:KN.balanceError},N("Insufficient balance")):B?x&&(n=N("$unstake_up_to_information",{value:Ai((0,zn.nI)(x,_.decimals),_.symbol)})):n=pt.createElement("span",{className:KN.balanceError},N("$insufficient_fee",{fee:Ai((0,zn.CF)(A),(null==T?void 0:T.symbol)??"")}))),pt.createElement(Qh,{className:qi(KN.amountBottomRight,e),slideClassName:KN.amountBottomRight_slide,name:"semiFade",activeKey:t},n)},[x,j,B,N,null==T?void 0:T.symbol,A,I,_]);function ae(){const e="ethena"===E?bi(N("$unstaking_when_receive_ethena")):N("$unstaking_when_receive",{time:pt.createElement("strong",null,(0,xo.YG)(N.code,U))});return pt.createElement("div",{className:qi(KN.unstakeTime)},pt.createElement(Nh,{play:S,size:a.wg4,className:KN.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[$].iconClockGray,previewUrl:Qf[$].preview.iconClockGray}),pt.createElement("div",null,e))}function oe(e,t,s){switch(s){case co.UnstakeInitial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:N("$unstake_asset",{symbol:null==_?void 0:_.symbol}),onClose:g}),pt.createElement("div",{className:ml.transitionContent},pt.createElement($N,oS({},ee,{labelText:N("Amount to unstake"),maxAmount:C,token:_,allTokens:te,hasError:q,isMaxAmountLoading:void 0===C||!_,isMaxAmountAllMode:!0,isSensitiveDataHidden:f,renderBottomRight:ne})),function(){const e=!j&&D;return pt.createElement(Qh,{name:"fade",activeKey:e?R?2:1:0,className:KN.unstakeInfoTransition},e?R?ae():pt.createElement("div",{className:KN.unstakeInfo},N("$unstake_information_instantly")):void 0)}(),!n&&pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,isLoading:o,isDisabled:Y,onClick:X},N("Unstake")))));case co.UnstakePassword:return function(e){return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:N("Confirm Unstaking"),onClose:g}),pt.createElement(ig,{isActive:e,isLoading:o,withCloseButton:a.UMQ,operationType:"unstaking",error:i,placeholder:"Confirm operation with your password",submitLabel:N("Confirm"),cancelLabel:N("Back"),onSubmit:Z,onCancel:Q,onUpdate:v,skipAuthScreen:!0},function(){if(_&&D)return pt.createElement(wC,{tokenIn:_,withChainIcon:d,color:"green",text:Ai((0,zn.nI)(D,_.decimals),_.symbol),className:Cd()?void 0:KN.transactionBanner})}()))}(e);case co.UnstakeConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:J,onClose:g});case co.UnstakeConfirmHardware:return pt.createElement(Db,{text:N("Please confirm operation on your Ledger"),error:i,onClose:g,onTryAgain:J});case co.UnstakeComplete:return function(e){const t=(0,r.v3)()?N("Request is sent!"):N(R?"Request for unstaking is sent!":"Coins have been unstaked!");return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:t,onClose:g}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(xN,{color:R?void 0:"green",playAnimation:e,amount:M,tokenSymbol:null==_?void 0:_.symbol,decimals:null==_?void 0:_.decimals,noSign:!0}),R&&ae(),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:g,isPrimary:!0},N("Close")))))}(e)}}return pt.createElement(bl,{isOpen:S,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:KN.modalDialog,nativeBottomSheetKey:"unstake",forceFullNative:iS.has(V),onClose:g,onCloseAnimationEnd:K},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:V,nextKey:z,onStop:K},oe))})),cS=ut(zt(e=>({isAppUpdateAvailable:e.isAppUpdateAvailable,newAppVersion:e.latestAppVersion,isAppUpdateRequired:e.isAppUpdateRequired}))(function(e){let{isAppUpdateAvailable:t,newAppVersion:n,isAppUpdateRequired:o}=e;const i=Ki(),{shouldRender:s,ref:c}=rl({isOpen:a.VL7&&t||o,withShouldRender:!0});if(s)return pt.createElement("button",{ref:c,type:"button",className:"eU8arlH4",onClick:()=>{var e;r.u2?window.location.reload():Il((e=n,a.VL7?e?`${a.V3_}/releases/download/v${encodeURIComponent(e||"")}/${encodeURIComponent(a.C39)}.apk`:"https://github.com/":r.xy?`${a.W1_}android-store`:r.ZH?`${a.W1_}ios`:r.iF?`${a.W1_}${r.pr?"edge-extension":"chrome-extension"}`:a.v5B?`${a.W1_}firefox-extension`:a.W1_),{isExternal:!0})}},pt.createElement("i",{className:qi("icon icon-download-filled","X9C5VDdJ"),"aria-hidden":!0}),i("Update %app_name%",{app_name:a.C39}))}));function lS(e,t){return e.reduce((e,n)=>e+n.parts.reduce((e,n)=>e+(t.includes(n.status)?n.amount:0),0),0).toString()}const dS="WYLJUay4",uS="af6G76Qu",mS=ut(zt(e=>{const t=dn(e),{info:n,unfreezeRequestedIds:a}=(null==t?void 0:t.vesting)||{};return{isOpen:e.isVestingModalOpen,isViewMode:Tn(e),vesting:n,isUnfreezeRequested:Boolean(null==a?void 0:a.length),mycoin:Zn(e),theme:e.settings.theme}})(function(e){let{isOpen:t,isViewMode:n,isUnfreezeRequested:o,vesting:r,mycoin:i,theme:s}=e;const{fetchStakingHistory:c,closeVestingModal:l,startClaimingVesting:d}=$t(),u=Ki(),m=ft(),p=st(()=>r?lS(r,["frozen","ready"]):"0",[r]),f=st(()=>r?lS(r,["ready"]):"0",[r]),h="0"===f,g=cg(s);xv(m,o?3e4:void 0),rt(()=>{t&&c()},[c,t]);const v=ri(()=>{d()});if(i)return pt.createElement(bl,{isOpen:t,contentClassName:"Z3AdvY3j",nativeBottomSheetKey:"vesting-info",forceFullNative:!0,onClose:l},pt.createElement(pt.Fragment,null,pt.createElement("div",{className:"nmSXdbkU"},pt.createElement(Cv,{title:u("Vesting"),className:"UGaC6iSp",closeClassName:"gj76sp0s",onClose:l}),pt.createElement(zN,{labelText:u("Vesting Balance"),zeroValue:"...",value:p||"0",decimals:a.Vxu,suffix:"MY",className:dS,labelClassName:uS,valueClassName:"W2jkzSKT"}),o?pt.createElement("div",{className:"nOY_rRWD"},pt.createElement(Nh,{play:t,size:a.wg4,className:"B_mbvdNt",nonInteractive:!0,noLoop:!1,tgsUrl:Qf[g].iconClockBlue,previewUrl:Qf[g].preview.iconClockBlue}),pt.createElement("div",null,u("You will receive your unfrozen coins in a few minutes."))):pt.createElement(pt.Fragment,null,pt.createElement(zN,{labelText:u("Ready to Unfreeze"),zeroValue:"...",value:f,decimals:a.Vxu,suffix:"MY",className:dS,inputClassName:"laFaO54G",labelClassName:uS,valueClassName:"Da5SKOto"}),!n&&pt.createElement("div",{className:"TDJhFbKs"},pt.createElement(dl,{className:"q0MWzlSV",isPrimary:!0,isDisabled:h,onClick:h?void 0:v},u("Unfreeze"))))),pt.createElement("div",{className:"qVDajNe7"},pt.createElement("div",{className:"mwrjA2Wq"},u("Vesting Schedule")),pt.createElement("div",{className:qi("Gvf3taGj","custom-scroll")},null==r?void 0:r.map(function(e){return pt.createElement("div",{key:e.id,className:"N60lIj1U"},pt.createElement("div",{className:"aLa4cQLd"},pt.createElement("div",{className:"RlCMRY3O"},e.title),pt.createElement("div",{className:"A2xAIJdW"},u("%volume% in %amount% parts",{volume:pt.createElement("b",null,Ai(e.initialAmount,i.symbol,i.decimals)),amount:e.parts.length.toString()}))),e.parts.map(e=>{const t="frozen"===e.status?"icon-snow":"missed"===e.status?"icon-missed":"unfrozen"===e.status?"icon-check":"icon-fire",a="frozen"===e.status?"Frozen":"missed"===e.status?"Missed":"unfrozen"===e.status?"Unfrozen":"Ready to Unfreeze",r=!n&&!o&&"ready"===e.status,s="frozen"===e.status?e.time:"ready"===e.status?e.timeEnd:void 0;return pt.createElement("div",{key:e.id,role:r?"button":void 0,className:qi("tbB7hrjM",e.status,r&&"Fi06J8yl"),onClick:r?v:void 0},pt.createElement("i",{className:qi("Bc1llfyb",t,e.status),"aria-hidden":!0}),pt.createElement("div",{className:"SkSkSLJA"},u(a),Boolean(s)&&pt.createElement("div",{className:"F8H8tP5h"},u("until %date%",{date:pt.createElement(pt.Fragment,null,pt.createElement("span",{className:"_7RDFG6sc"},(0,xo.TK)(u.code,s)),","," ",(0,xo.fU)(s))}))),pt.createElement("div",{className:qi("oTZtwcWo",e.status)},Ai(e.amount,i.symbol,i.decimals)))}))})))))})),pS=ut(zt(e=>{var t;const{byChain:n}=cn(e,e.currentAccountId)||{},a=dn(e),o=fn(e),{isConfirmRequested:r,info:i,isLoading:s,error:c,unfreezeState:l}=(null==a?void 0:a.vesting)||{};return{isOpen:r,vesting:i,tokens:jn(e),isLoading:s,error:c,address:null==n||null===(t=n.ton)||void 0===t?void 0:t.address,state:l,mycoin:Zn(e),isHardwareAccount:o,isMultichainAccount:Cn(e,e.currentAccountId)}})(function(e){let{isOpen:t,vesting:n,tokens:o,isLoading:r,address:i,error:s,mycoin:c,state:l=lo.Password,isHardwareAccount:d,isMultichainAccount:u}=e;const{submitClaimingVesting:m,cancelClaimingVesting:p,clearVestingError:f}=$t(),h=Ki(),{amount:g}=st(()=>null==o?void 0:o.find(e=>{let{slug:t}=e;return t===a.Tu9.slug}),[o])||{},v=(0,zn.CF)(a.aEZ),y=!g||g<a.aEZ,{renderingKey:w,nextKey:b,updateNextKey:E}=Ib(l,Boolean(t)),k=!d&&!Cd(),C=st(()=>n?lS(n,["ready"]):"0",[n]),N=ri(e=>{y||m({password:e})}),S=ri(()=>{y||m()});if(c)return pt.createElement(bl,{isOpen:t,title:k?h("Confirm Unfreezing"):void 0,hasCloseButton:k,forceFullNative:!0,nativeBottomSheetKey:"vesting-confirm",contentClassName:"TSf_GkYf",onClose:p},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:w,nextKey:b,onStop:E},A));function A(e,n,o){switch(o){case lo.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:S,onClose:p});case lo.ConfirmHardware:return pt.createElement(Db,{text:h("Please confirm transaction on your Ledger"),error:s,onClose:p,onTryAgain:S});case lo.Password:return pt.createElement(ig,{isActive:Boolean(t),isLoading:r,withCloseButton:!0,operationType:"unfreeze",error:y?h("Insufficient Balance for Fee"):s,submitLabel:h("Confirm"),onSubmit:N,onCancel:p,onUpdate:f},function(){const e=qi("V5IIeyTC",!Cd()&&"ZROURKjf");return pt.createElement(pt.Fragment,null,pt.createElement(wC,{tokenIn:c,withChainIcon:u,text:Ai(C,c.symbol,c.decimals),className:Cd()?void 0:"pu3vP7ZP",secondText:i&&qt(i)}),pt.createElement("div",{className:e},bi(h("$fee_value_bold",{fee:Ai(v,a.Tu9.symbol)}))))}())}}})),fS=[{name:"Multisend",fontIcon:"menu-multisend",value:"multisend"}];function hS(e){"multisend"===e&&(Td(),Il(a.JDR,{title:Vi("Multisend"),subtitle:di(a.JDR)}))}const gS="Ehn5yB9o",vS="ZXtTwJ2M",yS="wvOK88A2",wS="ow57IO0l";function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bS.apply(null,arguments)}const ES=ut(function(e){let{isOpen:t,onClose:n,title:a,...o}=e;const r=Ki();return pt.createElement(bl,{isOpen:t,onClose:n,isCompact:!0,title:a??r("Blockchain Fee Details"),contentClassName:"ejEBAbV8"},pt.createElement(kS,bS({onClose:n},o)))});function kS(e){let{onClose:t,fullFee:n,realFee:a,realFeePrecision:o="exact",excessFee:r,excessFeePrecision:i="exact",token:s,extraContent:c}=e;const l=s&&wa(s.slug),d=l&&va(l),u=Ki();return pt.createElement(pt.Fragment,null,pt.createElement("div",null,pt.createElement("div",{className:"SpaIcYmy"},pt.createElement("div",{className:qi(gS,vS)},u("Final Fee")),pt.createElement("div",{className:qi(gS,yS)},u("Excess"))),pt.createElement("div",{className:"f8dLAhsP"},pt.createElement("div",{className:qi(wS,vS)},a&&s&&pt.createElement(_k,{terms:a,precision:o,token:s,shouldPreferIcons:!0})),pt.createElement("div",{className:qi(wS,yS)},void 0!==r&&s&&pt.createElement(_k,{terms:{native:r},precision:i,token:s,shouldPreferIcons:!0})))),pt.createElement("div",{className:"Tbn84o8Q"},pt.createElement("div",null,bi(u("$fee_details",{full_fee:n&&s&&pt.createElement("b",null,pt.createElement(_k,{terms:n,precision:"exact",token:s})),excess_symbol:pt.createElement("b",null,null==d?void 0:d.symbol),chain_name:l&&da(l)}))),c),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,className:ml.button,onClick:t},u("Got It"))))}const CS={modalDialog:"tGUq61Uw",scrollContent:"m5XAGki9",amountInput:"SZC58ifv",amountInputBuy:"uBBR78Gi",inputLabel:"EeV5B584",amountInputInner:"L752Cv1F",advancedSlippageContainer:"jiH3u0SA",content:"dQUuISOK",inputContainer:"IkAedzyb",advancedSlippageButton:"nnFruaI2",swapButtonWrapper:"eEwTqlEP",swapButtonWrapperStatic:"z1UgQ2yi",swapButton:"hrHymNJu",footerBlock:"yPmfwG9j",footerBlockStatic:"Edk19FlP",dot:"ru4rAllW",advancedBlock:"dx6Hf2xp",advancedRow:"QPeOMoOM",advancedDescription:"YzXjxATB",advancedTooltip:"QdMU2Tgb",advancedTooltipContainer:"VGq4FFXS",advancedValue:"JTLP1WRv",advancedSlippageError:"NW_aag3U",advancedSlippage:"K4rGLITC",advancedInput:"uWjxL_tL",advancedInputValue:"Y_KEhiFS",isEmpty:"lP4fP0kG",advancedError:"X2kTDRkO",advancedLink:"NlT_I8kT",advancedLinkIcon:"A0XDmIY2",advancedPlaceholder:"vvtzW7L0",footerButtonWrapper:"_5_NPQXE0",footerButton:"qzfAPYMD",footerButtonInner:"Ns4lxltP",swapArrowIcon:"Vzdj7mTH",changellyInfo:"gCMqbJwS",priceImpact:"nwwHhwFa",feeLine:"vz3aF88G",priceImpactSticker:"YaZn9OUh",priceImpactContent:"UUOZvXZT",priceImpactTitle:"sbyrAyQC",priceImpactArrow:"cEk2aQ7Z",priceImpactDescription:"olGNOU3k",swapCornerTop:"csDd7Ni1",swapCornerBottom:"xyxUxtsY",swapCornerStaticTop:"B7ECmlJ1",swapCornerStaticBottom:"WuHn_HeC",selectBlockchainBlock:"prVCHnG1",inputAddressWrapper:"DTAq0std",inputAddress:"b7EwDSEo",blockchainHintWrapper:"ywkeppF2",changellyDescription:"V7p8St7r",blockchainHintText:"CBP3_LjF",blockchainHintTextError:"t2EtyAQD",inputButton:"IpN3STYq",inputButtonShifted:"xDE5m07O",changellyInfoStatic:"EvrCvWOD",priceImpactStatic:"eoiWwJ0m",changellyInfoTitle:"fwJQ9lpO",changellyInfoDescription:"Y38OidS3",changellyIcon:"ieB34P8k",changellyInfoBlock:"aQOSkXKG",blockchainButtons:"pQ9YM0ta",changellyTextField:"cTKYWTLL",textFieldWrapperFullWidth:"VR4c3lOH",changellyImportantRed:"M_DwJtlB",arrowContainer:"abK4XtWe",arrowContainerInverted:"OSP7z62u",arrow:"ZktBDvds",arrowNew:"Z8CqJe5c",arrowOld:"G_2MIwOh",animateDisappear:"PpIbnc8v","arrow-disappear":"VKHzIRP6",arrowDisappear:"VKHzIRP6",animateAppear:"STVPF9rF","arrow-appear":"igBksUDT",arrowAppear:"igBksUDT",transactionBanner:"T1jLnRBM",changellyDescriptionBold:"Vbj5MEAN",qrCode:"MuLyFrfU",qrCodeHidden:"Fn7oQpnQ",textFieldLabel:"ak6Vmppj"},NS=250+a.xB5,SS=ut(function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,swapType:r,isEstimating:i,isSending:s,isNotEnoughNative:c,nativeToken:l,dieselStatus:d,isPriceImpactError:u,canSubmit:m,errorType:p,limits:f}=e;const h=Ki(),g=void 0!==p,v=s&&r===ro.CrosschainToWallet,y=!m||v,w=i||v,b={[oo.UnexpectedError]:h("Unexpected Error"),[oo.InvalidPair]:h("Invalid Pair"),[oo.NotEnoughLiquidity]:h("Insufficient liquidity"),[oo.ChangellyMinSwap]:h("Minimum amount",{value:Ti((null==f?void 0:f.fromMin)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[oo.ChangellyMaxSwap]:h("Maximum amount",{value:Ti((null==f?void 0:f.fromMax)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[oo.NotEnoughForFee]:h("Not Enough %symbol%",{symbol:null==t?void 0:t.symbol}),[oo.TooSmallAmount]:h("$swap_too_small_amount")},E=Boolean(a||o);let k="$swap_from_to";E&&(g?k=b[p]:l&&(c&&"ton"===(null==t?void 0:t.chain)&&null!=t&&t.tokenAddress?"not-available"===d?k=h("Not Enough %symbol%",{symbol:"TON"}):"pending-previous"===d?k=h("Awaiting Previous Fee"):"not-authorized"===d&&(k=h("Authorize %token% Fee",{token:null==t?void 0:t.symbol})):c&&(k=h("Not Enough %symbol%",{symbol:null==l?void 0:l.symbol}))));const C=Array.isArray(k)?k.join(""):k,N=E&&!i&&(u||g||l&&c&&(!d||"not-available"===d||"pending-previous"===d)),S=lt(0),A=function(e,t){const n=function(e,t,n){return Tp(t=>{t(e())},t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(()=>e(),[e],t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return tl(n,[n,e],!0)}(tl(()=>{const e="$swap_from_to"===C?h("$swap_from_to",{from:null==t?void 0:t.symbol,icon:pt.createElement("i",{className:qi("icon-chevron-right",CS.swapArrowIcon),"aria-hidden":!0}),to:null==n?void 0:n.symbol}):C;return pt.createElement(Qh,{name:"semiFade",className:CS.footerButtonWrapper,activeKey:S.current++},pt.createElement(dl,{isPrimary:!0,isSubmit:!0,className:CS.footerButton,isDisabled:y,isLoading:w,isDestructive:N},pt.createElement("span",{className:CS.footerButtonInner},e)))},[N,y,w,h,C,null==t?void 0:t.symbol,null==n?void 0:n.symbol]),NS);return nl(A)}),AS="mdHmid9q",IS="y7MeqLtP",TS="VF77TUMq",BS="sRFnXBUF",xS="e9qAwzfb",_S=i.p+"dedust.76618cc56dfd6341f305.png",LS=i.p+"stonfi.bf33a92c06cc67840d20.png",DS=/^\d{5,}([.,]|$)/,OS=ut(zt(e=>({currentSwap:e.currentSwap,swapVersion:e.swapVersion}))(function(e){let{tokenIn:t,tokenOut:n,isStatic:o,currentSwap:{amountOut:r,amountIn:i,estimates:s,currentDexLabel:c,bestRateDexLabel:l,inputSource:d,ourFeePercent:u=a.YDh},swapVersion:m}=e;const{setSwapDex:p}=$t(),f=Ki(),[h,g,v]=Np(!1),[y,w]=at(c),b=uv(null!=s&&s.length?s:void 0,!0),E=uv(c,!0),k=uv(l,!0),C=Boolean(l&&l===y),N=C?f("Use Best Rate"):f("Switch to %dex_name%",{dex_name:y?a.S7e[y]:""}),S=!!(null!=s&&s.length&&n&&r&&i),{shouldRender:A,ref:I}=rl({isOpen:2===m&&S,withShouldRender:!0}),T=ri(()=>{y&&p({dexLabel:y}),v()}),{shouldRender:B,value:x}=st(()=>function(e){let{ourFeePercent:t,decimals:n,bestRateDexLabel:a,estimates:o,inputSource:r}=e;if(!o||o.length<2)return{shouldRender:!1,value:"0"};const i=o.find(e=>{let{dexLabel:t}=e;return t===a}),s=o.find(e=>{let{dexLabel:t}=e;return t!==a});if(!s||!i)return{shouldRender:!1,value:"0"};const c=r===ao.In,l=c?"toAmount":"fromAmount",d=Number(i[l])/100*t,u=((0,zn.UH)(i[l],n)-(0,zn.UH)(s[l],n))*(c?1n:-1n);return{shouldRender:u-(0,zn.UH)(d,n)>0n,value:(0,zn.nI)(u,n)}}({ourFeePercent:u,decimals:d===ao.In?null==n?void 0:n.decimals:null==t?void 0:t.decimals,estimates:s,inputSource:d,bestRateDexLabel:k}),[k,s,d,u,null==t?void 0:t.decimals,null==n?void 0:n.decimals]),_=st(()=>{if(null!=b&&b.length&&!(b.length<2))return b.reduce((e,o)=>{const{fromAmount:r,toAmount:i,dexLabel:s}=o,c=d===ao.In?i:r,l=d===ao.In?n:t;if(DS.test(c)){const t=function(e,t){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals;const n=VN(t);return e.match(n)||void 0}(e,a.Vxu);if(!n)return;const[,o,r,i]=n,s=i||r?`.${(i||"").substring(0,a.Vxu)}`:"",c=o.replace(/\d(?=(\d{3})+($))/g,`$&${a.MS3}`);return pt.createElement(pt.Fragment,null,c,pt.createElement("span",{className:"jQ6cgMjD"},s," ",t.symbol))}(c,l);t&&(e[s]=t)}else e[s]=Ai(c,l.symbol);return e},{})},[d,b,t,n]);if(!A||null==b||!b.length)return;const L=pt.createElement(pt.Fragment,null,k===E&&b.length>1&&pt.createElement("span",{className:"Er8PXP6e"},pt.createElement("span",{className:"IIv2eCYK"},f("Best Rate"))),f("via %dex_name%",{dex_name:pt.createElement("strong",null,a.S7e[E])}),b.length>1&&pt.createElement("i",{className:qi("icon-chevron-right","jDHaQfBV"),"aria-hidden":!0}));return 1===b.length?pt.createElement("div",{ref:I,className:AS},pt.createElement("div",{className:IS},pt.createElement("span",{className:qi("M5luQatq",o&&TS)},L))):pt.createElement("div",{ref:I,className:AS},pt.createElement("div",{className:IS},pt.createElement("button",{type:"button",className:qi("bmtS8v9y",o&&TS),onClick:function(){h?v():(w(c),g())}},L),pt.createElement(bl,{isOpen:h,isCompact:!0,title:f("Built-in DEX Aggregator"),onClose:v},pt.createElement("div",{className:"NlzL4Voz"},b.map(e=>function(e){const o=PE(e.fromAmount,e.toAmount,t,n);return pt.createElement("div",{key:e.dexLabel,tabIndex:0,role:"button",className:qi("lL1VFeQA",k===e.dexLabel&&"AC6eCyuu",y===e.dexLabel&&"_F70O58C"),onClick:()=>{w(e.dexLabel)}},pt.createElement("div",{className:"YT_HY2ps"},pt.createElement("img",{src:"dedust"===e.dexLabel?_S:LS,alt:a.S7e[e.dexLabel],className:"V0Td82aA"}),a.S7e[e.dexLabel]),pt.createElement("div",{className:"J5iGiLKz"},null==_?void 0:_[e.dexLabel]),pt.createElement("div",{className:"JAHr4SCc"},o?pt.createElement(pt.Fragment,null,o.firstCurrencySymbol," ≈ ",o.price," ",o.secondCurrencySymbol):void 0),e.dexLabel===k&&pt.createElement("span",{className:"gq26TBf_"},f("Best")))}(e))),pt.createElement("p",{className:qi(BS,!C&&xS)},bi(f("$swap_dex_chooser_rate_title"))),B&&(d===ao.Out?pt.createElement("p",{className:qi(BS,!C&&xS)},bi(f("You will spend %amount% **less**.",{amount:pt.createElement("strong",null,Ai(x,t.symbol))}))):pt.createElement("p",{className:qi(BS,!C&&xS)},bi(f("You will receive %amount% **more**.",{amount:pt.createElement("strong",null,Ai(x,n.symbol))})))),pt.createElement("div",{className:qi(ml.buttons,"IfkI_jwY")},pt.createElement(Qh,{activeKey:C?0:1,name:"semiFade",slideClassName:"i8eq5QM3"},pt.createElement(dl,{isPrimary:!0,className:qi(ml.buttonFullWidth,C&&"MevYjouy"),onClick:T},N))))))}));function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},MS.apply(null,arguments)}const FS=[.5,1,2,5,10],PS=ut(zt(e=>{const{tokenInSlug:t,amountIn:n,amountOut:a,networkFee:o,realNetworkFee:r,slippage:i,priceImpact:s,amountOutMin:c,ourFee:l,ourFeePercent:d,dieselStatus:u,dieselFee:m}=e.currentSwap,p=t?ya(wa(t)):void 0,f=p?Yn(e,p.slug):void 0;return{amountIn:n,amountOut:a,networkFee:o,realNetworkFee:r,swapType:No(e),tokenIn:ko(e),tokenOut:Co(e),slippage:i,priceImpact:s,amountOutMin:c,ourFee:l,ourFeePercent:d,dieselStatus:u,dieselFee:m,nativeTokenInBalance:f}})(function(e){let{onClose:t,amountIn:n,amountOut:o,swapType:r,tokenIn:i,tokenOut:s,slippage:c,priceImpact:l,networkFee:d,realNetworkFee:u,amountOutMin:m,ourFee:p,ourFeePercent:f=a.YDh,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v,showFullNetworkFee:y,onNetworkFeeClick:w}=e;const{setSlippage:b}=$t(),E=Ki(),k=r===ro.OnChain,[C,N]=at(c),S=(l??0)>=5,A=void 0===C?"Slippage not specified":C>50?"Slippage too high":"",I=ri(()=>{b({slippage:C}),t()}),T=ri(e=>{const t=e?Number(e):void 0;N(t)}),B=st(()=>Mm({swapType:r,tokenInSlug:null==i?void 0:i.slug,networkFee:d,realNetworkFee:u,ourFee:p,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v}),[r,i,d,u,p,h,g,v]);return pt.createElement(pt.Fragment,null,k&&pt.createElement("div",{className:CS.advancedInput},function(){const e=FS.map((e,t)=>pt.createElement("div",{key:e,className:CS.advancedSlippageButton},pt.createElement("div",{role:"button",tabIndex:0,onClick:()=>N(e),className:CS.balanceLink},e,"%"),t+1!==FS.length&&pt.createElement("i",{className:CS.dot,"aria-hidden":!0})));return pt.createElement("div",{className:CS.advancedSlippageContainer},pt.createElement("span",{className:CS.advancedSlippage},e))}(),pt.createElement(cN,{labelText:pt.createElement(pt.Fragment,null,E("Slippage"),pt.createElement(WS,{isError:Boolean(A)},pt.createElement("span",null,E("$swap_slippage_tooltip1")),pt.createElement("span",null,E("$swap_slippage_tooltip2")))),labelClassName:CS.slippageLabel,value:null==C?void 0:C.toString(),hasError:Boolean(A),decimals:2,suffix:"%",size:"normal",onChange:T}),pt.createElement("div",{className:CS.advancedSlippageError},pt.createElement("span",null,E(A)))),pt.createElement("div",{className:CS.advancedBlock},function(){const e=PE(n,o,i,s,!0);return pt.createElement("div",{className:CS.advancedRow},pt.createElement("span",{className:CS.advancedDescription},E("Exchange Rate")),pt.createElement("span",{className:CS.advancedValue},e?`${e.firstCurrencySymbol} ≈ ${e.price} ${e.secondCurrencySymbol}`:pt.createElement(US,null)))}(),function(){const e=y?B.fullFee:B.realFee;let t=e&&i&&pt.createElement(_k,{terms:e.networkTerms,precision:e.precision,token:i});return t&&w&&(t=pt.createElement("span",{role:"button",tabIndex:0,className:CS.advancedLink,onClick:()=>w()},pt.createElement("span",null,t),pt.createElement("i",{className:qi("icon-chevron-right",CS.advancedLinkIcon),"aria-hidden":!0}))),pt.createElement("div",{className:CS.advancedRow},pt.createElement("span",{className:CS.advancedDescription},E("Blockchain Fee")),pt.createElement("span",{className:CS.advancedValue},t||pt.createElement(US,null)))}(),B.shouldShowOurFee&&pt.createElement("div",{className:CS.advancedRow},pt.createElement("span",{className:CS.advancedDescription},E("Aggregator Fee"),pt.createElement(WS,null,pt.createElement("span",null,bi(E("$swap_aggregator_fee_tooltip",{percent:`${f}%`}))))),pt.createElement("span",{className:CS.advancedValue},void 0!==p?Ai(p,(null==i?void 0:i.symbol)??"",void 0,!0):pt.createElement(US,null))),r===ro.OnChain&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:CS.advancedRow},pt.createElement("span",{className:qi(CS.advancedDescription,S&&CS.advancedError)},E("Price Impact"),pt.createElement(WS,{isError:Boolean(S)},pt.createElement("span",null,E("$swap_price_impact_tooltip1")),pt.createElement("span",null,E("$swap_price_impact_tooltip2")))),pt.createElement("span",{className:qi(CS.advancedValue,S&&CS.advancedError)},void 0!==l?`${l}%`:pt.createElement(US,null))),pt.createElement("div",{className:CS.advancedRow},pt.createElement("span",{className:CS.advancedDescription},E("Minimum Received"),pt.createElement(WS,null,pt.createElement("span",null,E("$swap_minimum_received_tooltip1")),pt.createElement("span",null,E("$swap_minimum_received_tooltip2")))),pt.createElement("span",{className:CS.advancedValue},void 0!==m&&s?Ai(m,s.symbol):pt.createElement(US,null))))),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{className:ml.button,onClick:t},E("Close")),k&&pt.createElement(dl,{isPrimary:!0,isDisabled:Boolean(A),className:ml.button,onClick:I},E("Save"))))}));function RS(e){let{isOpen:t,onClose:n,...a}=e;const o=Ki();return pt.createElement(bl,{isOpen:t,onClose:n,isCompact:!0,title:o("Swap Details")},pt.createElement(PS,MS({onClose:n},a)))}function US(){const e=Ki();return pt.createElement("span",{className:CS.advancedPlaceholder},e("No Data"))}function WS(e){let{children:t,isError:n}=e;return pt.createElement(pt.Fragment,null," ",pt.createElement(Xb,{message:t,size:"small",iconClassName:qi(CS.advancedTooltip,n&&CS.advancedError),tooltipClassName:CS.advancedTooltipContainer}))}const HS=ut(zt(e=>{var t;const n=sn(e);return{currentSwap:e.currentSwap,tokens:Eo(e),accountChains:null==n?void 0:n.byChain,isMultichainAccount:Cn(e,e.currentAccountId),swapType:No(e),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,pairsBySlug:null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug}},(e,t,n)=>n(e.currentAccountId))(function(e){var t,n,o,r,i,s;let{currentSwap:{tokenInSlug:c,tokenOutSlug:l,amountIn:d,amountOut:u,errorType:m,isEstimating:p,networkFee:f,realNetworkFee:h,priceImpact:g=0,inputSource:v,limits:y,isLoading:w,dieselStatus:b,ourFee:E,ourFeePercent:k,dieselFee:C},accountChains:N,tokens:S,isActive:A,isStatic:I,isMultichainAccount:T,swapType:B,isSensitiveDataHidden:x,pairsBySlug:_}=e;const{setDefaultSwapParams:L,setSwapAmountIn:D,setSwapAmountOut:O,switchSwapTokens:M,estimateSwap:F,setSwapScreen:P,setSwapCexAddress:R,authorizeDiesel:U,showNotification:W}=$t(),H=Ki(),$=lt(),V=lt(),z=c??a.Tu9.slug,K=l??a.rKC,q=st(()=>null==S?void 0:S.find(e=>e.slug===z),[z,S]),j=st(()=>null==S?void 0:S.find(e=>e.slug===K),[K,S]),Y=T||"ton"===(null==q?void 0:q.chain)?null===(t=ya(null==q?void 0:q.chain))||void 0===t?void 0:t.slug:void 0,G=st(()=>null==S?void 0:S.find(e=>e.slug===Y),[Y,S]),Q=(null==G?void 0:G.amount)??0n,X=d&&q?(0,zn.UH)(d,q.decimals):void 0,Z=u&&j?(0,zn.UH)(u,j.decimals):void 0,J=(null==q?void 0:q.amount)??0n,ee=st(()=>Mm({swapType:B,tokenInSlug:c,networkFee:f,realNetworkFee:h,ourFee:E,dieselStatus:b,dieselFee:C,nativeTokenInBalance:Q}),[B,c,f,h,E,b,C,Q]),te=Fm({swapType:B,tokenInBalance:J,tokenIn:q,fullNetworkFee:null===(n=ee.fullFee)||void 0===n?void 0:n.networkTerms,ourFeePercent:k}),ne=function(e){const{swapType:t,amountIn:n,tokenInBalance:a,nativeTokenInBalance:o,tokenIn:r,fullNetworkFee:i}=e;if(t===ro.CrosschainToWallet)return!0;if(void 0===n||!r||void 0===a||void 0===o||!i)return;const s=ya(wa(r.slug));if(!s)return;const c=Fm(e);if(void 0===c)return;const l=(0,zn.UH)(n,r.decimals),d=(0,zn.UH)(i.native??"0",s.decimals);return l<=c&&d<=o}({swapType:B,tokenInBalance:J,tokenIn:q,fullNetworkFee:null===(o=ee.fullFee)||void 0===o?void 0:o.networkTerms,ourFeePercent:k,amountIn:d,nativeTokenInBalance:Q}),ae=void 0!==f&&G?(0,zn.UH)(f,G.decimals):0n,oe=Q>=ae,re=ee.isGasless&&"not-authorized"===b,ie=re||(X??0n)>0n&&(Z??0n)>0n&&ne&&(!ee.isGasless||"available"===b||"stars-fee"===b)&&!p&&void 0===m,se=void 0!==X&&void 0!==te&&X>te,ce=(X??0n)<=0n&&v===ao.In?"":null==u?void 0:u.toString(),le=!1===ne&&!(void 0!==J&&void 0!==X&&X>J)&&"not-authorized"!==b&&"pending-previous"!==b,de=g>=5,ue=B===ro.CrosschainFromWallet||B===ro.CrosschainToWallet,[me,pe]=function(e,t,n,a,o,r){var i;const s=e||(null==t||null===(i=t[n])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.isReverseProhibited);return[s,st(()=>s?()=>{Td(),o({message:r("$swap_reverse_prohibited")})}:void 0,[s,r,o])]}(ue,_,z,K,W,H),fe=ri(()=>{(A&&!jd()||p)&&F()}),he=Bp(D,[D],500,!0),ge=Bp(O,[O],500,!0),[ve,ye,we,be]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o]=at();return[a,ri(()=>o("settings")),st(()=>n?()=>o("feeDetails"):void 0,[n]),ri(()=>o(void 0))]}(ee);rt(()=>{c||l||L()},[c,l]),rt(()=>{p&&fe();const e=setInterval(fe,1e3);return()=>clearInterval(e)},[p]);const Ee=ri(e=>{he({amount:e||void 0})}),ke=ri(()=>{P({state:no.SelectTokenFrom})}),Ce=ri(()=>{P({state:no.SelectTokenTo})}),Ne=ri(e=>{ge({amount:e||void 0})}),Se=ri(()=>{if(void 0===te)return;Td();const e=(0,zn.nI)(te,q.decimals);D({amount:e,isMaxAmount:!0})}),Ae=ri(e=>{if(Yr(e),ie)if(re)U();else{if(Td(),ue)return R({toAddress:""}),void(B===ro.CrosschainToWallet?P({state:no.Password}):T&&N[q.chain]&&N[j.chain]?(R({toAddress:N[j.chain].address}),P({state:no.Password})):P({state:no.Blockchain}));P({state:no.Password})}}),Ie=ri(()=>{Td(),M()});return pt.createElement(pt.Fragment,null,pt.createElement("form",{className:I?void 0:ml.transitionContent,onSubmit:Ae},pt.createElement("div",{className:CS.content},pt.createElement("div",{ref:$,className:CS.inputContainer},pt.createElement(PN,{maxAmount:te,token:q,isSensitiveDataHidden:x,onAmountClick:Se}),pt.createElement(cN,{id:"swap-sell",labelText:H("You sell"),className:CS.amountInput,hasError:se,value:null==d?void 0:d.toString(),isLoading:p&&v===ao.Out,onChange:Ee,onPressEnter:Ae,decimals:null==q?void 0:q.decimals,labelClassName:CS.inputLabel,inputClassName:CS.amountInputInner,cornerClassName:qi(CS.swapCornerTop,I&&CS.swapCornerStaticTop),isStatic:I},pt.createElement(qC,{token:q,onClick:ke}))),pt.createElement("div",{className:qi(CS.swapButtonWrapper,I&&CS.swapButtonWrapperStatic)},pt.createElement($S,{onClick:Ie})),pt.createElement("div",{ref:V,className:CS.inputContainer},pt.createElement(cN,{id:"swap-buy",labelText:H("You buy"),className:CS.amountInputBuy,value:ce,isLoading:p&&v===ao.In,disabled:me,onChange:Ne,onPressEnter:Ae,onInputClick:pe,decimals:null==j?void 0:j.decimals,labelClassName:CS.inputLabel,inputClassName:CS.amountInputInner,cornerClassName:qi(CS.swapCornerBottom,I&&CS.swapCornerStaticBottom),isStatic:I},pt.createElement(qC,{token:j,onClick:Ce})))),pt.createElement(OS,{tokenIn:q,tokenOut:j,isStatic:I}),pt.createElement("div",{className:qi(CS.footerBlock,I&&CS.footerBlockStatic)},function(){let e,t="exact";if(d&&u||(d||u)&&m){const n=le?ee.fullFee:void 0;n&&({terms:e,precision:t}=n)}return pt.createElement(Lk,{isStatic:I,terms:e,token:q,precision:t,keepDetailsButtonWithoutFee:!0,onDetailsClick:ye,className:CS.feeLine})}(),function(){if(g&&de&&!ue)return pt.createElement("div",{className:qi(CS.priceImpact,I&&CS.priceImpactStatic),onClick:ye},pt.createElement(Nh,{play:A,tgsUrl:Qf.run,previewUrl:Qf.runPreview,noLoop:!1,nonInteractive:!0,size:a.YO8,className:CS.priceImpactSticker}),pt.createElement("div",{className:CS.priceImpactContent},pt.createElement("span",{className:CS.priceImpactTitle},H("The exchange rate is below market value!",{value:`${g}%`}),pt.createElement("i",{className:qi(CS.priceImpactArrow,"icon-chevron-right"),"aria-hidden":!0})),pt.createElement("span",{className:CS.priceImpactDescription},H("We do not recommend to perform an exchange, try to specify a lower amount."))))}(),function(){if(ue)return pt.createElement("div",{className:qi(CS.changellyInfo,I&&CS.changellyInfoStatic)},pt.createElement("span",{className:CS.changellyInfoTitle},pt.createElement("i",{className:qi("icon-changelly",CS.changellyIcon),"aria-hidden":!0}),H("Cross-chain exchange provided by Changelly")),pt.createElement("span",{className:CS.changellyInfoDescription},H("$swap_changelly_agreement_message",{terms:pt.createElement("a",{href:a.Kq_,target:"_blank",rel:"noreferrer"},H("$swap_changelly_terms_of_use")),policy:pt.createElement("a",{href:a.kuw,target:"_blank",rel:"noreferrer"},H("$swap_changelly_privacy_policy")),kyc:pt.createElement("a",{href:a.BZS,target:"_blank",rel:"noreferrer"},"Changelly AML/KYC")})))}(),pt.createElement(SS,{tokenIn:q,tokenOut:j,amountIn:d,amountOut:u,swapType:B,isEstimating:p,isNotEnoughNative:!oe,nativeToken:G,dieselStatus:b,isSending:w,isPriceImpactError:de,canSubmit:ie,errorType:m,limits:y}))),pt.createElement(RS,{isOpen:"settings"===ve,onClose:be,onNetworkFeeClick:we,showFullNetworkFee:le}),pt.createElement(ES,{isOpen:"feeDetails"===ve,onClose:be,fullFee:null===(r=ee.fullFee)||void 0===r?void 0:r.networkTerms,realFee:null===(i=ee.realFee)||void 0===i?void 0:i.networkTerms,realFeePrecision:null===(s=ee.realFee)||void 0===s?void 0:s.precision,excessFee:ee.excessFee,excessFeePrecision:"approximate",token:q}))}));function $S(e){let{onClick:t}=e;const n=Wt().settings.animationLevel===a.zP3,[o,r,i]=Np(!1),s=ri(()=>{n&&(r(),window.setTimeout(()=>{i()},350)),null==t||t()});function c(e){return pt.createElement("div",{className:qi(CS.arrowContainer,e&&CS.arrowContainerInverted)},pt.createElement("div",{className:CS.arrow},pt.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),pt.createElement("div",{className:qi(CS.arrowOld,o&&CS.animateDisappear)},pt.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),pt.createElement("div",{className:qi(CS.arrowNew,o&&CS.animateAppear)},pt.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})))}return pt.createElement("div",{className:CS.swapButton,onClick:s},c(),c(!0))}function VS(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e).slice(0,t);return n.decode(a).replace(/\uFFFD/g,"")}const zS=[{value:"raw",name:"Comment or Memo"},{value:"encrypted",name:"Encrypted Message"}],KS=ut(function(e){let{comment:t,shouldEncrypt:n,binPayload:a,stateInit:o,chain:r,isStatic:i,isCommentRequired:s,isEncryptedCommentSupported:c,onCommentChange:l}=e;const{setTransferShouldEncrypt:d}=$t(),u=Ki(),m=ri(e=>{d({shouldEncrypt:"encrypted"===e})}),p=st(()=>c?zS:zS.slice(0,1),[c]);return a||o?pt.createElement(pt.Fragment,null,a&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},u("Signing Data")),pt.createElement(Ck,{text:a,copyNotification:u("Data was copied!"),className:kC})),o&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},u("Contract Initialization Data")),pt.createElement(Ck,{text:o,copyNotification:u("Data was copied!"),className:kC})),pt.createElement("div",{className:AC},bi(u("$signature_warning")))):pt.createElement(Ah,{wrapperClassName:NC,className:i?"RJsBtjCe":void 0,label:pt.createElement(Fb,{items:p,selectedValue:zS[n?1:0].value,theme:"inherit",disabled:"tron"===r,menuPositionX:"left",shouldTranslateOptions:!0,onChange:m}),placeholder:u(s?"Required":"Optional"),value:t,isMultiline:!0,isDisabled:"tron"===r,onInput:l,isRequired:s})});function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qS.apply(null,arguments)}const jS=new Set([Xa.Initial,Xa.None]),YS=xo.Z2,GS=(0,c.sg)(e=>e(),500,!1),QS=ut(zt(e=>{const{toAddress:t,resolvedAddress:n,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,tokenSlug:d,isLoading:u,state:m,nfts:p,binPayload:f,isMemoRequired:h,diesel:g,stateInit:v,scamWarningType:y}=e.currentTransfer,w=fn(e),b=dn(e),{baseCurrency:E=a.wOb,isSensitiveDataHidden:k}=e.settings,C=jS.has(m),N=wa(d);return{toAddress:t,resolvedAddress:n,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,nfts:p,tokenSlug:d,binPayload:f,stateInit:v,tokens:jn(e),savedAddresses:null==b?void 0:b.savedAddresses,isEncryptedCommentSupported:!(w||null!=p&&p.length||h),isMemoRequired:h,isActive:C,isLoading:u&&C,baseCurrency:E,currentAccountId:e.currentAccountId,accounts:on(e),nativeTokenBalance:Yn(e,va(N).slug),diesel:g,isDieselAuthorizationStarted:null==b?void 0:b.isDieselAuthorizationStarted,isMultichainAccount:Cn(e,e.currentAccountId),isMultisig:Nn(e,e.currentAccountId,N),isSensitiveDataHidden:k,scamWarningType:y,isAllowSuspiciousActions:In(e,e.currentAccountId)}},(e,t,n)=>n(e.currentAccountId))(function(e){var t,n,o,r,i;let{isStatic:s,slideClassName:c,tokenSlug:l,toAddress:d="",resolvedAddress:u,toAddressName:m="",amount:p,comment:f="",shouldEncrypt:h,tokens:g,fee:v,realFee:y,savedAddresses:w,accounts:b,nativeTokenBalance:E,currentAccountId:k,isEncryptedCommentSupported:C,isMemoRequired:N,isActive:S,isLoading:A,baseCurrency:I,nfts:T,binPayload:B,stateInit:x,diesel:_,isDieselAuthorizationStarted:L,isMultichainAccount:D,isMultisig:O,isSensitiveDataHidden:M,scamWarningType:F,isAllowSuspiciousActions:P}=e;const{submitTransferInitial:R,fetchTransferFee:U,fetchNftFee:W,changeTransferToken:H,setTransferAmount:$,setTransferToAddress:V,setTransferComment:z,setTransferShouldEncrypt:K,cancelTransfer:q,showDialog:j,authorizeDiesel:Y,fetchTransferDieselState:G,checkTransferAddress:Q,dismissTransferScamWarning:X}=$t(),Z=Boolean(null==T?void 0:T.length);Z&&(l=a.Tu9.slug,p=void 0);const J=Ki(),ee=st(()=>null==g?void 0:g.find(e=>e.slug===l),[l,g]),{amount:te,symbol:ne,chain:ae}=ee||{},oe=uv(F,!0),re=lt(!1),ie=l===a.Tu9.slug,se=ae?Fo(d,ae):void 0,ce=ae&&ca(ae).isTransferCommentSupported,le=gw(null!=T&&T.length?T:[l]),de=ri((e,t)=>{t&&(re.current=!0),V({toAddress:e})}),ue=!(d||f||B||h||(Z?s:void 0!==p)),me=st(()=>Io({fee:v,realFee:y,diesel:_,tokenSlug:l}),[v,y,_,l]),pe=function(e){let{tokenBalance:t,nativeTokenBalance:n,transferAmount:a,fullFee:o,canTransferFullBalance:r}=e;if(void 0===a||void 0===t||void 0===n||!o)return;const i=a===t&&r,s=(o.token??0n)+(i?0n:a),c=o.native??0n;return s<=t&&c<=n}({tokenBalance:te,nativeTokenBalance:E,transferAmount:Z?0n:p,fullFee:null===(t=me.fullFee)||void 0===t?void 0:t.terms,canTransferFullBalance:me.canTransferFullBalance}),fe=!Z&&!p,he=To({tokenBalance:te,tokenSlug:l,fullFee:null===(n=me.fullFee)||void 0===n?void 0:n.terms,canTransferFullBalance:me.canTransferFullBalance}),ge="not-authorized"===(null==_?void 0:_.status),ve=ge&&L?YS:void 0,ye=ri(()=>{G({tokenSlug:l})});xv(ye,ve),rt(()=>{ie&&te&&p&&v&&p<te&&v<te&&p+v>=te&&$({amount:te-v})},[ie,p,te,v]),rt(()=>{if(fe||!se)return;const e=()=>{Z?W({toAddress:d,comment:f,nfts:T??[]}):U({tokenSlug:l,toAddress:d,comment:f,shouldEncrypt:h,binPayload:B,stateInit:x})};re.current?(re.current=!1,e()):GS(e)},[fe,B,f,h,se,Z,T,x,d,l]),rt(()=>{ba(ee)&&j({title:J("Warning!"),message:J("$service_token_transfer_warning"),noBackdropClose:!0})},[J,ee]);const we=ri(e=>{H({tokenSlug:e})});function be(){de(""),Q({address:""}),$({amount:void 0}),z({comment:void 0}),K({shouldEncrypt:!1})}const Ee=ri(()=>{s?q({shouldReset:!0}):be()}),ke=ri(()=>{X(),s?be():q({shouldReset:!0})}),Ce=ri(()=>{re.current=!0}),Ne=ri(e=>{z({comment:VS(e,5e3)})}),Se=!Z&&void 0!==te&&void 0!==p&&p>te,Ae=!1===pe&&!Se&&"not-authorized"!==(null==_?void 0:_.status)&&"pending-previous"!==(null==_?void 0:_.status),Ie=!Z&&void 0!==p&&(void 0!==he&&p>he||Ae),Te=Boolean(d)&&N,Be=ge||Boolean(se&&!fe&&!Ie&&pe&&!(Te&&!f)&&!O&&(!me.isGasless||"available"===(null==_?void 0:_.status)||"stars-fee"===(null==_?void 0:_.status))&&!(Z&&(null==T||!T.length))),xe=ri(e=>{e&&Yr(e),F||(ge?Y():Be&&(Td(),R({tokenSlug:l,amount:p??0n,toAddress:d,comment:f,binPayload:B,shouldEncrypt:h,nfts:T,withDiesel:me.isGasless,isGaslessWithStars:"stars-fee"===(null==_?void 0:_.status),stateInit:x})))}),[_e,Le,De]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o,r]=Np(!1);return[a,n?o:void 0,r]}(me),Oe=st(()=>(g??[]).filter(e=>function(e,t){return"lp_token"!==e.type||e.amount>0&&!e.isDisabled||e.slug===t}(e,l)),[g,l]),Me=_N({amount:p,token:ee,baseCurrency:I,onAmountChange:(e,t)=>{S&&(void 0!==e&&e<0||(t&&(re.current=!0),$({amount:e})))},onTokenChange:we}),Fe=ct(e=>{let t=0,n=" ";return O?(t=1,n=pt.createElement("span",{className:EC},J("Multisig sending disabled"))):p&&(Se?(t=2,n=pt.createElement("span",{className:EC},J("Insufficient balance"))):Ae&&(t=3,n=pt.createElement("span",{className:EC},J("Insufficient fee")))),pt.createElement(Qh,{className:e,name:"fade",activeKey:t},n)},[p,Ae,Se,O,J]);return pt.createElement(pt.Fragment,null,pt.createElement("form",{className:s?void 0:ml.transitionContent,onSubmit:xe,onPaste:Ce},pt.createElement(Qh,{activeKey:le,name:"semiFade",direction:s&&!ce?"inverse":void 0,shouldCleanup:!0,slideClassName:qi("TEJfM3gl",s&&"mfCYg0_s",c)},1===(null==T?void 0:T.length)&&pt.createElement(fk,{nft:T[0],isStatic:s,withMediaViewer:!0}),Boolean(null==T?void 0:T.length)&&T.length>1&&pt.createElement(VC,{nfts:T,isStatic:s}),pt.createElement(LC,{label:J("Recipient Address"),value:d,chain:ae,addressBookChain:Z?"ton":void 0,currentAccountId:k,accounts:b,savedAddresses:w,validateAddress:Q,isStatic:s,withQrScan:!0,address:u||d,addressName:m,onInput:de,onClose:q}),!Z&&pt.createElement($N,qS({},Me,{maxAmount:he,token:ee,allTokens:Oe,isStatic:s,hasError:Ie,isMultichainAccount:D,isMaxAmountLoading:void 0===he,isSensitiveDataHidden:M,renderBottomRight:Fe,onPressEnter:xe})),ce&&pt.createElement(KS,{comment:f,shouldEncrypt:h,binPayload:B,stateInit:x,chain:ae,isStatic:s,isCommentRequired:Te,isEncryptedCommentSupported:C,onCommentChange:Ne}),pt.createElement("div",{className:qi("yVExFE73",s&&"ton"!==ae&&"NGWUkuR3")},function(){let e,t="exact";if(!fe){const n=Ae?me.fullFee:me.realFee;n&&({terms:e,precision:t}=n)}return pt.createElement(Lk,{isStatic:s,terms:e,token:ee,precision:t,onDetailsClick:Le})}(),pt.createElement("div",{className:"oMCN3Z8P"},pt.createElement(dl,{isDisabled:ue||A,className:SC,onClick:Ee},J("Clear")),pt.createElement(dl,{isPrimary:!0,isSubmit:!0,isDisabled:!Be,isLoading:A,className:SC},"not-authorized"===(null==_?void 0:_.status)?J("Authorize %token% Fee",{token:ne}):"pending-previous"===(null==_?void 0:_.status)?J("Awaiting Previous Fee"):J("$send_token_symbol",Z?"NFT":ne||"TON")))))),pt.createElement(ES,{isOpen:_e,onClose:De,fullFee:null===(o=me.fullFee)||void 0===o?void 0:o.terms,realFee:null===(r=me.realFee)||void 0===r?void 0:r.terms,realFeePrecision:null===(i=me.realFee)||void 0===i?void 0:i.precision,excessFee:me.excessFee,excessFeePrecision:"approximate",token:ee}),pt.createElement(bl,{isOpen:Boolean(F),isCompact:!0,title:J("Warning!"),noBackdropClose:!0,onClose:ke},pt.createElement("div",null,function(e,t){return t?e(t===Za.DomainLike?"$domain_like_scam_warning":"$seed_phrase_scam_warning",{help_center_link:pt.createElement("a",{href:Fv(e.code,t===Za.DomainLike?"domainScam":"seedScam"),target:"_blank",rel:"noreferrer"},pt.createElement("b",null,e("$help_center_prepositional")))}):void 0}(J,oe)),pt.createElement("div",{className:ml.footerButtons},P?pt.createElement(pt.Fragment,null,pt.createElement(dl,{className:ml.button,onClick:ke},J("Close")),pt.createElement(dl,{isPrimary:!0,isDestructive:!0,className:ml.button,onClick:X},J("Continue"))):pt.createElement(dl,{onClick:ke},J("Close")))))})),XS=e=>{let{elementRef:t,isMenuDisabled:n,shouldDisableOnLink:a,shouldDisableOnLongTap:o,shouldDisablePropagation:i}=e;const[s,c]=at(!1),[l,d]=at(void 0),[u,m]=at(void 0),p=ri(e=>{n||2!==e.button||(0,we.RK)(()=>{qc(e.target,"no-selection")})}),f=ri(e=>{(0,we.RK)(()=>{jc(e.target,"no-selection")}),n||a&&e.target.matches("a[href]")||(Yr(e),l||(c(!0),d({x:e.clientX,y:e.clientY}),m(e.target),Td()))}),h=ri(()=>{c(!1)}),g=ri(()=>{d(void 0)}),v=ri(e=>{s&&Yr(e)});return rt(()=>{if(n||!r.TF||o)return;const e=t.current;if(!e)return;let s;const u=()=>{s&&(clearTimeout(s),s=void 0)},m=e=>{u(),v(e)},p=e=>{n||(i&&e.stopPropagation(),u(),s=window.setTimeout(()=>(e=>{u();const{clientX:t,clientY:n,target:o}=e.touches[0];l||a&&o.matches("a[href]")||(document.addEventListener("touchend",e=>{r.pz&&r._7&&setTimeout(()=>{document.removeEventListener("mousedown",Yr,{capture:!0}),document.removeEventListener("click",Yr,{capture:!0})},100),Yr(e)},{once:!0,capture:!0}),r._7&&r.pz&&(document.addEventListener("mousedown",Yr,{once:!0,capture:!0}),document.addEventListener("click",Yr,{once:!0,capture:!0})),c(!0),d({x:t,y:n}),Td())})(e),200))};return e.addEventListener("touchstart",p,{passive:!0}),e.addEventListener("touchcancel",u,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",m,!0),()=>{u(),e.removeEventListener("touchstart",p),e.removeEventListener("touchcancel",u,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",m,!0)}},[l,n,o,t,a,i]),{isContextMenuOpen:s,contextMenuAnchor:l,contextMenuTarget:u,handleBeforeContextMenu:p,handleContextMenu:f,handleContextMenuClose:h,handleContextMenuHide:g}};function ZS(e){let{items:t,rootRef:n,onItemClick:a,children:o,menuClassName:r,menuPositionY:i="bottom"}=e;const s=lt(),c=lt(),{isPortrait:l}=xs(),d=ri(()=>s.current),u=ri(()=>(null==n?void 0:n.current)??document.body),m=ri(()=>c.current),p=ri(()=>({withPortal:!0,doNotCoverTrigger:!0,centerHorizontally:!0})),{isContextMenuOpen:f,contextMenuAnchor:h,handleBeforeContextMenu:g,handleContextMenu:v,handleContextMenuClose:y,handleContextMenuHide:w}=XS({elementRef:s,shouldDisablePropagation:!0}),b=ri(e=>{a(e)});return pt.createElement(pt.Fragment,null,l&&pt.createElement(yk,{isMenuOpen:f,contentRef:s,contentClassName:r}),o({ref:s,onMouseDown:g,onContextMenu:v},f),!!h&&pt.createElement(kv,{ref:c,withPortal:!0,shouldTranslateOptions:!0,isOpen:f,items:t,menuPositionY:i,menuAnchor:h,bubbleClassName:r,getTriggerElement:d,getRootElement:u,getMenuElement:m,getLayout:p,onSelect:b,onClose:y,onCloseAnimationEnd:w}))}const JS={container:"oiB1R7GB",tabs:"Sue0UN3j",notAllTabs:"QLxHVfeT",tab:"qUqbpDN6",active:"PSKCyspY",tab_purple:"Hw7rCAOU",tabPurple:"Hw7rCAOU",tab_purpleText:"Y4BNELoX",tabPurpleText:"Y4BNELoX",tabDelimiter:"CLfyAuI6",withContextMenu:"xFC2ES5I",tabDecoration:"SSnDTAfy",tabIcon:"nIk_Y_3d",tabText:"IfCQ498V",contentHeader:"LzaI7YWC",firstActive:"G0Sd_POg",contentHeaderInner:"rWtZ588N",lastActive:"Y80L38VI",contentBg:"ibE61V3n",contentFooter:"WvrNEDxt",contentSlideStaked:"F0M6K6CS","tab-0":"NmGloXOI",tab0:"NmGloXOI","tab-1":"S7XD0emA",tab1:"S7XD0emA",slideContent:"bTsglo_e",transitionContent:"YJuoqMiV",slideContentAddBuy:"QO6jMpRA",spinner:"KCsGLTLM",menu:"Q6q8HQcu"};function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eA.apply(null,arguments)}const tA=[po.Receive,po.Transfer,po.Swap,po.Stake],nA={inactive:"Earn",active:"Earning",unstakeRequested:"$unstaking_short",readyToClaim:"$unstaking_short"},aA=ut(zt(e=>{var t;const n=un(e,e.currentAccountId)??{},{isOnRampDisabled:a}=e.restrictions;return{activeTabIndex:null==n?void 0:n.landscapeActionsActiveTabIndex,isTestnet:e.settings.isTestnet,isSwapDisabled:So(e),isStakingDisabled:Ko(e),isOnRampDisabled:a,accentColorIndex:null===(t=pn(e))||void 0===t?void 0:t.accentColorIndex}},(e,t,n)=>n(e.currentAccountId))(function(e){let{containerRef:t,stakingStatus:n,isLedger:o,theme:i,activeTabIndex:s=a.Dde,isTestnet:c,isSwapDisabled:l,isOnRampDisabled:d,isStakingDisabled:u,accentColorIndex:m}=e;const{setLandscapeActionsActiveTabIndex:p}=$t(),f=Ki(),h=s===po.Stake&&"inactive"!==n,g=`transfer_slide_${wt()}`,{renderedBgHelpers:v,transitionRef:y}=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=lt(),r=lt(),i=lt(),s=lt(),c=ri(function(){var n,c;let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=`.${e}.${Yh}`,u=a?" .staking-info":"",m=`${d} .${t}.${Gh}, ${d} .${t}.${Yh}`,p=`.${e}.${Gh}${u}, ${d}${u}`,f=((null===(n=o.current)||void 0===n?void 0:n.querySelector(m))||(null===(c=o.current)||void 0===c?void 0:c.querySelector(p))).getBoundingClientRect(),h=!s.current||l;s.current!==f.height&&r.current&&(0,we.RK)(()=>{if(!r.current||!i.current)return;const e=r.current.style,t=i.current.style;h&&(e.transition="none",t.transition="none"),e.transform=`scaleY(calc(${f.height} / 100))`,t.transform=`translateY(${Math.floor(f.height)}px)`,h&&(0,we.RK)(()=>{r.current&&i.current&&(r.current.style.transition="",i.current.style.transition="")}),s.current=f.height})});rt(()=>{c(!0);const e=new ResizeObserver(e=>{e.length&&c()});return o.current&&e.observe(o.current),()=>{e.disconnect()}},[c]);return{renderedBgHelpers:st(()=>pt.createElement(pt.Fragment,null,pt.createElement("div",{ref:r,className:qi(JS.contentBg,n)}),pt.createElement("div",{ref:i,className:qi(JS.contentFooter,n)})),[n]),transitionRef:o}}(JS.slideContent,g,h?JS.contentSlideStaked:void 0,h),w=!c&&!d,b=l||u,E=u&&l&&s===po.Transfer||u&&!l&&s===po.Swap||!u&&s===po.Stake,[k,C,N]=Np(),[S,A,I]=Np(),[T,B,x]=Np(),[_,L,D]=Np(),O=cg(i),M=Qf[O],F=m?Mg[O][m]:void 0,P=lt(0);function R(e){switch(s){case po.Receive:return pt.createElement("div",{className:qi(JS.slideContent,JS.slideContentAddBuy)},pt.createElement(TN,{isOpen:e,isStatic:!0}));case po.Transfer:return pt.createElement("div",{className:qi(JS.slideContent,JS.slideContentTransfer)},pt.createElement(QS,{isStatic:!0,slideClassName:g}));case po.Swap:return pt.createElement("div",{className:JS.slideContent},pt.createElement(HS,{isStatic:!0,isActive:e}));case po.Stake:return pt.createElement("div",{className:JS.slideContent},pt.createElement("inactive"===n?QN:nS,{isStatic:!0,isActive:e}));default:return}}function U(e,t){r.TF&&t(),p({index:e},{forceOnHeavyAnimation:!0})}return yt(()=>{P.current++},[F]),rt(()=>{(l&&s===po.Swap||u&&s===po.Stake)&&p({index:po.Transfer})},[s,c,o,l,u]),pt.createElement("div",{className:JS.container},pt.createElement("div",{className:qi(JS.tabs,b&&JS.notAllTabs)},pt.createElement("div",{className:qi(JS.tab,s===po.Receive&&JS.active),onMouseEnter:r.TF?void 0:C,onContextMenu:Yr,onClick:()=>{U(po.Receive,C)}},pt.createElement(Nh,{play:k,size:a.lk4,speed:2,className:JS.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconAdd,iconPreviewClass:"icon-action-add",onEnded:N}),pt.createElement("span",{className:JS.tabText},f(!l||w?"Deposit":"Add")),pt.createElement("span",{className:JS.tabDecoration,"aria-hidden":!0})),pt.createElement(ZS,{items:fS,rootRef:t,menuClassName:JS.menu,onItemClick:hS},e=>{let{ref:t,...n}=e;return pt.createElement("div",eA({},n,{ref:t,className:qi(JS.tab,s===po.Transfer&&JS.active,JS.withContextMenu),onMouseEnter:r.TF?void 0:A,onClick:()=>{U(po.Transfer,A)}}),pt.createElement(Nh,{play:S,size:a.lk4,speed:2,className:JS.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconSend,iconPreviewClass:"icon-action-send",onEnded:I}),pt.createElement("span",{className:JS.tabText},f("Send")),pt.createElement("span",{className:JS.tabDecoration,"aria-hidden":!0}),pt.createElement("span",{className:JS.tabDelimiter,"aria-hidden":!0}))}),!l&&pt.createElement("div",{className:qi(JS.tab,s===po.Swap&&JS.active),onMouseEnter:r.TF?void 0:B,onContextMenu:Yr,onClick:()=>{U(po.Swap,B)}},pt.createElement(Nh,{play:T,size:a.lk4,speed:2,className:JS.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconSwap,iconPreviewClass:"icon-action-swap",onEnded:x}),pt.createElement("span",{className:JS.tabText},f("Swap")),pt.createElement("span",{className:JS.tabDecoration,"aria-hidden":!0}),pt.createElement("span",{className:JS.tabDelimiter,"aria-hidden":!0})),!u&&pt.createElement("div",{className:qi(JS.tab,s===po.Stake&&JS.active,h&&JS.tab_purple,"inactive"!==n&&JS.tab_purpleText),onMouseEnter:r.TF?void 0:L,onContextMenu:Yr,onClick:()=>{U(po.Stake,L)}},pt.createElement(Nh,{play:_,size:a.lk4,speed:2,className:JS.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M["inactive"!==n?"iconEarnPurple":"iconEarn"],iconPreviewClass:qi("icon-action-earn","inactive"!==n&&JS.tab_purpleText),onEnded:D}),pt.createElement("span",{className:JS.tabText},f(nA[n])),pt.createElement("span",{className:JS.tabDecoration,"aria-hidden":!0}),pt.createElement("span",{className:JS.tabDelimiter,"aria-hidden":!0}))),pt.createElement("div",{className:qi(JS.contentHeader,s===po.Receive&&JS.firstActive,E&&JS.lastActive)},pt.createElement("div",{className:qi(JS.contentHeaderInner,h&&JS.contentSlideStaked)})),v,pt.createElement(Qh,{ref:y,name:"slideFade",activeKey:s,renderCount:tA.length,className:qi(JS.transitionContent,"static-container")},R))})),oA="f9uDJdvE",rA="iQddp8Ac";function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iA.apply(null,arguments)}const sA=ut(function(e){let{isTestnet:t,stakingStatus:n,isStakingDisabled:o,isSwapDisabled:r,isOnRampDisabled:i,containerRef:s,onEarnClick:c}=e;const{startTransfer:l,startSwap:d,openReceiveModal:u}=$t(),m=Ki(),p=!t&&!i,f=a.TI6?"Receive":!r||p?"Deposit":"Add",h=ri(()=>{Td(),d()}),g=ri(()=>{Td(),l({isPortrait:!0})}),v=ri(()=>{Td(),u()}),y=ri(()=>{Td(),c()});return pt.createElement("div",{className:"oAYeit4x"},pt.createElement("div",{className:"Xw7VtigI"},pt.createElement(dl,{isSimple:!0,className:oA,onClick:v},pt.createElement("i",{className:qi(rA,"icon-action-add"),"aria-hidden":!0}),m(f)),pt.createElement(ZS,{rootRef:s,items:fS,menuClassName:"kJbEm897",onItemClick:hS},(e,t)=>pt.createElement(dl,iA({},e,{isSimple:!0,className:qi(oA,t&&"s05GLla1"),onClick:g,ref:e.ref}),pt.createElement("i",{className:qi(rA,"icon-action-send"),"aria-hidden":!0}),m("Send"))),!r&&pt.createElement(dl,{isSimple:!0,className:oA,onClick:h},pt.createElement("i",{className:qi(rA,"icon-action-swap"),"aria-hidden":!0}),m("Swap")),!o&&pt.createElement(dl,{isSimple:!0,className:qi(oA,"inactive"!==n&&"DSist0sY"),onClick:y},pt.createElement("i",{className:qi(rA,"icon-action-earn"),"aria-hidden":!0}),m(nA[n]))))});function cA(e){const[t,n]=at(!1);return xv(()=>{var t;const a=null===(t=dn(Wt()))||void 0===t?void 0:t[e];if(!a)return void n(!1);const o=Date.now()-a;n(o>2e3)},1e3,!1),t}const lA=ut(function(e){let{className:t,noAnimation:n}=e;const a=wt("transparentMask-");return pt.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",className:t},pt.createElement("mask",{id:a},pt.createElement("rect",{width:"32",height:"32",fill:"black"}),pt.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"white"}),pt.createElement("path",{d:"M17.375 8.87438C17.375 8.11563 16.7594 7.5 16 7.5C15.2406 7.5 14.625 8.11563 14.625\r 8.87438V16.0006C14.625 16.76 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.76 17.375 16.0006V8.87438Z",fill:"black"},!n&&pt.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"2s",repeatCount:"indefinite"})),pt.createElement("path",{d:"M17.375 11.985C17.375 11.2337 16.7594 10.625 16 10.625C15.2406 10.625 14.625 11.2337 14.625\r 11.985V16.015C14.625 16.7662 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.7662 17.375 16.015V11.985Z",fill:"black"},!n&&pt.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"12s",repeatCount:"indefinite"}))),pt.createElement("rect",{className:"avkqxacs",width:"32",height:"32",mask:`url(#${a})`}))}),dA=ut(zt(e=>{const t=dn(e),{config:n}=dn(e)||{},o=e.settings.animationLevel;return{hasCardsInfo:Boolean(null==n?void 0:n.cardsInfo),isCardMinting:null==t?void 0:t.isCardMinting,noAnimation:o===a.dnp}})(function(e){let{isCardMinting:t,hasCardsInfo:n,noAnimation:a}=e;const{openMintCardModal:o}=$t(),r=Ki(),{shouldRender:i,ref:s}=rl({isOpen:n||t,withShouldRender:!0});if(i)return pt.createElement("button",{ref:s,type:"button",className:"XUXxtxF8","aria-label":r("Mint Cards"),title:r("Mint Cards"),onClick:()=>o()},pt.createElement("i",{className:t?"icon-magic-wand-loading":"icon-magic-wand","aria-hidden":!0}),t&&pt.createElement(lA,{className:"uN651IGD",noAnimation:a}))}));let uA=0;const mA=(0,c.Fe)(()=>{uA=0}),pA=ut(e=>{let{text:t,isDisabled:n}=e;const o=Wt().settings.animationLevel,{isRtl:r}=Ki(),i=vt(t),s=ft(),c=!(!(!n&&o===a.zP3&&void 0!==i&&i!==t)||uA>=10||(0===uA&&mA(),uA++,0)),l=st(()=>c?function(e,t){const n=[],a=e.length,o=(null==t?void 0:t.length)??0;for(let r=0;r<=a;r++){const i=a-r,s=o-r;t&&s>=0&&e[i]!==t[s]?n.unshift(pt.createElement("div",{className:"o6dPPa5S"},pt.createElement("div",{className:"wT7hwE_a"},e[i]??""),pt.createElement("div",{className:"pSP5fUMh"},t[s]),pt.createElement("div",{className:"FtEeojTc"},e[i]??""))):n.unshift(pt.createElement("span",null,e[i]??""))}return n}(t,i):t,[c,i,t]);return rt(()=>{if(!c)return;const e=window.setTimeout(()=>{s()},200);return()=>{window.clearTimeout(e)}},[c,t]),pt.createElement("span",{className:qi(!n&&"UizaBW8F"),dir:r?"rtl":void 0},l)}),fA={containerWrapper:"wKxh3a3S",isLoading:"iGGNu8pc",center:"JhiFICIH",container:"DeiKNEF2",backstage:"Z0VKHxKs",tokenCard:"lPzc1tFZ",containerInner:"CJuAKeNp",balanceSlide:"_S0PhahZ",balanceTransition:"Q_lPdCwD",currencySymbol:"l0dhdAHZ",primaryValue:"_jSits6S",primaryFractionPart:"L4sI_b_K",iconCaret:"S_WiTJlv",iconCaretSmall:"AyZvbJo1",iconCaretFraction:"UPrAgVuY",currencySwitcher:"JRDSCLUm",currencySwitcherMenu:"ouGIASNp",addressContainer:"Hscx8f3y",addressLabel:"bU030X2g",icon:"Z4odaM4f",address:"xtFe1Hpt",menuItem:"DYEcCh8V",menuIcon:"reCfAfE0",menuItemName:"XG4JwTZX",menuFontIcon:"SR492iSb",menuExplorerIcon:"F5fuBEwJ",addressMenuBubble:"eqrUlhby",domainText:"FeL3tHeI",addressText:"W__Ag4Sn",separator:"x_DIVHjK",explorerButton:"a6nY4qXV",changeSpoiler:"u3xBtJOM",blurred:"VWmNqmzU",change:"p0ADnah2",changePrefix:"cuZcbnpx",chainIcon:"m2FMwrjB",multichainIcon:"f7vAJ3qA",tokenInfo:"bGU6MKkV",tokenLogo:"KjXvLECZ",tokenInfoHeader:"JX6roGM_",tokenInfoSubheader:"RxOFnjoX",tokenAmount:"eIbQBxJS",tokenName:"BnrECUAN",tokenValue:"FJv4OzYN",tokenChange:"GGm5XDND",tokenChangeSensitiveData:"f4V9saRa",tokenChangeSpoiler:"_12taTXqz",tokenTitle:"RmC9TfSK",tokenHistoryPrice:"_4dlU8cE",tokenCurrentPrice:"gV90_PgX",tokenPriceDate:"iPGWJEAe",apy:"NuM0o0NU",interactive:"qQdmiqxi",tokenExplorerButton:"OG4bpDUn",chart:"lKplVEJ6",chartImg:"RidGreTo",backButton:"rzhYg9wP",periodChooser:"fJhqjFVE",periodChooserHidden:"xPL1t22b",periodItem:"il0Zz8yE",periodItem_active:"fcYKEjig",periodItemActive:"fcYKEjig",periodInput:"PIahT0n2",loadingDotsContainer:"iRUbIPAX",cardCustomBackground:"A2ptDHpn",visible:"aEg2wczx",black:"ah_6og0J",platinum:"nnklDXWY",gold:"c4y77fMq",silver:"M9_HMKD7",borderShine_down:"VoOVf4tq",borderShineDown:"VoOVf4tq",borderShine_left:"dWc8MTsx",borderShineLeft:"dWc8MTsx",borderShine_up:"k8VOGUyt",borderShineUp:"k8VOGUyt",borderShine_right:"tqABUy73",borderShineRight:"tqABUy73"},hA=i.p+"multichain_account.18e8f6e7ee28b26527ba.svg",gA=ut(zt(e=>{const{type:t,byChain:n}=cn(e,e.currentAccountId)||{};return{byChain:n,isTestnet:e.settings.isTestnet,accountType:t}})(function(e){let{byChain:t,isTestnet:n,accountType:a,withTextGradient:o}=e;const{showNotification:i}=$t(),s=Ki(),{isPortrait:c}=xs(),l=lt(),d=lt(),[u,m]=at(),p=Boolean(u),f=st(()=>Object.keys(t||{}),[t]),h="hardware"===a,g="view"===a,v=s("View on Explorer"),y=st(()=>{const e=Object.values(t??{}).some(e=>e.domain);if(Zt(t??{},1)||e)return Object.entries(t??{}).map(e=>{let[t,n]=e;return{value:n.address,address:qt(n.address,n.domain?4:void 0),...n.domain&&{domain:n.domain},icon:VE(t),fontIcon:"copy",chain:t,label:s("View address on %ton_explorer_name%",{ton_explorer_name:ui(t)}).join("")}})},[t,s]),w=()=>{const{left:e,width:t,bottom:n}=l.current.getBoundingClientRect();m({x:e+t/2,y:n})},b=()=>{m(void 0)},E=ri(e=>{i({message:s("Address was copied!"),icon:"icon-copy"}),Ld(e)}),k=ri((e,t)=>{E(t),b()}),C=ri((e,t)=>{i({message:s("Domain was copied!"),icon:"icon-copy"}),Ld(t),b()}),N=ri((e,t,a)=>{Il(fi(t,a,n)),b()}),S=lt(),A=ri(()=>{S.current&&clearTimeout(S.current),w()}),I=ri(()=>{S.current=window.setTimeout(b,150)}),T=ri(()=>l.current),B=ri(()=>document.body),x=ri(()=>d.current),_=ri(()=>({withPortal:!0,centerHorizontally:c,preferredPositionX:"left",doNotCoverTrigger:c}));if(y){var L;const e=f[0],n=null==t||null===(L=t[e])||void 0===L?void 0:L.domain,a=1===f.length&&n?n:s("Multichain");return pt.createElement("div",{ref:l,className:fA.addressContainer},g&&pt.createElement("span",{className:fA.addressLabel},pt.createElement("i",{className:qi(fA.icon,"icon-eye-filled"),"aria-hidden":!0}),s("$view_mode")),h&&pt.createElement("i",{className:qi(fA.icon,"icon-ledger"),"aria-hidden":!0}),pt.createElement("button",{type:"button",className:qi(fA.address,o&&"gradientText"),onMouseEnter:r.TF?void 0:A,onMouseLeave:r.TF?void 0:I,onClick:w},f.length>1?pt.createElement("img",{src:hA,alt:"",className:fA.multichainIcon}):pt.createElement("img",{src:VE(e),alt:"",className:fA.chainIcon}),pt.createElement("span",{className:qi(fA.itemName,"itemName")},a),pt.createElement("i",{className:qi(fA.iconCaretSmall,"icon-caret-down"),"aria-hidden":!0})),pt.createElement(bv,{menuRef:d,isOpen:p,type:"dropdown",withPortal:!0,getTriggerElement:T,getRootElement:B,getMenuElement:x,getLayout:_,anchor:u,bubbleClassName:fA.addressMenuBubble,noBackdrop:!r.TF,onMouseEnter:r.TF?void 0:A,onMouseLeave:r.TF?void 0:I,onClose:b},y.map((e,t)=>{const n=qi(mv.item,t>0&&mv.separator,fA.menuItem);return pt.createElement("div",{key:e.value,className:n},y.length>1&&pt.createElement("img",{src:e.icon,alt:"",className:qi("icon",mv.itemIcon,fA.menuIcon)}),pt.createElement("span",{className:qi(mv.itemName,fA.menuItemName)},e.domain&&pt.createElement(pt.Fragment,null,pt.createElement("span",{tabIndex:0,role:"button",className:fA.domainText,onClick:t=>C(t,e.domain)},e.domain),pt.createElement("span",{className:fA.separator},"·")),pt.createElement("span",{tabIndex:0,role:"button",onClick:t=>k(t,e.value),className:e.domain&&fA.addressText},e.address),pt.createElement("i",{className:qi(`icon icon-${e.fontIcon}`,mv.fontIcon,fA.menuFontIcon),"aria-hidden":!0,onClick:t=>k(t,e.value)})),pt.createElement("i",{tabIndex:0,role:"button",className:qi(mv.close,"icon icon-tonexplorer-small",fA.menuExplorerIcon),"aria-label":e.label,onClick:t=>N(t,e.chain,e.value)}))})))}const D=f[0];if(!D)return;const{address:O,domain:M}=t[D],F=M||qt(O);return pt.createElement("div",{className:fA.addressContainer},g&&pt.createElement("span",{className:fA.addressLabel},pt.createElement("i",{className:qi(fA.icon,"icon-eye-filled"),"aria-hidden":!0}),s("$view_mode")),h&&pt.createElement("i",{className:qi(fA.icon,"icon-ledger"),"aria-hidden":!0}),pt.createElement("button",{type:"button",className:qi(fA.address,o&&"gradientText"),"aria-label":s("Copy wallet address"),onClick:()=>E(O)},pt.createElement("img",{src:VE(D),alt:"",className:fA.chainIcon}),F,pt.createElement("i",{className:qi(fA.icon,"icon-copy"),"aria-hidden":!0})),pt.createElement("a",{href:fi(D,O,n),className:fA.explorerButton,title:v,"aria-label":v,target:"_blank",rel:"noreferrer noopener",onClick:Bl},pt.createElement("i",{className:qi(fA.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))})),vA=ut(zt(e=>({currentCurrency:e.settings.baseCurrency,tokens:jn(e),currencyRates:e.currencyRates,stakingStates:Wo(e,e.currentAccountId)}))(function(e){let{isOpen:t,triggerRef:o,anchor:r,currentCurrency:i,excludedCurrency:s,menuPositionX:c,className:l,tokens:d,currencyRates:u,stakingStates:m,onClose:p,onChange:f}=e;const{changeBaseCurrency:h}=$t(),g=lt(),v=st(()=>{if(!d||!u)return Object.entries(a.yR2).filter(e=>{let[t]=e;return t!==s}).map(e=>{let[t,{name:n}]=e;return{value:t,name:n}});const e=new $n.z(ty(d,m).primaryValueUsd);return Object.entries(a.yR2).filter(e=>{let[t]=e;return t!==s}).map(t=>{let[n,{name:a}]=t;const o=e.mul(u[n]),r=xi(n);return{value:n,name:a,description:Ai(o.toString(),r,"BTC"===n?6:2)}})},[s,d,u,m]),y=ri(e=>{p(),e!==i&&(h({currency:e}),a.UMQ&&n.setBaseCurrency({currency:e}),null==f||f(e))}),w=ri(()=>o.current),b=ri(()=>document.body),E=ri(()=>g.current),k=ri(()=>({withPortal:!0,centerHorizontally:!c,preferredPositionX:c||"left",doNotCoverTrigger:!0}));return pt.createElement(kv,{withPortal:!0,ref:g,isOpen:t,shouldTranslateOptions:!0,items:v,selectedValue:i,menuPositionX:c,menuAnchor:r,getTriggerElement:w,getRootElement:b,getMenuElement:E,getLayout:k,className:l,onClose:p,onSelect:y})})),yA={root:"UUXTSSNb",sticky:"GydVN6zu",image:"GnuUYTcY",borderShine_down:"eZtdmQCz",borderShineDown:"eZtdmQCz",borderShine_left:"u_5j0LEw",borderShineLeft:"u_5j0LEw",borderShine_up:"DBu8v2wg",borderShineUp:"DBu8v2wg",borderShine_right:"iOyJF5OB",borderShineRight:"iOyJF5OB",borderShine_radioactive:"omctwMWw",borderShineRadioactive:"omctwMWw",shadow:"rm7OVuVh"},wA=ut(function(e){var t;let{isSticky:n,nft:a,noShowAnimation:o,shouldHide:r,onLoad:i,onTransitionEnd:s}=e;const{imageUrl:c}=ny(a?vi(a):void 0),[l,d]=Np(),u=ah(o||l&&!r),{borderShineType:m,withTextGradient:p,classNames:f}=ay(a),h=qi(yA.root,n&&yA.sticky,f,m&&yA[`borderShine_${m}`],l&&!r&&yA.loaded,r&&yA.hide),g="standard"===(null===(t=a.metadata)||void 0===t?void 0:t.mtwCardType);return pt.createElement("div",{ref:u,className:h,onTransitionEnd:s},c&&pt.createElement("img",{src:c,alt:a.name,className:yA.image,onLoad:function(){d(),null==i||i(p,f)}}),g&&pt.createElement("div",{className:yA.shadow}))}),bA=ut(function(e){let{isSticky:t,nft:n,onCardChange:a}=e;const o=lt(void 0),r=ft();al(e=>{let[t,r]=e;(null==n?void 0:n.address)!==r&&(o.current=t),n||a(!1,void 0)},[n,null==n?void 0:n.address]);const i=o.current,s=lt(!0),c=n&&s.current;s.current=!1;const l=ri(()=>{o.current=void 0,r()});return pt.createElement("div",{teactFastList:!0},i&&pt.createElement(wA,{key:i.address,isSticky:t,nft:i,shouldHide:!n,onTransitionEnd:l}),n&&pt.createElement(wA,{key:n.address,isSticky:t,nft:n,noShowAnimation:c,onLoad:a,onTransitionEnd:l}))}),EA={green:[80,135,51],orange:[173,84,54],pink:[154,60,144],purple:[104,48,149],red:[156,52,75],sea:[43,116,123],tegro:[3,93,229],blue:[47,108,173]},kA={[a.Tu9.slug]:"blue",[a.X7T.slug]:"red",[a.iLw]:"sea",[a.RB]:"sea",[a.QSz]:"sea",[a.vsz]:"sea",[a.Bqy]:"green"};const CA=ut(function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:i,onSelectIndex:s,isUpdating:c}=e;const l=Ki(),d=st(()=>{const e=a.map(e=>{let[,t]=e;return t}),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:Math.max(1e-9,n-t),min:t}},[a]),u=st(()=>{const e=t/d.width,o=n/d.height;return a.map((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-d.min)*o+3}})},[d.height,d.min,d.width,n,t,a]);function m(e){const t=u.length-1,n=e<0?0:e>t?t:e,a=u[n],o=.9999,r=n/t,i=u[0],s=u[t].x-i.x,c=u[t].y-i.y;return{x:o*a.x+(1-o)*(i.x+r*s),y:o*a.y+(1-o)*(i.y+r*c)}}function p(e){const t=m(e),n=m(e-1),a=m(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function f(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/u.length/2,r=Math.max(0,Math.min(Math.round(u.length*(o/n)),u.length-1));s(r)}function h(){s(-1),Br()}return pt.createElement("div",{className:r,onMouseMove:f,onMouseLeave:h,onTouchStart:function(e){f(e),Tr()},onTouchMove:f,onTouchEnd:h,onTouchCancel:h},pt.createElement(Qh,{activeKey:c?1:0,name:"semiFade",shouldCleanup:!0},pt.createElement("img",{src:function(){const e=u[o]||u[u.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=u.reduce((e,t,n)=>{const a=p(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `},"");return e+=p(u.length),e+=`L ${(t=u[u.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:qi(i,c&&"glare-image"),alt:l("Currency History")})))}),NA=a.Kfi.map(e=>({value:e,name:"ALL"===e?"All":e})),SA=ut(zt(e=>{const t=dn(e);return{currentPeriod:null==t?void 0:t.currentTokenPeriod}})(function(e){let{isOpen:t,currentPeriod:n,onClose:a,onChange:o}=e;const{setCurrentTokenPeriod:r}=$t(),i=ri(e=>{a(),e!==n&&(Td(),r({period:e}),null==o||o(e))});return pt.createElement(kv,{isOpen:t,onClose:a,items:NA,className:"Lfs6oB99",bubbleClassName:"EJsuJXfx",buttonClassName:"J7O_MmwF",selectedValue:n,menuPositionX:"right",onSelect:i})})),AA=12e4,IA=5*xo.Z2,TA=a.Kfi[0],BA=ut(zt((e,t)=>{var n;const a=t.token.slug,o=dn(e),r=null===(n=e.tokenInfo.bySlug[a])||void 0===n?void 0:n.tokenAddress,i=Wo(e,e.currentAccountId);return{isTestnet:e.settings.isTestnet,period:null==o?void 0:o.currentTokenPeriod,baseCurrency:e.settings.baseCurrency,historyPeriods:e.tokenPriceHistory.bySlug[t.token.slug],tokenAddress:r,stakingStates:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}})(function(e){let{ref:t,isTestnet:n,token:o,classNames:i,period:s=TA,isUpdating:c,baseCurrency:l,historyPeriods:d,tokenAddress:u,stakingStates:m,isSensitiveDataHidden:p,onYieldClick:f,onClose:h}=e;const{loadPriceHistory:g}=$t(),v=Ki(),y=ft(),w=lt(),[b,E]=at(),[k,C,N]=Np(!1),S=void 0===l||l===o.symbol,A=xi(S?a.wOb:l),[I,T]=at(-1);yt(e=>{let[t]=e;r.pz&&void 0!==t&&Td()},[I]);const{slug:B,symbol:x,amount:_,name:L,price:D,decimals:O}=o,{annualYield:M,yieldType:F,id:P}=st(()=>{if(!a.TI6)return null==m?void 0:m.reduce((e,t)=>t.tokenSlug===B&&(!e||t.balance>e.balance)?t:e,void 0)},[m,B])??{},R=ri(e=>{g({slug:B,period:e??s})}),U=ri(e=>{g({slug:B,period:s,currency:e})}),W=ri(()=>{E(void 0)});xv(R,IA);const H=null==d?void 0:d[s],$=null!=H&&H.length?1e3*H[H.length-1][0]:void 0,V=null!=H&&H.length?H[H.length-1][1]:D,z=null==H?void 0:H[I],K=(null==z?void 0:z[1])??(S?V:void 0)??D,q=p?D:K,j=!$||Date.now()-$>AA,Y=z?(0,xo.mf)(v.code,1e3*z[0],!0,!0):j&&$?(0,xo.mf)(v.code,$,!0,!1):v("Now");_v(y,j?void 0:AA,[$]);const G=st(()=>{var e;return null==H||null===(e=H.find(e=>{let[,t]=e;return Boolean(t)}))||void 0===e?void 0:e[1]},[H]),Q=(0,zn.CF)(_,O).mul(K),X=Q.toString(),Z=G&&K?K-G:0,J=G&&q?ey(Q,G&&q?q/G-1:0).toNumber():0,ee=void 0===Z?Z:Z>0?"↑":Z<0?"↓":0,te=J?Math.abs(Kn(J,4)):0,ne=Z?Math.abs(Kn(Z/G*100,2)):0,ae=Boolean(void 0!==Z),oe=null!=H&&H.length?new Date(1e3*H[0][0]):void 0,re=Boolean(o.cmcSlug||u),ie=!(null!=H&&H.length)&&0===o.priceUsd,se=st(()=>function(e){let t="blue",n=1/0;if(!e)return t;if(kA[e.slug])return kA[e.slug];if(!e.color)return t;const a=ch(e.color);return Object.entries(EA).forEach(e=>{let[o,r]=e;const i=function(e,t){const[n,a,o]=lh(e),[r,i,s]=lh(t),c=Math.sqrt(a*a+o*o),l=c-Math.sqrt(i*i+s*s),d=a-i,u=o-s,m=(n-r)/1,p=l/(1+.045*c),f=Math.sqrt(d*d+u*u-l*l)/(1+.015*c);return Math.sqrt(m*m+p*p+f*f)}(a,r);i<n&&(n=i,t=o)}),n>35?"blue":t}(o),[o]);return pt.createElement("div",{ref:t,className:qi(fA.container,fA.tokenCard,i,se,"token-card")},pt.createElement("div",{className:fA.tokenInfo},pt.createElement(dl,{className:fA.backButton,isSimple:!0,onClick:h,ariaLabel:v("Back")},pt.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),pt.createElement(YE,{token:o,size:"x-large",className:fA.tokenLogo}),pt.createElement("div",{className:fA.tokenInfoHeader,ref:w},pt.createElement("b",{className:fA.tokenAmount},pt.createElement(Jv,{isActive:p,maskSkin:"cardLightText",cols:10,rows:2,cellSize:8},Ai((0,zn.nI)(_,o.decimals),x))),ae&&pt.createElement("div",{className:fA.tokenValue},pt.createElement(Jv,{isActive:p,maskSkin:"cardLightText",align:"right",cols:10,rows:2,cellSize:8},pt.createElement("div",{className:fA.currencySwitcher,role:"button",tabIndex:0,onClick:()=>{const{left:e,width:t,bottom:n}=w.current.getBoundingClientRect();E({x:e+t,y:n})}},"≈ ",Ai(X,A,void 0,!0),pt.createElement("i",{className:qi("icon","icon-caret-down",fA.iconCaretSmall),"aria-hidden":!0})),pt.createElement(vA,{isOpen:Boolean(b),triggerRef:w,anchor:b,menuPositionX:"right",excludedCurrency:o.symbol,onClose:W,onChange:U})))),pt.createElement("div",{className:fA.tokenInfoSubheader},pt.createElement("span",{className:fA.tokenTitle},pt.createElement("span",{className:fA.tokenName},L),F&&pt.createElement("span",{className:qi(fA.apy,f&&fA.interactive),onClick:f?()=>f(P):void 0},F," ",Kn(M??0,2),"%")),ae&&Boolean(te)&&pt.createElement("div",{className:fA.tokenChange},ee," ",Math.abs(ne),"% ·",pt.createElement(Jv,{isActive:p,align:"right",maskSkin:"cardLightText",cols:6,rows:2,cellSize:8,className:fA.tokenChangeSensitiveData,maskClassName:fA.tokenChangeSpoiler},Ai(Math.abs(te),A))))),pt.createElement(Qh,{activeKey:H?H.length?a.Kfi.indexOf(s)+1:-1:0,name:"fade"},H?null!=H&&H.length?pt.createElement(pt.Fragment,null,pt.createElement(CA,{className:fA.chart,imgClassName:fA.chartImg,width:300,height:64,prices:H,selectedIndex:I,onSelectIndex:T,isUpdating:c}),pt.createElement("div",{className:fA.tokenHistoryPrice},Ai(H[0][1],A,2,!0),pt.createElement("div",{className:fA.tokenPriceDate},(0,xo.mf)(v.code,oe)))):void 0:pt.createElement("div",{className:qi(fA.isLoading)},pt.createElement(kb,{color:"white",className:fA.center}))),pt.createElement("span",{className:qi(fA.periodChooser,ie&&fA.periodChooserHidden),role:"button",tabIndex:0,onClick:C},"ALL"===s?"All":s,pt.createElement("i",{className:qi("icon","icon-caret-down",fA.iconCaretSmall),"aria-hidden":!0}),pt.createElement(SA,{isOpen:k,onChange:R,onClose:N})),pt.createElement("div",{className:fA.tokenCurrentPrice},Ai(K,A,-1===I?2:4,!0),pt.createElement("div",{className:fA.tokenPriceDate},Y,re&&function(){const e=function(e,t,n,a){if(t||n)return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ca(e).explorer.token.replace("{base}",mi(e,t))}(e,a).replace("{address}",n):`https://coinmarketcap.com/currencies/${t}/`}(o.chain,o.cmcSlug,u,n);if(!e)return;const t=v("Open on %ton_explorer_name%",{ton_explorer_name:ui(o.chain)}).join("");return pt.createElement(pt.Fragment,null," · ",pt.createElement("a",{href:e,title:t,"aria-label":t,target:"_blank",rel:"noreferrer",className:fA.tokenExplorerButton,onClick:Bl},pt.createElement("i",{className:"icon-tonexplorer-small","aria-hidden":!0})))}())))})),xA=ut(zt(e=>{const t=dn(e),n=Wo(e,e.currentAccountId),{cardBackgroundNft:a}=pn(e)||{};return{isViewMode:Tn(e),tokens:jn(e),currentTokenSlug:null==t?void 0:t.currentTokenSlug,baseCurrency:e.settings.baseCurrency,currencyRates:e.currencyRates,stakingStates:n,cardNft:a,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}},(e,t,n)=>n(e.currentAccountId))(function(e){let{ref:t,tokens:n,currentTokenSlug:o,onTokenCardClose:i,onYieldClick:s,baseCurrency:c,currencyRates:l,stakingStates:d,isSensitiveDataHidden:u,isNftBuyingDisabled:m,cardNft:p,isViewMode:f}=e;const h=lt(),g=xi(c),[v,y]=at(void 0),[w,b]=at(!1),{isPortrait:E}=xs(),{width:k}=xp(),C=cA("balanceUpdateStartedAt"),{updateFontScale:N}=iN(h),S=E?k:0,[A,I]=at(),T=uv(st(()=>n?n.find(e=>e.slug===o):void 0,[o,n]),!0),{shouldRender:B,ref:x}=rl({isOpen:Boolean(o),noMountTransition:!0,withShouldRender:!0}),_=function(e){const{mtwCardType:t,mtwCardTextType:n}=(null==e?void 0:e.metadata)||{};return"gold"===t?"cardGoldText":"silver"===t||"dark"===n?"cardDarkText":"cardLightText"}(p),L=()=>{const{left:e,width:t,bottom:n}=h.current.getBoundingClientRect();I({x:e+t/2,y:n})},D=ri(()=>{I(void 0)}),O=ri((e,t)=>{y(t),b(e)}),M=st(()=>n?ty(n,d,l[c]):void 0,[n,d,l,c]);lc({isActive:Boolean(o),onBack:i}),rt(()=>B?fv(i):void 0,[B,i]);const{primaryValue:F,primaryWholePart:P,primaryFractionPart:R,changePrefix:U,changePercent:W,changeValue:H}=M||{};return it(()=>{void 0!==F&&N()},[R,F,P,g,N,S]),pt.createElement("div",{ref:t,className:fA.containerWrapper},pt.createElement(Qh,{activeKey:C?1:0,name:"fade",shouldCleanup:!0,className:fA.loadingDotsContainer},C?pt.createElement(cl,{isActive:!0,isDoubled:!0}):void 0),pt.createElement("div",{className:qi(fA.container,o&&fA.backstage,v)},pt.createElement(bA,{nft:p,onCardChange:O}),pt.createElement("div",{className:qi(fA.containerInner,v)},M?function(){const e=qi("icon","icon-caret-down",R||g.length>1?fA.iconCaretFraction:fA.iconCaret),t=!C||r.Yw||r.pz;return pt.createElement(pt.Fragment,null,pt.createElement(Qh,{ref:h,activeKey:C&&!u?1:0,name:"fade",shouldCleanup:!0,className:fA.balanceTransition,slideClassName:fA.balanceSlide},pt.createElement(Jv,{isActive:u,maskSkin:_,rows:4,cols:14,cellSize:13,align:"center",maskClassName:fA.blurred},pt.createElement("div",{className:qi(fA.primaryValue,"rounded-font")},pt.createElement("span",{className:qi(fA.currencySwitcher,C&&"glare-text",!C&&w&&"gradientText"),role:"button",tabIndex:0,onClick:u?void 0:L},1===g.length&&pt.createElement("span",{className:fA.currencySymbol},g),pt.createElement(pA,{isDisabled:t,text:P??""}),R&&pt.createElement("span",{className:fA.primaryFractionPart},pt.createElement(pA,{isDisabled:t,text:`.${R}`})),g.length>1&&pt.createElement("span",{className:fA.primaryFractionPart}," ",g),pt.createElement("i",{className:e,"aria-hidden":!0}))))),pt.createElement(vA,{isOpen:Boolean(A),triggerRef:h,anchor:A,className:fA.currencySwitcherMenu,onClose:D}),"0"!==F&&pt.createElement(Jv,{isActive:u,maskSkin:_,rows:2,cols:11,align:"center",cellSize:14,className:fA.changeSpoiler,maskClassName:fA.blurred},pt.createElement("div",{className:qi(fA.change,"rounded-font")},!!U&&pt.createElement(pt.Fragment,null,pt.createElement("i",{className:qi(fA.changePrefix,"up"===U?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0}),pt.createElement(pA,{text:`${Math.abs(W)}%`})," · "),pt.createElement(pA,{text:Ai(Math.abs(H),g)}))))}():pt.createElement("div",{className:qi(fA.isLoading)},pt.createElement(kb,{color:"white",className:fA.center})),pt.createElement(gA,{withTextGradient:w}),!a.TI6&&!m&&!f&&pt.createElement(dA,null))),B&&pt.createElement(BA,{token:T,ref:x,isUpdating:C,onYieldClick:f?void 0:s,onClose:i}))}));function _A(e,t){if(!e)return null;const n=function(e){return e?".app-slide-content":`.custom-scroll.${Yh}`}(t);return t?e.closest(n):e.matches(n)?e:e.querySelector(n)}function LA(e,t){return e&&t?".app-slide-content":void 0}const DA=ut(function(e){let{isOpen:t,selectedNftsToHide:n}=e;const{addNftsToBlacklist:a,closeNftCollection:o,closeHideNftModal:r}=$t(),i=Ki(),s=ri(()=>{a({addresses:n.addresses}),null!=n&&n.isCollection&&o(),r()});return pt.createElement(bl,{isOpen:t,isCompact:!0,onClose:r,title:i("Hide NFTs")},pt.createElement("p",{className:ml.text},null!=n&&n.isCollection?i("Are you sure you want to hide this NFT collection containing %number% NFTs?",{number:null==n?void 0:n.addresses.length}):i("Are you sure you want to hide these %number% NFTs?",{number:null==n?void 0:n.addresses.length})),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:r,className:ml.button},i("Cancel")),pt.createElement(dl,{isDestructive:!0,onClick:s,className:ml.button},i("Hide"))))});function OA(e,t,n,a){const{length:o}=e,r=a?e.indexOf(a):0,i=t===go.Forwards?r:r+1||o,s=Math.max(0,i-n),c=i+n-1,l=e.slice(Math.max(0,s),c+1);let d,u;switch(t){case go.Forwards:d=i>=0,u=s>=0;break;case go.Backwards:d=i<o,u=c<=o-1}return{newViewportIds:l,areSomeLocal:d,areAllLocal:u,newIsOnTop:l[0]===e[0]}}const MA=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const c=lt();if(!c.current&&t&&!a){const{newViewportIds:e,newIsOnTop:n}=OA(t,go.Forwards,o,t[0]);c.current={viewportIds:e,isOnTop:n}}const l=ft(),d=Vk(r),u=ri(()=>{if(null==t||!t.length)return;const{newViewportIds:e,newIsOnTop:n}=OA(t,go.Forwards,o,t[0]);c.current={viewportIds:e,isOnTop:n}});yt(()=>{(r!==d||s&&!i)&&u()},[i,d,r,s]);const m=vt(t),p=vt(a);if(!t||a||t===m&&a===p)t||(c.current=void 0);else{const{viewportIds:e,isOnTop:n}=c.current??{},{newViewportIds:a,newIsOnTop:r}=function(e,t,n,a){if(n)return a=Math.max(a,((null==t?void 0:t.length)??0)-1),OA(e,go.Backwards,a,e[0]);let o=null==t?void 0:t[Math.round(t.length/2)];return o&&!e.includes(o)&&(o=e[0]),OA(e,go.Forwards,a,o)}(t,e,n,o);e&&x(e,a)||(c.current={viewportIds:a,isOnTop:r})}const f=ri(n=>{let{direction:a}=n;if(!i)return;const{viewportIds:r}=c.current||{},s=r?a===go.Backwards?r[r.length-1]:r[0]:void 0;if(!t)return void(e&&e({offsetId:s}));const{newViewportIds:d,areSomeLocal:u,areAllLocal:m,newIsOnTop:p}=OA(t,a,o,s);!u||r&&x(r,d)||(c.current={viewportIds:d,isOnTop:p},l()),!m&&e&&e({offsetId:s})});return a?[t]:[null===(n=c.current)||void 0===n?void 0:n.viewportIds,f,u]},FA=(e,t,n)=>{const a=lt();return it(()=>{const n=a.current;return a.current=t,e(n||[])},t,n)},PA=".ListItem",RA=20,UA=800,WA=e=>{let{ref:t,style:n,className:a,items:o,itemSelector:i=PA,preloadBackwards:s=RA,sensitiveArea:l=UA,withAbsolutePositioning:d,maxHeight:u,noScrollRestore:m=!1,noScrollRestoreOnTop:p=!1,noFastList:f,cacheBuster:h,beforeChildren:g,scrollContainerClosest:v,children:y,onLoadMore:w,onScroll:b,onWheel:E,onClick:k,onKeyDown:C,onDragOver:N,onDragLeave:S}=e,A=lt();t&&(A=t);const I=lt({}),[T,B]=st(()=>w?[(0,c.sg)(()=>{w({direction:go.Backwards})},xo.Z2,!0,!1),(0,c.sg)(()=>{w({direction:go.Forwards})},xo.Z2,!0,!1)]:[],[w,o]);rt(()=>{if(!T)return;if(s>0&&(!o||o.length<s))return void T();const e=v?A.current.closest(v):A.current,{scrollHeight:t,clientHeight:n}=e;n&&t<=n&&T()},[o,T,s,v]),FA(e=>{let[t]=e;const n=v?A.current.closest(v):A.current,a=I.current,o=n.querySelectorAll(i);a.listItemElements=o,null!=t&&t.length&&(0,we.gm)(()=>{let e;if(a.currentAnchor&&Array.from(o).includes(a.currentAnchor)){const{scrollTop:t}=n,o=a.currentAnchor.getBoundingClientRect().top;e=t+(o-a.currentAnchorTop)}else{const e=o[0];e&&(a.currentAnchor=e,a.currentAnchorTop=e.getBoundingClientRect().top)}if(d||m)return;const{scrollTop:t}=n;return p&&0===t?void 0:()=>{((e,t)=>{r.pz&&(e.style.overflow="hidden"),void 0!==t&&(e.scrollTop=t),r.pz&&(e.style.overflow="")})(n,e),a.isScrollTopJustUpdated=!0}})},[o,i,m,p,h,d,v]);const x=ri(e=>{if(B&&T){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=I.current,a=I.current.listItemElements;if(e)return void(I.current.isScrollTopJustUpdated=!1);const o=a.length,r=v?A.current.closest(v):A.current,{scrollTop:i,scrollHeight:s,offsetHeight:c}=r,d=i<=(o?a[0].offsetTop:0)+l,u=(o?a[o-1].offsetTop+a[o-1].offsetHeight:s)-(i+c)<=l;let m=!1;if(d){const e=a[0];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o>n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,B())}}if(u){const e=a[o-1];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o<n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,T())}}if(!m)if(null!=t&&t.offsetParent)I.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=a[0];e&&(I.current.currentAnchor=e,I.current.currentAnchorTop=e.getBoundingClientRect().top)}}b&&b(e)});return it(()=>{if(!v)return;const e=A.current.closest(v);if(!e)return;const t=e=>x(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[x,v]),pt.createElement("div",{ref:A,className:a,onScroll:x,onWheel:E,teactFastList:!f&&!d,onKeyDown:C,onDragOver:N,onDragLeave:S,onClick:k,style:n},g,d&&null!=o&&o.length?pt.createElement("div",{teactFastList:!f,style:nh("position: relative",r.Ni&&void 0!==u&&`height: ${u}`)},y):y)},HA="qI7nEtyA",$A="t2U79mme",VA="a2p7XeQH",zA="xJCALuqk";function KA(e){setTimeout(()=>{(0,we.RK)(()=>{e.classList.remove(VA,zA),e.style.opacity="",e.style.transform=""})},250)}const qA=function(e){let{topOffset:t,withAnimation:n,children:a}=e;const{ref:o}=function(e,t){const n=lt();return FA(a=>{let[o]=a;const r=n.current;e&&r&&(void 0===o?(function(e){e.style.opacity="0",(0,we.RK)(()=>{e.classList.add(VA),e.style.opacity="1"})}(r),KA(r)):t!==o&&(function(e,t){e.style.transform=`translate3d(0, ${-t}rem, 0)`,(0,we.RK)(()=>{e.classList.add(zA),e.style.transform=""})}(r,t-o),KA(r)))},[t,e]),{ref:n}}(n,t);return pt.createElement("div",{ref:o,style:`top: ${t}rem`,className:qi("ListItem","ebD9lZA7")},a)},jA={container:"k3PjQTgC",panel:"ZX_ET6v1",emptyList:"y3OrMGkQ",text:"W7PJUQAi",header:"vhx2gdHr",description:"iQxbUd1C"},YA=ut(function(e){let{isActive:t,isMutlichainAccount:n,mode:o}=e;const r=Ki();return pt.createElement("div",{className:qi(jA.container,jA[o])},pt.createElement(Nh,{play:t,tgsUrl:Qf.hello,previewUrl:Qf.helloPreview,nonInteractive:!0,noLoop:!1,size:"emptyList"===o?a.igk:a.jzp}),pt.createElement("div",{className:jA.text},pt.createElement("p",{className:jA.header},r(n?"You have just created a new multichain wallet":"You have just created a new wallet")),pt.createElement("p",{className:jA.description},r(n?"Now you can transfer tokens from your TON and TRON wallets.":"You can now transfer your tokens from another wallet or exchange."))))}),GA=2.625*r.$,QA="date:",XA=Object.freeze([]),ZA=Object.freeze({}),JA=ut(zt(e=>{var t;const n=e.currentAccountId,a=dn(e),o=pn(e),r=null==a?void 0:a.currentTokenSlug,i=$o(e,n),{byId:s}=(null==a?void 0:a.activities)??{},{byAddress:c}=(null==a?void 0:a.nfts)||{},l=nn(e),d=ja(e,n,r),u=function(e,t,n){var a;const{idsMain:o,idsBySlug:r}=(null===(a=un(e,t))||void 0===a?void 0:a.activities)??{};return n?null==r?void 0:r[n]:o}(e,n,r);return{isMultichainAccount:Cn(e,e.currentAccountId),currentAccountId:n,slug:r,byId:s,allActivityIds:u,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,savedAddresses:null==a?void 0:a.savedAddresses,isHistoryEndReached:d,currentActivityId:null==a?void 0:a.currentActivityId,alwaysShownSlugs:null==o?void 0:o.alwaysShownSlugs,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,currencyRates:e.currencyRates,stakingStateBySlug:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,nftsByAddress:c,accounts:l}},(e,t,n)=>{let{totalTokensAmount:o}=t;const r=dn(e),i=o<=(_s()?a.nj6:a.hUs);return n(((null==r?void 0:r.activeContentTab)===fo.Activity||(null==r?void 0:r.activeContentTab)===fo.Assets&&i)&&e.currentAccountId)})(function(e){let{isActive:t,currentAccountId:n,isMultichainAccount:o,slug:i,byId:s,allActivityIds:c,tokensBySlug:l,swapTokensBySlug:d,areTinyTransfersHidden:u,currentActivityId:m,savedAddresses:p,isHistoryEndReached:f,alwaysShownSlugs:h,theme:g,baseCurrency:v,currencyRates:y,isSensitiveDataHidden:w,stakingStateBySlug:b,nftsByAddress:E,accounts:k,onScroll:C}=e;const{fetchPastActivities:N,showActivityInfo:S}=$t(),A=Ki(),{isLandscape:I,isPortrait:T}=xs(),x=lt(),_=cA("activitiesUpdateStartedAt"),L=cg(g),D=lt(!1),O=st(()=>{const e=function(e,t,n,a,o,r){return e.filter(e=>{const i=null==t?void 0:t[e];return!!i&&(null==i||!i.shouldHide)&&("swap"===(null==i?void 0:i.kind)?!n||i.from===n||i.to===n:(null==i?void 0:i.slug)&&(!n||i.slug===n)&&(!o||n&&0===(null===(s=a[i.slug])||void 0===s?void 0:s.priceUsd)||!$m(i,a[i.slug])||(null==r?void 0:r.includes(i.slug)))&&!ra(i));var s})}(c??XA,s??ZA,i,l,u,h);if(e.length||f)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1/0;const a=[];for(const o of e){const e=(0,xo.CS)(t[o].timestamp);e<n&&(n=e,a.push(`${QA}${e}`)),a.push(o)}return a}(e,s)},[u,s,h,c,i,l,f]),M=null==O?void 0:O[0],P=ri(()=>{N({slug:i,shouldLoadWithBudget:!0})}),[R,U,W]=MA(P,O,void 0,30,i,t),H=function(e,t){const n=lt();return n.current??={},al(a=>{let[o=[],r={}]=a;const i=n.current,s=B(o.map(e=>r[e])),c=B(e.map(e=>t[e])),l=F(Wa(s,c));for(const{id:e}of c){const t=l[e];i[e]=(t&&i[t])??(0,ht.A)()}const d=new Set(e);for(const e of Object.keys(i))d.has(e)||delete i[e]},[e,t]),ri(e=>{var t;return(null===(t=n.current)||void 0===t?void 0:t[e])??e})}(R??XA,s??ZA),$=vt(i),V=vt(void 0===O),z=Boolean(t&&!D.current&&(V||$===i)),K=st(()=>{const e={};let t=0;return null==O||O.forEach((n,a)=>{const o=n.startsWith(QA)?2.125+(0===a?.5:0):sk(s[n]);e[n]={top:t,height:o},t+=o}),e},[s,O]),q=st(()=>{if(null==R||!R.length)return 0;const e=R[R.length-1],t=K[e];return t?t.top+t.height:0},[K,R]);!function(e,t,n,a,o){FA(i=>{var s,c;let[l]=i;const d=_A(a.current,n);if(!(o.current&&d&&l&&e.length))return;const u=e[Math.floor(e.length/2)],m=null===(s=l[u])||void 0===s?void 0:s.top,p=null===(c=t[u])||void 0===c?void 0:c.top;void 0!==m&&void 0!==p&&m!==p&&(0,ji.Uj)(()=>{d.scrollBy({top:(p-m)*r.$,behavior:"instant"})})},[t,e,a,o,n])}(R??XA,K,T,x,D),it(()=>{const e=x.current;e&&Gc(e,{height:I?"":`${q}rem`})},[I,q]),rt(()=>{null!=O&&O.length||P()},[i,c,O,P]),rt(()=>{t||I||(null==W||W(),D.current=!1)},[t,I,W]);const j=ri(e=>{const t=e.target.scrollTop;D.current=t>=GA,null==C||C(e)}),Y=ri(e=>{S({id:e})});if(n)return void 0===O?pt.createElement("div",{className:qi(HA,"BUMeW3vl")},pt.createElement(kb,null)):O.length?pt.createElement(WA,{ref:x,className:qi("custom-scroll","fUr4n5dv"),scrollContainerClosest:LA(t,T),items:R,preloadBackwards:30,withAbsolutePositioning:!0,maxHeight:`${q}rem`,onLoadMore:U,onScroll:j},function(){if(R)return R.map((e,t)=>{var a;const r=(null===(a=K[e])||void 0===a?void 0:a.top)??0;let i;if(e.startsWith(QA))i=function(e,t){const n=(0,xo.N5)(A,e),a=pt.createElement("div",{className:$A},n);if(!t)return a;const o=pt.createElement("div",{className:qi($A,"vFLWFB14")},n,pt.createElement(cl,{isActive:!0,isDoubled:!0,className:"Ig34AhI2"}));return pt.createElement(Qh,{name:"semiFade",activeKey:_?1:0,className:"ubrkPkql",slideClassName:"rHTS83Rc"},_?o:a)}(Number(e.slice(5)),e===M);else{const a=null==s?void 0:s[e];if(!a)return;const r=a.id===m,c=t===R.length-1||R[t+1].startsWith(QA);i=pt.createElement(ik,{activity:a,isLast:c,isActive:r,tokensBySlug:l,swapTokensBySlug:d,appTheme:L,isSensitiveDataHidden:w,nftsByAddress:E,currentAccountId:n,stakingStateBySlug:b,savedAddresses:p,withChainIcon:o,accounts:k,baseCurrency:v,currencyRates:y,onClick:Y})}return pt.createElement(qA,{key:H(e),topOffset:r,withAnimation:z},i)})}()):i?pt.createElement("div",{className:HA},pt.createElement(Nh,{play:t,tgsUrl:Qf.noData,previewUrl:Qf.noDataPreview,size:a.igk,className:"L93gae4c",noLoop:!1,nonInteractive:!0}),pt.createElement("p",{className:"ddnxH_YM"},A("No Activity"))):pt.createElement("div",{className:qi(I&&"HZCBxAlC")},pt.createElement(YA,{isActive:t,isMutlichainAccount:o,mode:I?"emptyList":"panel"}))})),eI={container:"y_zyRtG4",button:"mDOHosrF",vestingIcon:"vKLHR9fe",percent:"JLnToFoo",readyToClaim:"T4MfMcFP",active:"gcp9pSal",iconArrow:"zzgzZR90",iconChevron:"WLJ2jON8",primaryCell:"MWjR4yCQ",secondaryCell:"zBTGbg76",subtitle:"v9EXZKHv",amountChange:"fvwKm83g",name:"IJaceq0j",name_text:"JMnoFXEt",nameText:"JMnoFXEt",secondaryValue:"yB7hzLme",secondaryValue_staked:"Fy56cR9i",secondaryValueStaked:"Fy56cR9i",change:"ka5acfM4",change_up:"VR0vGdiX",changeUp:"VR0vGdiX",change_down:"osD2vwqW",changeDown:"osD2vwqW",dot:"zJntRecr",label:"jN5w9AWO",apyLabel:"xWg00BgF",apyLabel_staked:"UeDUf_9U",apyLabelStaked:"UeDUf_9U",chainLabel:"B9HfGrEc",tokenIcon:"BcTpLjhN",secondaryValue_vesting:"rE0JGav4",secondaryValueVesting:"rE0JGav4",secondaryValue_vestingUnfreeze:"LHgVJV2I",secondaryValueVestingUnfreeze:"LHgVJV2I",wrapperVisible:"n7iUgDe0",menu:"ilWFIqJF"},tI=7*xo.d_,nI="open-context-menu",aI=ut(function(e){let{ref:t,token:n,amount:o,stakingStatus:r,stakingState:i,vestingStatus:s,unfreezeEndDate:c,annualYield:l,isInvestorView:d,classNames:u,style:m,appTheme:p,isActive:f,baseCurrency:h,withChainIcon:g,withContextMenu:v,isSensitiveDataHidden:y,isStakingAvailable:w,isSwapDisabled:b,isViewMode:E,yieldType:k,onClick:C}=e;const{symbol:N,slug:S,amount:A,price:I,change24h:T,decimals:x}=n,_=Ki(),{isPortrait:L}=xs();let D=lt();const O=lt(),M=Boolean(null==s?void 0:s.length),F=o??(0,zn.nI)(A,x,!0),P=(0,$n.z)(F).mul(I).toString(),R=T>0?eI.change_up:T<0?eI.change_down:void 0,U=Math.abs(Kn((W=Number(P))-W/(1+T),4));var W;const H=Math.abs(Kn(100*T,2)),$=!a.TI6&&void 0!==l,V=xi(h),z=Boolean(!M&&a.OZB[S]),K=null==i?void 0:i.id,q=function(e,t,n){return n?t.slug===a.wpN.slug?e("%token% Staking",{token:"Ethena"})[0]:e("%token% Staking",{token:t.name})[0]:t.name}(_,n,!!K),j=st(()=>LE(4,12,q),[q]),Y=5+j%6;t&&(D=t);const{shouldRender:G,ref:Q}=rl({isOpen:$,withShouldRender:!0}),X=ri(()=>{C(K??S)}),Z=ri(()=>D.current),J=ri(()=>document.body),ee=ri(()=>O.current),te=ri(()=>({withPortal:!0,doNotCoverTrigger:L,topShiftY:L?void 0:4,preferredPositionX:"left"})),{isContextMenuOpen:ne,isContextMenuShown:ae,contextMenuAnchor:oe,items:re,isBackdropRendered:ie,handleBeforeContextMenu:se,handleContextMenu:ce,handleContextMenuClose:le,handleContextMenuHide:de,handleMenuItemSelect:ue}=function(e,t){const{openReceiveModal:n,startTransfer:o,startSwap:r,startStaking:i,openSettingsWithState:s,toggleTokenVisibility:c,setLandscapeActionsActiveTabIndex:l,setReceiveActiveTab:d,startUnstaking:u,startStakingClaim:m}=$t(),{token:p,isPortrait:f,withContextMenu:h,isStakingAvailable:g,isSwapDisabled:v,isViewMode:y,stakingState:w}=t,{isContextMenuOpen:b,contextMenuAnchor:E,handleBeforeContextMenu:k,handleContextMenu:C,handleContextMenuClose:N,handleContextMenuHide:S}=XS({elementRef:e,isMenuDisabled:!h}),A=ba(p),I=null==w?void 0:w.id,T=void 0!==E,x=w?"readyToClaim"===Im(w):void 0,_="jetton"===(null==w?void 0:w.type)?!!w.unclaimedRewards:void 0,L=st(()=>{const e=[!I&&{name:"Hide",fontIcon:"eye-closed",value:"hide"},{name:"Manage Tokens",fontIcon:"menu-params",withDelimiter:!(y&&I),value:"settings"}];return B(y?e:(I?[("ethena"!==(null==w?void 0:w.type)||!x)&&{name:"ethena"===(null==w?void 0:w.type)?"Request Unstaking":"Unstake",fontIcon:"menu-send",value:"unstake"},{name:"Stake More",fontIcon:"menu-receive",value:"stakeMore"},(x||_)&&{name:"Claim Rewards",fontIcon:"menu-gem",value:"claimRewards"}]:[!A&&{name:"Add / Buy",fontIcon:"menu-plus",value:"add"},{name:"Send",fontIcon:"menu-send",value:"send"},!v&&{name:"Swap",fontIcon:"menu-swap",value:"swap"},g&&{name:"Stake",fontIcon:"menu-percent",value:"stake"}]).concat(e))},[x,_,g,v,y,I,null==w?void 0:w.type,A]),D=ri(e=>{switch(Td(),e){case"add":f?n({chain:p.chain}):(d({chain:p.chain}),l({index:po.Receive}));break;case"send":o({isPortrait:f,tokenSlug:p.slug});break;case"swap":r({tokenInSlug:p.slug,tokenOutSlug:p.slug===a.JhS?a.rKC:a.JhS});break;case"stake":case"stakeMore":i({tokenSlug:p.slug});break;case"settings":s({state:uo.Assets});break;case"hide":c({slug:p.slug,shouldShow:!1});break;case"unstake":u({stakingId:I});break;case"claimRewards":m({stakingId:I})}N()});return{isContextMenuOpen:b,isContextMenuShown:T,contextMenuAnchor:E,items:L,isBackdropRendered:f&&b,handleBeforeContextMenu:k,handleContextMenu:C,handleContextMenuClose:N,handleContextMenuHide:S,handleMenuItemSelect:D}}(D,{token:n,isPortrait:L,withContextMenu:v,isStakingAvailable:w,isSwapDisabled:b,isViewMode:E,stakingState:i});function me(){const e=qi(eI.label,eI.apyLabel,r&&eI.apyLabel_staked);return pt.createElement("span",{ref:Q,className:e},k," ",Kn(l??0,2),"%")}function pe(){if(0!==T)return pt.createElement("i",{className:qi(eI.iconArrow,T>0?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0})}function fe(){return"active"===r?pt.createElement("i",{className:qi("icon-percent",eI.percent),"aria-hidden":!0}):"readyToClaim"===r?pt.createElement("i",{className:qi("icon-check-alt",eI.readyToClaim),"aria-hidden":!0}):pt.createElement(Nh,{play:!0,size:a.wg4,className:eI.percent,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[p].iconClockPurple,previewUrl:Qf[p].preview.iconClockPurple})}const he=qi(eI.button,f&&eI.active,ne&&nI);return pt.createElement("div",{className:qi(eI.container,u),style:m},pt.createElement(yk,{isMenuOpen:ie,contentRef:D,contentClassName:eI.wrapperVisible}),d?pt.createElement(dl,{ref:D,isSimple:!0,className:he,onMouseDown:se,onContextMenu:ce,onClick:X},pt.createElement(YE,{size:"large",token:n,withChainIcon:g,className:eI.tokenIcon},pt.createElement(pt.Fragment,null,r&&fe(),s&&pt.createElement("i",{className:qi("frozen"===s?"icon-snow":"icon-fire",eI.vestingIcon),"aria-hidden":!0}))),pt.createElement("div",{className:eI.primaryCell},pt.createElement("div",{className:eI.name},pt.createElement("span",{className:eI.nameText},q),G&&me(),z&&pt.createElement("span",{className:qi(eI.label,eI.chainLabel)},a.OZB[S])),pt.createElement("div",{className:eI.subtitle},pt.createElement(Jv,{isActive:y,cols:Y,rows:2,cellSize:8},pt.createElement(pA,{text:Ai(F,N)})),pt.createElement("i",{className:eI.dot,"aria-hidden":!0}),pt.createElement(pA,{text:Ai(I,V,void 0,!0)}))),pt.createElement("div",{className:eI.secondaryCell},pt.createElement(Jv,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:qi(eI.secondaryValue,r&&eI.secondaryValue_staked,M&&eI.secondaryValue_vesting,M&&"readyToUnfreeze"===s&&eI.secondaryValue_vestingUnfreeze)},pt.createElement(pA,{text:Ai(P,V)})),c?pt.createElement("div",{className:qi(eI.change,c-Date.now()<tI&&eI.change_down)},_("Unfreeze")," ",_("until %date%",{date:`${(0,xo.TK)(_.code,c)}`})):pt.createElement(Jv,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:qi(eI.change,R)},pe(),pt.createElement(pA,{text:String(H)}),"%",pt.createElement("i",{className:eI.dot,"aria-hidden":!0}),pt.createElement(pA,{text:Ai(U,V,void 0,!0)})))):function(){const e=(0,$n.z)(F).mul(I),t=void 0!==l;return pt.createElement(dl,{ref:D,isSimple:!0,className:he,onMouseDown:se,onContextMenu:ce,onClick:X},pt.createElement(YE,{token:n,size:"large",withChainIcon:g,className:eI.tokenIcon},pt.createElement(pt.Fragment,null,r&&fe(),s&&pt.createElement("i",{className:qi("frozen"===s?"icon-snow":"icon-fire",eI.vestingIcon),"aria-hidden":!0}))),pt.createElement("div",{className:eI.primaryCell},pt.createElement("div",{className:eI.name},pt.createElement("span",{className:eI.nameText},q),t&&me(),z&&pt.createElement("span",{className:qi(eI.label,eI.chainLabel)},a.OZB[S])),pt.createElement("div",{className:eI.subtitle},pt.createElement(pA,{text:Ai(I,V,void 0,!0)}),!r&&pt.createElement(pt.Fragment,null,pt.createElement("i",{className:eI.dot,"aria-hidden":!0}),c?pt.createElement("span",{className:c-Date.now()<tI&&eI.change_down},_("Unfreeze")," ",_("until %date%",{date:`${(0,xo.TK)(_.code,c)}`})):pt.createElement("span",{className:R},pe(),pt.createElement(pA,{text:String(H)}),"%")))),pt.createElement("div",{className:eI.secondaryCell},pt.createElement(Jv,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:qi(eI.secondaryValue,r&&eI.secondaryValue_staked,M&&eI.secondaryValue_vesting,M&&"readyToUnfreeze"===s&&eI.secondaryValue_vestingUnfreeze)},pt.createElement(pA,{text:Ai(F,N)})),pt.createElement(Jv,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:eI.subtitle},e.gt(0)?"≈":""," ",pt.createElement(pA,{text:Ai(e,V,void 0,!0)}))))}(),v&&ae&&pt.createElement(kv,{ref:O,withPortal:!0,shouldTranslateOptions:!0,isOpen:ne,items:re,menuAnchor:oe,bubbleClassName:eI.menu,fontIconClassName:eI.menuIcon,getTriggerElement:Z,getRootElement:J,getMenuElement:ee,getLayout:te,onSelect:ue,onClose:le,onCloseAnimationEnd:de}))}),oI={wrapper:"EmokOdHM",wrapperLoading:"QP7e6eAO",emptyList:"XSZ9FBiN",emptyListSeparate:"SHa5wmx_",noTokens:"KNRqFMNX",noTokens_text:"XwRCmsa8",noTokensText:"XwRCmsa8",noTokens_header:"qDi9Fjks",noTokensHeader:"qDi9Fjks",noTokens_description:"Lxfq6_5v",noTokensDescription:"Lxfq6_5v",openSettingsButton:"L2IEb5c3"},rI=ut(zt(e=>{var t;const n=e.currentAccountId,a=jn(e),o=Eo(e),r=dn(e),{isInvestorViewEnabled:i}=e.settings,s=Wo(e,n),c=Tn(e);return{tokens:a,swapTokens:o,vesting:null==r||null===(t=r.vesting)||void 0===t?void 0:t.info,isInvestorViewEnabled:i,currentTokenSlug:null==r?void 0:r.currentTokenSlug,baseCurrency:e.settings.baseCurrency,mycoin:Zn(e),isMultichainAccount:Cn(e,e.currentAccountId),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,theme:e.settings.theme,states:s,isViewMode:c,isSwapDisabled:So(e),isStakingDisabled:Ko(e)}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isActive:t,tokens:n,swapTokens:o,vesting:r,isInvestorViewEnabled:i,isSeparatePanel:s,currentTokenSlug:c,onTokenClick:l,onStakedTokenClick:d,baseCurrency:u,mycoin:m,isMultichainAccount:p,isSensitiveDataHidden:f,theme:h,states:g,isViewMode:v,isSwapDisabled:y,isStakingDisabled:w,onScroll:b}=e;const E=Ki(),{openSettingsWithState:C}=$t(),N=lt(),S=uv(n,!0),A=uv(m,!0),I=st(()=>{if(S&&A)return S.find(e=>{let{slug:t}=e;return t===A.slug})},[A,S]),{isLandscape:T,isPortrait:B}=xs(),x=cg(h),_=st(()=>a.TI6?[]:(null==g?void 0:g.filter(Tm))??[],[g]),L=st(()=>_.reduce((e,t)=>{const a=null==n?void 0:n.find(e=>{let{slug:n}=e;return n===t.tokenSlug});return a&&(e[t.tokenSlug]={token:a,state:t}),e},{}),[n,_]),D=st(()=>k(o??[],"slug"),[o]),{shouldRender:O}=rl({isOpen:Boolean(Object.keys(L).length),withShouldRender:!0}),{ref:M,shouldRender:F,amount:P,vestingStatus:R,unfreezeEndDate:U,onVestingTokenClick:W}=function(e){let{vesting:t,userMycoin:n,isDisabled:a}=e;const{loadMycoin:o,openVestingModal:r}=$t(),i=!a&&Boolean(null==t?void 0:t.length),s=Boolean(n);rt(()=>{!s&&i&&o()},[i,s]);const c=st(()=>{if(i)return lS(t,["frozen","ready"])},[i,t]),l=st(()=>{if(i)for(const{parts:e}of t)for(const t of e)if("ready"===t.status)return new Date(t.timeEnd).getTime()},[i,t]),{shouldRender:d,ref:u}=rl({isOpen:Boolean(i&&s&&n&&"0"!==c),withShouldRender:!0});return{shouldRender:d,ref:u,amount:c,vestingStatus:l?"readyToUnfreeze":"frozen",unfreezeEndDate:l,onVestingTokenClick:ri(()=>{r()})}}({vesting:r,userMycoin:I,isDisabled:a.TI6}),H=st(()=>null==S?void 0:S.filter(e=>{let{isDisabled:t}=e;return!t}).map(e=>{let{slug:t}=e;return t}),[S]),[$,V]=MA(void 0,H,void 0,void 0,void 0,t,B),z=st(()=>{if(!$)return-1;let e=H.indexOf($[0]);return O&&(e+=Object.keys(L).length),F&&e++,e},[O,F,H,$,L]),K=st(()=>S?k(S,"slug"):void 0,[S]),q=H&&H.length>30,j=st(()=>{if(q&&null!=$&&$.length&&!(z<0))return 4*(z+$.length)},[z,null==$?void 0:$.length,q]);it(()=>{const e=N.current;e&&Gc(e,{height:j&&!T?`${j}rem`:""})},[T,j]);const Y=ri(()=>{C({state:uo.Assets})}),G=k(g??[],"tokenSlug");return F||O||null!=H&&H.length?pt.createElement(WA,{ref:N,className:qi(oI.wrapper,s&&!S&&oI.wrapperLoading),scrollContainerClosest:LA(t,B),items:$,itemSelector:".token-list-item",withAbsolutePositioning:q,maxHeight:void 0===j?void 0:`${j}rem`,onLoadMore:V,onScroll:b},!S&&pt.createElement("div",{key:"loading",className:s?oI.emptyListSeparate:oI.emptyList},pt.createElement(kb,null)),F&&pt.createElement(aI,{ref:M,key:"vesting",token:I,vestingStatus:R,unfreezeEndDate:U,amount:P,isInvestorView:i,baseCurrency:u,appTheme:x,isSensitiveDataHidden:f,onClick:W}),O&&Object.values(L).map(e=>{let{state:t,token:n}=e;const{id:a,annualYield:o,yieldType:r}=t,s=Im(t),c=xm(t);return pt.createElement(aI,{key:`staking-${a}`,token:n,stakingStatus:s,annualYield:o,yieldType:r,amount:(0,zn.nI)(c,n.decimals),isInvestorView:i,baseCurrency:u,appTheme:x,isSensitiveDataHidden:f,withContextMenu:!0,isViewMode:v,isSwapDisabled:y,stakingState:t,onClick:d})}),null==$?void 0:$.map((e,t)=>function(e,t){const n=q?`position: absolute; top: ${4*(z+t)}rem`:void 0,{annualYield:a,yieldType:o}=!(e.slug in L)&&G[e.slug]||{},r=Boolean(!w&&G[e.slug]),s=Boolean(D[e.slug]);return pt.createElement(aI,{classNames:"token-list-item",style:n,key:e.slug,token:e,annualYield:a,yieldType:o,isInvestorView:i,isActive:e.slug===c,baseCurrency:u,withChainIcon:p,appTheme:x,isSensitiveDataHidden:f,withContextMenu:!0,isViewMode:v,isStakingAvailable:r,isSwapDisabled:y||!s,onClick:l})}(K[e],t))):pt.createElement("div",{className:oI.noTokens},pt.createElement(Nh,{tgsUrl:Qf.noData,previewUrl:Qf.noDataPreview,size:a.jzp,nonInteractive:!0,noLoop:!1,className:oI.sticker}),pt.createElement("div",{className:oI.noTokensText},pt.createElement("span",{className:oI.noTokensHeader},E("No tokens yet")),pt.createElement("span",{className:oI.noTokensDescription},E("$no_tokens_description")),pt.createElement(dl,{onClick:Y,isPrimary:!0,isSmall:!0,className:oI.openSettingsButton},E("Add Tokens"))))})),iI="aKYq5U9K",sI="_XXYEoWI",cI="bCLB_xx7",lI="ADFSqjjF",dI="L1JCMSY4",uI="vvSB5YmR",mI="X205Pp2C",pI="S3NdyNSK",fI="lRocmYkd",hI=ut(zt(e=>{var t;const{byAddress:n,currentCollectionAddress:a,collectionTabs:o,dnsExpiration:r}=(null===(t=dn(e))||void 0===t?void 0:t.nfts)||{};return{currentCollectionAddress:a,nfts:n,isTestnet:e.settings.isTestnet,isViewMode:Tn(e),collectionTabs:o,dnsExpiration:r}},(e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=dn(e))||void 0===a?void 0:a.nfts)||{};return n(o)})(function(e){let{currentCollectionAddress:t,nfts:n,isTestnet:o,isViewMode:r,collectionTabs:i,dnsExpiration:s}=e;const{closeNftCollection:c,selectNfts:l,startTransfer:d,burnNfts:u,openHideNftModal:m,addCollectionTab:p,removeCollectionTab:f,openDomainRenewalModal:h}=$t(),g=Ki(),[v,y]=at(),w=Boolean(v),b=lt(),E=lt(),k=t===a.X6R,C=st(()=>t&&n?Object.values(n).filter(e=>k&&e.isTelegramGift||e.collectionAddress===t):[],[t,k,n]),N=st(()=>{if(t!==a.nQN)return;const e=Mo(C,void 0,s);return e?(0,xo.GS)(e):void 0},[C,t,s]),S=k?g("Telegram Gifts"):C[0].collectionName??g("Unnamed Collection"),A=st(()=>{const e=null==i?void 0:i.includes(t);return B([!r&&{name:"Send All",value:"sendAll"},C[0].isOnFragment&&{name:"Fragment",value:"fragment",fontIcon:"external"},{name:"Getgems",value:"getgems",fontIcon:"external"},!k&&{name:ui("ton"),value:"tonExplorer",fontIcon:"external"},!r&&t===a.nQN&&{name:C.length>1?"Renew All":"Renew",value:"renew",description:N&&N<0?C.length>1?"$expired_many":"Expired":g("$expires_in %days%",{days:g("$in_days",N)},void 0,C.length)},!a.TI6&&{name:"Hide All",value:"hideAll"},!r&&{name:"Burn All",value:"burnAll",isDangerous:!0},{name:"Select All",value:"selectAll",withDelimiter:!0},{name:g(e?"Remove Tab":"Add Tab"),value:e?"removeTab":"addTab"}])},[C,i,t,N,k,r,g]);lc({isActive:!0,onBack:c}),rt(()=>fv(c),[]);const I=ri(()=>b.current),T=ri(()=>document.body),x=ri(()=>E.current),_=ri(()=>({withPortal:!0})),L=ri(e=>{switch(e){case"sendAll":d({nfts:C.filter(e=>{let{isOnSale:t}=e;return!t}),isPortrait:_s()});break;case"getgems":{const e=o?a.PKm:a.wln;Il(k?`${e}top-gifts`:`${e}collection/${t}`);break}case"tonExplorer":{const e=function(e,t){if(e)return`${mi("ton",t)}nft/${e}`}(t,o);e&&Il(e);break}case"fragment":k?Il("https://fragment.com/gifts"):t===a.q5n[0]?Il("https://fragment.com/numbers"):t===a.q5n[1]?Il("https://fragment.com"):Il(`https://fragment.com/gifts/${S.toLowerCase().replace(/\W/g,"").replace(/s$/,"")}`);break;case"selectAll":l({addresses:C.filter(e=>{let{isOnSale:t}=e;return!t}).map(e=>{let{address:t}=e;return t})});break;case"burnAll":u({nfts:C.filter(e=>{let{isOnSale:t}=e;return!t})});break;case"hideAll":m({addresses:C.map(e=>e.address),isCollection:!0});break;case"addTab":p({collectionAddress:t});break;case"removeTab":c(),f({collectionAddress:t});break;case"renew":h({addresses:C.map(e=>e.address)})}}),D=ri(()=>{const{right:e,bottom:t}=b.current.getBoundingClientRect();y({x:e,y:t})}),O=ri(()=>{y(void 0)});return pt.createElement("div",{className:iI},pt.createElement(dl,{isSimple:!0,isText:!0,ariaLabel:g("Back"),className:sI,onClick:c},pt.createElement("i",{className:qi(cI,"icon-chevron-left"),"aria-hidden":!0})),pt.createElement("div",{className:lI},pt.createElement("div",{className:dI},S),pt.createElement("div",{className:"hsn7RdaK"},C.length>1?g("%amount% NFTs",{amount:C.length}):g("1 NFT"))),pt.createElement(dl,{isSimple:!0,ref:b,className:uI,onClick:D,ariaLabel:g("Open Menu")},pt.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),pt.createElement(kv,{isOpen:w,ref:E,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:v,getTriggerElement:I,getRootElement:T,getMenuElement:x,getLayout:_,buttonClassName:pI,bubbleClassName:mI,itemDescriptionClassName:fI,items:A,onSelect:L,onClose:O}))})),gI=ut(function(e){let{id:t,name:n,value:a,isChecked:o,className:r,onChange:i}=e;return pt.createElement("div",{className:qi("OyHWXuOj",r,o&&"BCTrjQeD")},pt.createElement("input",{id:t,type:"radio",name:n,className:"visually-hidden",value:a,checked:o,onChange:i}))}),vI={name:"Cannot be sent",value:"send",description:"NFT is for sale",isDisabled:!0},yI={name:"Configure DNS",value:"tondns",fontIcon:"external"},wI={name:"Send",value:"send"},bI={name:"Fragment",value:"fragment",fontIcon:"external"},EI={name:"Getgems",value:"getgems",fontIcon:"external"},kI={name:ui("ton"),value:"tonExplorer",fontIcon:"external"},CI={name:"Collection",value:"collection"},NI={name:"Hide",value:"hide"},SI={name:"Renew",value:"renew"},AI={name:"Not Scam",value:"not_scam"},II={name:"Unhide",value:"unhide"},TI={name:"Burn",value:"burn",isDangerous:!0},BI={name:"Select",value:"select",withDelimiter:!0},xI={name:"Install Card",value:"installCard"},_I={name:"Reset Card",value:"resetCard"},LI={name:"Apply Palette",value:"installAccentColor"},DI={name:"Reset Palette",value:"resetAccentColor"},OI={name:"Link to Wallet",value:"linkDomain"},MI={name:"Change Wallet",value:"linkDomain"};function FI(e){let{nft:t,isViewMode:n,dnsExpireInDays:o,linkedAddress:r,isNftBlacklisted:i,isNftWhitelisted:s,isNftInstalled:c,isNftAccentColorInstalled:l}=e;const{startTransfer:d,selectNfts:u,openNftCollection:m,burnNfts:p,addNftsToBlacklist:f,addNftsToWhitelist:h,closeMediaViewer:g,closeNftAttributesModal:v,openUnhideNftModal:y,setCardBackgroundNft:w,clearCardBackgroundNft:b,installAccentColorFromNft:E,clearAccentColorFromNft:k,openDomainRenewalModal:C,openDomainLinkingModal:N}=$t(),S=Ki();function A(){g(),v()}const I=ri((e,n)=>{const{isTestnet:o}=Wt().settings,r=(null==n?void 0:n.shiftKey)||(null==n?void 0:n.ctrlKey)||(null==n?void 0:n.metaKey);switch(e){case"send":d({isPortrait:_s(),nfts:[t]}),A();break;case"tonExplorer":Il(hi(t.address,o),{isExternal:r});break;case"getgems":{const e=o?a.PKm:a.wln;Il(t.collectionAddress?`${e}collection/${t.collectionAddress}/${t.address}`:`${e}nft/${t.address}`,{isExternal:r});break}case"tondns":Il(`https://dns.ton.org/#${(t.name||"").replace(/\.ton$/i,"")}`,{isExternal:r});break;case"installCard":w({nft:t}),E({nft:t});break;case"resetCard":b(),k();break;case"installAccentColor":E({nft:t});break;case"resetAccentColor":k();break;case"fragment":{let e;const{collectionName:n,name:a,metadata:{fragmentUrl:o}}=t;e=o||(null!=n&&n.toLowerCase().includes("numbers")?`https://fragment.com/number/${null==a?void 0:a.replace(/[^0-9]/g,"")}`:`https://fragment.com/username/${encodeURIComponent((null==a?void 0:a.substring(1))||"")}`),Il(e,{isExternal:r});break}case"collection":m({address:t.collectionAddress},{forceOnHeavyAnimation:!0}),A();break;case"hide":f({addresses:[t.address]}),A();break;case"not_scam":y({address:t.address,name:t.name});break;case"unhide":h({addresses:[t.address]}),A();break;case"burn":p({nfts:[t]}),A();break;case"select":u({addresses:[t.address]});break;case"renew":C({addresses:[t.address]});break;case"linkDomain":N({address:t.address})}});return{menuItems:st(()=>{if(!t)return[];const{collectionAddress:e,isOnSale:d,isOnFragment:u,isScam:m}=t,p=Do(t),f=!a.TI6&&t.collectionAddress===a.qL;return B([!n&&(d?vI:wI),!n&&p&&!d&&void 0!==o&&{...SI,description:o<0?"Expired":S("$expires_in %days%",{days:S("$in_days",o)},void 0,1)},!n&&p&&!d&&(r?MI:OI),!a.TI6&&(!m&&!i||s)&&NI,!a.TI6&&m&&!s&&AI,!a.TI6&&!m&&i&&II,...d||n?[]:[TI,BI],e&&CI,p&&!n&&yI,...f?[c?_I:xI]:[],...f?[l?DI:LI]:[],u&&bI,EI,kI])},[t,n,o,S,r,i,s,c,l]),handleMenuItemSelect:I}}const PI=ut(zt((e,t)=>{let{nft:n}=t;const{blacklistedNftAddresses:a,whitelistedNftAddresses:o}=dn(e)||{},{cardBackgroundNft:r,accentColorNft:i}=pn(e)||{},s=qo(e,n);return{blacklistedNftAddresses:a,whitelistedNftAddresses:o,cardBackgroundNft:r,accentColorNft:i,isViewMode:Tn(e),linkedAddress:s}})(function(e){let{isViewMode:t,isContextMenuMode:n,nft:a,ref:o,dnsExpireInDays:r,linkedAddress:i,menuAnchor:s,blacklistedNftAddresses:c,whitelistedNftAddresses:l,cardBackgroundNft:d,accentColorNft:u,className:m,onOpen:p,onClose:f,onCloseAnimationEnd:h}=e;const g=st(()=>null==c?void 0:c.includes(a.address),[a,c]),v=st(()=>null==l?void 0:l.includes(a.address),[a,l]),y=Uh(a&&a.address===(null==d?void 0:d.address),wv),w=Uh(a&&a.address===(null==u?void 0:u.address),wv),{menuItems:b,handleMenuItemSelect:E}=FI({nft:a,isViewMode:t,dnsExpireInDays:r,linkedAddress:i,isNftBlacklisted:g,isNftWhitelisted:v,isNftInstalled:y,isNftAccentColorInstalled:w});let k=lt();const C=lt(),N=Boolean(s);o&&(k=o);const S=ri(()=>k.current),A=ri(()=>document.body),I=ri(()=>C.current),T=ri(()=>({withPortal:!0,topShiftY:n?4:0,preferredPositionX:n?"left":"right"})),B=Ki();return pt.createElement(pt.Fragment,null,pt.createElement("button",{ref:k,type:"button",className:qi("Zwrm7aDb",m),"aria-label":B("NFT Menu"),onClick:e=>{Yr(e),N?f():(Td(),p())}},pt.createElement("i",{className:qi("lGtsxpv1","icon-menu-dots"),"aria-hidden":!0})),pt.createElement(kv,{isOpen:N,ref:C,withPortal:!0,menuAnchor:s,menuPositionX:"right",getTriggerElement:n?void 0:S,getRootElement:A,getMenuElement:I,getLayout:T,items:b,shouldTranslateOptions:!0,className:n?"kuj1PIIl":"Pc0Y7YGI",bubbleClassName:"UhvMK8mg",buttonClassName:"AZjbQROQ",itemDescriptionClassName:"XbyfBxfu",shouldCleanup:!0,onClose:f,onCloseAnimationEnd:h,onSelect:E}))})),RI="ITYna3lB",UI="P5UTNS9t",WI="O3ePb4wF",HI="wvB9itFX",$I="xeApkBtH",VI=ut(function(e){let{nft:t,selectedAddresses:n,tonDnsExpiration:o,observeIntersection:i,isViewAccount:s}=e;const{selectNfts:c,clearNftSelection:l,openDomainRenewalModal:d,openNftAttributesModal:u}=$t(),m=Ki(),p=lt(),{isLottie:f,shouldPlay:h,noLoop:g,markHover:v,unmarkHover:y}=function(e,t,n){var a;const o=Boolean(null===(a=e.metadata)||void 0===a?void 0:a.lottie),i=nl(Tv(t,o?n:void 0,void 0)),[s,c,l]=Np();if(!o)return{isLottie:o};return{isLottie:o,shouldPlay:i||s,noLoop:!s,...!(r.pz||r.Ni)&&{markHover:c,unmarkHover:l}}}(t,p,i),[w,b]=at(),E=!!n&&n.length>0,k=st(()=>null==n?void 0:n.includes(t.address),[n,t.address]),C=Boolean(w),N=o?(0,xo.GS)(o):void 0,S=void 0!==N&&N<=a.tI4,{shouldRender:A,ref:I}=rl({isOpen:E&&t.isOnSale,withShouldRender:!0}),{isContextMenuOpen:T,contextMenuAnchor:B,handleBeforeContextMenu:x,handleContextMenu:_,handleContextMenuHide:L,handleContextMenuClose:D}=XS({elementRef:p}),O=qi("wdIabR9U",!E&&t.isOnSale&&"TcBQN9hf",C&&"AFzPXqVX",E&&t.isOnSale&&WI);function M(e){Yr(e),d({addresses:[t.address]})}const F=ri(()=>{b(B)}),P=ri(()=>{const{right:e,y:t}=p.current.getBoundingClientRect();b({x:e,y:t})}),R=ri(()=>{b(void 0),D()});function U(){return pt.createElement("button",{type:"button",className:qi("VpqrQ0wB",s&&WI),onClick:s?void 0:M},N<0?"Expired":m("$expires_in %days%",{days:m("$in_days",N)},void 0,1))}return yt(()=>{T?F():R()},[T]),pt.createElement("div",{key:t.address,ref:p,className:O,onMouseEnter:v,onMouseLeave:y,onClick:E&&t.isOnSale?void 0:function(){E?k?l({address:t.address}):c({addresses:[t.address]}):(Td(),u({nft:t}))},onMouseDown:x,onContextMenu:_},E&&!t.isOnSale&&pt.createElement(gI,{isChecked:k,name:"nft",value:t.address,className:"VqbpRLGL"}),!E&&pt.createElement(PI,{nft:t,isContextMenuMode:Boolean(B),dnsExpireInDays:N,menuAnchor:w,onOpen:P,onClose:R,onCloseAnimationEnd:L}),f?pt.createElement("div",{className:HI},pt.createElement(Nh,{shouldStretch:!0,play:h,noLoop:g,tgsUrl:t.metadata.lottie,previewUrl:t.thumbnail,noPreviewTransition:!0,className:qi(UI,k&&$I)}),S&&U()):pt.createElement(dg,{url:t.thumbnail,className:HI,imageClassName:qi(UI,k&&$I)},S&&U()),A&&pt.createElement("div",{ref:I,className:"qtSm9QOQ"},m("For sale. Cannot be sent and burned")),pt.createElement("div",{className:"v0SE1VHL"},pt.createElement("b",{className:"KokxXqZI"},t.name||qt(t.address,4))),pt.createElement("div",{className:"_xEjK2pw"},t.collectionName))}),zI=ut(zt(e=>{var t;const{orderedAddresses:n,byAddress:a,currentCollectionAddress:o,selectedAddresses:r,dnsExpiration:i}=(null===(t=dn(e))||void 0===t?void 0:t.nfts)||{},{isNftBuyingDisabled:s}=e.restrictions,{blacklistedNftAddresses:c,whitelistedNftAddresses:l}=dn(e)||{};return{orderedAddresses:n,selectedAddresses:r,byAddress:a,currentCollectionAddress:o,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isNftBuyingDisabled:s,dnsExpiration:i,isViewAccount:Tn(e)}},(e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=dn(e))||void 0===a?void 0:a.nfts)||{};return n(`${e.currentAccountId}_${o||"all"}`)})(function(e){let{isActive:t,orderedAddresses:n,selectedAddresses:o,byAddress:r,currentCollectionAddress:i,dnsExpiration:s,isNftBuyingDisabled:c,blacklistedNftAddresses:l,whitelistedNftAddresses:d,isViewAccount:u}=e;const{fetchNftsFromCollection:m,clearNftsSelection:p}=$t(),f=Ki(),h=lt(),{isPortrait:g,isLandscape:v}=xs(),y=Boolean(null==o?void 0:o.length),[w,b]=at(!1),E=LA(!0,g)||".nfts-container";rt(()=>{i&&m({collectionAddress:i})},[i]),rt(p,[p,t,i]),rt(()=>y?fv(p):void 0,[y]);const k=st(()=>{if(!n||!r)return;const e=new Set(l),t=new Set(d),o=n.reduce((n,o)=>{const s=r[o];return!s||i&&s.collectionAddress!==i&&(i!==a.X6R||!s.isTelegramGift)||s.isHidden&&!t.has(s.address)||e.has(s.address)||n.push(s),n},[]);return w?o:o.slice(0,50)},[r,i,n,l,d,w]),C=ri(()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.closest(E);if(!t||w)return;const{scrollTop:n,scrollHeight:a,clientHeight:o}=t;a-n-o<=800&&b(!0)});it(()=>{var e;if(!E||null==k||!k.length)return;const t=null===(e=h.current)||void 0===e?void 0:e.closest(E);return t?(t.addEventListener("scroll",C),()=>{t.removeEventListener("scroll",C)}):void 0},[null==k?void 0:k.length,E]);const{observe:N}=Iv({throttleMs:200,isDisabled:!(null!=k&&k.length)});return void 0===k?pt.createElement("div",{className:qi(RI,"AmFNUCBn")},pt.createElement(kb,null)):0===k.length?pt.createElement("div",{className:RI},pt.createElement(Nh,{play:t,tgsUrl:Qf.happy,previewUrl:Qf.happyPreview,size:g?a.jzp:a.igk,className:"e1KDXttI",noLoop:!1,nonInteractive:!0}),pt.createElement("div",{className:"VvA3zcqe"},pt.createElement("p",{className:"dfDaqpor"},f("No NFTs yet")),!c&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:"T93VHAYd"},bi(f("$nft_explore_offer"),g?["simple_markdown"]:void 0)),pt.createElement("button",{type:"button",className:"MQHqPBS8",onClick:function(e){Yr(e),Il(a.FgL,{title:a.Ia6,subtitle:di(a.FgL)})}},f("Open %nft_marketplace%",{nft_marketplace:a.Ia6}))))):pt.createElement("div",{ref:h,className:qi("dpiMguJa",v&&"UaTzvOas")},k.map(e=>pt.createElement(VI,{key:e.address,nft:e,selectedAddresses:o,tonDnsExpiration:Oo(e,s),isViewAccount:u,observeIntersection:N})))})),KI=ut(zt(e=>{var t;const{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r}=(null===(t=dn(e))||void 0===t?void 0:t.nfts)||{};return{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r,isViewMode:Tn(e)}})(function(e){let{isViewMode:t,selectedAddresses:n,byAddress:o,dnsExpiration:r,currentCollectionAddress:i}=e;const{selectAllNfts:s,clearNftsSelection:c,startTransfer:l,burnNfts:d,openHideNftModal:u,openDomainRenewalModal:m}=$t(),p=Ki(),f=(null==n?void 0:n.length)??1,h=Boolean(null==n?void 0:n.length),g=st(()=>!(null==n||!n.length)&&n.every(e=>Do(null==o?void 0:o[e])),[o,n]),v=st(()=>{if(!g)return;const e=Mo(n??[],o,r);return e?(0,xo.GS)(e):void 0},[g,r,n,o]),y=((null==n?void 0:n.length)??0)>1;lc({isActive:h,onBack:c}),rt(()=>h?fv(c):void 0,[h]);const w=st(()=>B([!t&&{name:"Send",value:"send"},!t&&g&&{name:y?"Renew All":"Renew",value:"renew",description:v&&v<0?y?"$expired_many":"Expired":p("$expires_in %days%",{days:p("$in_days",v)},void 0,(null==n?void 0:n.length)??1)},!a.TI6&&{name:"Hide",value:"hide"},!t&&{name:"Burn",value:"burn",isDangerous:!0},{name:"Select All",value:"select-all",withDelimiter:!0}]),[g,v,t,p,null==n?void 0:n.length,y]),b=ri(()=>{const e=n.map(e=>o[e])??[];c(),l({isPortrait:_s(),nfts:e})}),E=ri(()=>{const e=n.map(e=>o[e])??[];c(),d({nfts:e})}),k=ri(()=>{c(),u({addresses:n,isCollection:!1})}),[C,N]=at(),S=Boolean(C),A=lt(),I=lt(),T=ri(()=>{const{right:e,bottom:t}=A.current.getBoundingClientRect();N({x:e,y:t})}),x=ri(()=>{N(void 0)}),_=ri(()=>A.current),L=ri(()=>document.body),D=ri(()=>I.current),O=ri(()=>({withPortal:!0})),M=ri(e=>{switch(e){case"send":b();break;case"hide":k();break;case"burn":E();break;case"select-all":s({collectionAddress:i});break;case"renew":m({addresses:n})}});return pt.createElement("div",{className:iI},pt.createElement(dl,{isSimple:!0,isText:!0,ariaLabel:p("Back"),className:sI,onClick:c},pt.createElement("i",{className:qi(cI,"icon-chevron-left"),"aria-hidden":!0})),pt.createElement("div",{className:lI},pt.createElement("div",{className:dI},f>1?p("%amount% NFTs Selected",{amount:f}):p("1 NFT Selected"))),pt.createElement("div",null,pt.createElement(dl,{isSimple:!0,ref:A,className:uI,onClick:T,ariaLabel:p("Open Menu")},pt.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),pt.createElement(kv,{isOpen:S,ref:I,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:C,getTriggerElement:_,getRootElement:L,getMenuElement:D,getLayout:O,buttonClassName:pI,bubbleClassName:mI,itemDescriptionClassName:fI,items:w,onSelect:M,onClose:x})))})),qI={contentPanel:"i_rtpHaE",landscapeContentPanel:"UzEmZry2",container:"wmmKI_Q8",landscapeContainer:"xwYhKvej",assetsPanel:"LsCBKsIM",tabsContainer:"qxl4O9Cg",tabsSlide:"ES31v1R7",tab:"Sd0JpmLp",slides:"vxe8iSc4",slide:"MU2eE1B1",portraitContainer:"joLgqn25",tabsContent:"VjN3P9Zv",tabs:"q8lTUtx5",tabsOverlay:"razu85QH"},jI=Object.values(fo).length/2,YI=3*r.$;let GI=0;const QI=ut(zt(e=>{var t;const n=e.currentAccountId,{activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,vesting:s,nfts:{byAddress:c,currentCollectionAddress:l,selectedAddresses:d,collectionTabs:u}={},currentSiteCategoryId:m}=dn(e)??{},p=jn(e),f=gn(e.currentAccountId)(p),h=Boolean(null==s||null===(t=s.info)||void 0===t?void 0:t.length),g=n?Wo(e,n):void 0,v=function(e){const t=sn(e);return Boolean(null==t?void 0:t.byChain.ton)}(e);return{nfts:c,currentCollectionAddress:l,selectedAddresses:d,tokensCount:f,activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,states:g,hasVesting:h,currentSiteCategoryId:m,doesSupportNft:v,collectionTabs:u}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isActive:t,activeContentTab:n,tokensCount:o,nfts:i,currentCollectionAddress:s,selectedAddresses:c,onStakedTokenClick:l,blacklistedNftAddresses:d,whitelistedNftAddresses:u,selectedNftsToHide:m,states:p,hasVesting:f,currentSiteCategoryId:h,doesSupportNft:g,collectionTabs:v,onTabsStuck:y}=e;const{selectToken:w,showTokenActivity:b,setActiveContentTab:E,openNftCollection:k,closeNftCollection:C,openSettingsWithState:N}=$t(),S=Ki(),{isPortrait:A,isLandscape:I}=xs(),T=lt(),x=Boolean(null==c?void 0:c.length),_=st(()=>(null==p?void 0:p.filter(Tm).length)??0,[p]);yt(()=>{s?GI+=1:GI=0},[s]);const L=ri(e=>{"hidden_nfts"===e?N({state:uo.HiddenNfts}):k({address:e},{forceOnHeavyAnimation:!0})}),D=st(()=>{const e=new Set(d),t=new Set(u);let n=!1;const o=Object.values(i??{}).reduce((a,o)=>(!o.collectionAddress||o.isHidden&&!t.has(o.address)||e.has(o.address)||(a[o.collectionAddress]||(a[o.collectionAddress]={value:o.collectionAddress,name:o.collectionName||S("Unnamed collection")}),!n&&o.isTelegramGift&&(n=!0)),a),{}),r=Object.values(o);return r.sort((e,t)=>e.name.localeCompare(t.name)),n&&r.unshift({value:a.X6R,name:S("Telegram Gifts"),fontIcon:"gift",withDelimiterAfter:!0}),r},[S,i,d,u]),O=st(()=>{if(a.TI6)return!1;const e=new Set(d);return Object.values(i??{}).some(t=>e.has(t.address)||t.isHidden)},[d,i]),M=lt(),F=o+(f?1:0)+_,P=F<=(A?a.nj6:a.hUs),[R,U]=st(()=>{const e=B([!P&&{id:fo.Assets,title:S("Assets"),className:qI.tab},{id:fo.Activity,title:S("Activity"),className:qI.tab},!A&&!a.TI6&&{id:fo.Explore,title:S("Explore"),className:qI.tab},g&&{id:fo.Nft,title:S("Collectibles"),className:qI.tab,menuItems:O?[...D,{name:S("Hidden NFTs"),value:"hidden_nfts",withDelimiter:!0}]:D,onMenuItemClick:L}]);return[e.length,e.concat((null==v?void 0:v.map((e,t)=>{const n=D.find(t=>t.value===e);if(n)return{id:jI+t,title:n.name,className:qI.tab,collectionAddress:e,icon:e===a.X6R?"icon-gift":void 0}}).filter(Boolean))??[])]},[v,g,A,S,D,O,P]),W=st(()=>{const e=U.findIndex(e=>e.id===n);return-1===e?fo.Assets:e},[U,n]),H=st(()=>{if(!s||U[W].id===fo.Nft)return W;const e=(null==v?void 0:v.indexOf(s))??-1;return-1===e?W:R+e},[W,v,s,R,U]);gt(()=>{void 0===n&&E({tab:fo.Assets})});const $=ri(e=>{const t=U.findIndex(t=>{let{id:n}=t;return n===e});if(t>=R){const e=v[t-R];return void k({address:e},{forceOnHeavyAnimation:!0})}w({slug:void 0},{forceOnHeavyAnimation:!0}),E({tab:e})}),V=ri(()=>{const e=_A(M.current,A);null==e||e.scrollTo(0,0)}),{handleScroll:z,isScrolled:K,update:q}=Pv();lc({isActive:0!==W,onBack:()=>$(fo.Assets)});const j=Kv(),Y=r.XS-j-1,G=ri(e=>{const{intersectionRect:{bottom:t},intersectionRatio:n}=e,a=n<1&&t>0&&Math.abs(t-dr().height)>YI;null==y||y(a),(0,we.RK)(()=>{e.target.classList.toggle(qI.tabsContainerStuck,a)})});qv({isDisabled:!A,targetRef:T,rootMargin:`${Y}px 0px 0px 0px`,threshold:[1],cb:G}),rt(()=>{if(r.TF)return ns(M.current,{includedClosestSelector:".swipe-container",excludedClosestSelector:".dapps-feed",onSwipe:(e,t)=>{var n;if(t===Xi.Up||t===Xi.Down||null!==(n=e.target)&&void 0!==n&&n.closest(`.${nI}`))return!1;if(t===Xi.Left){const e=U[Math.min(U.length-1,W+1)];return $(e.id),!0}if(t===Xi.Right){if(h)return!1;if(s)C();else{const e=U[Math.max(0,W-1)];$(e.id)}return!0}return!1},selectorToPreventScroll:".custom-scroll"})},[U,$,W,s,h]);const Q=ri(e=>{b({slug:e})}),X=ri(()=>{A||(0,we.YS)(()=>{const e=_A(M.current,A);e&&q(e)})}),Z=qi(qI.container,r.TF&&"swipe-container",A?qI.portraitContainer:qI.landscapeContainer);function J(e){if(0===W&&P&&!s)return pt.createElement(JA,{isActive:e,totalTokensAmount:F,onScroll:I?z:void 0});if(s&&U[W].id!==fo.Nft)return pt.createElement("div",{className:"nfts-container",onScroll:I?z:void 0},pt.createElement(zI,{key:`custom:${s}`,isActive:e}));switch(U[W].id){case fo.Assets:return pt.createElement(rI,{isActive:e,onTokenClick:Q,onStakedTokenClick:l,onScroll:I?z:void 0});case fo.Activity:return pt.createElement(JA,{isActive:e,totalTokensAmount:F,onScroll:I?z:void 0});case fo.Explore:return pt.createElement(dC,{isActive:e,onScroll:I?z:void 0});case fo.Nft:return pt.createElement(Qh,{activeKey:GI,name:A?"slide":"slideFade",className:"nfts-container",onScroll:I?z:void 0},pt.createElement(zI,{key:s||"all",isActive:e}));default:return}}return pt.createElement("div",{className:Z},P&&pt.createElement("div",{className:qI.assetsPanel},pt.createElement(rI,{isActive:!0,isSeparatePanel:!0,onStakedTokenClick:l,onTokenClick:Q})),pt.createElement("div",{className:qi(A?qI.contentPanel:qI.landscapeContentPanel)},function(){const e=x||!A&&h?2:s?1:0;return pt.createElement(pt.Fragment,null,pt.createElement("div",{ref:T,className:qi(qI.tabsContainer,s&&qI.tabsContainerForNftCollection,"with-notch-on-scroll",K&&"is-scrolled")},pt.createElement(Qh,{name:"slideFade",className:qI.tabsContent,activeKey:e,slideClassName:qI.tabsSlide,shouldCleanup:!0,cleanupExceptionKey:0},x?pt.createElement(KI,null):!A&&h?pt.createElement(sC,{id:h}):s?pt.createElement(hI,{key:"collection"}):pt.createElement(vN,{isActive:t,tabs:U,activeTab:W,onSwitchTab:$,onActiveTabClick:V,className:qi(qI.tabs,"content-tabslist"),overlayClassName:qI.tabsOverlay}))),pt.createElement(Qh,{ref:M,name:A?"slide":"slideFade",activeKey:H,renderCount:R+((null==v?void 0:v.length)??0),className:qi(qI.slides,"content-transition"),slideClassName:qi(qI.slide,"custom-scroll"),onStop:X,onScroll:I?z:void 0},J))}()),pt.createElement(DA,{isOpen:Boolean(null==m?void 0:m.addresses.length),selectedNftsToHide:m}))}));function XI(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const ZI={portraitContainer:"nDlx2B3w",container:"H35Oa6Xc",testnetWarning:"FeOh0iRA",wrapper:"PUMHiqAW",wrapper_landscape:"j9PIExiC",wrapperLandscape:"j9PIExiC",wrapperFlex:"WUreitT1",icon:"l3sBnS54",text:"WFekTm0y",light:"TR3h5nXi",closeButton:"tQS1IhkF",domainPreviewWrapper:"qB47T3_D",domainPreview:"VOiW6ZiQ",domainPreview_1:"qdZywUBz",domainPreview1:"qdZywUBz",domainPreview_2:"z795yKpX",domainPreview2:"z795yKpX",domainPreview_3:"QhDZUBwR",domainPreview3:"QhDZUBwR",linkContainer:"fjbVep3r",link:"LEqLbgwy"},JI=ut(zt(e=>({theme:e.settings.theme}),(e,t,n)=>n(e.currentAccountId))(function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,ref:r}=rl({isOpen:t,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=xs(),s=Ki();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;rt(()=>{const e=XI(!0),r=XI(),i="dark"===n?o:a,s="light"===n?a:o;return t&&(e.setAttribute("content",i),r.setAttribute("content",s)),()=>{e.remove(),r.remove()}},[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return pt.createElement("div",{ref:r,className:qi(ZI.wrapper,i&&ZI.wrapper_landscape),onClick:()=>{a()}},s("Wallet is not backed up"),pt.createElement("i",{className:qi(ZI.icon,"icon-chevron-right"),"aria-hidden":!0}),pt.createElement("p",{className:ZI.text},s("Back up wallet to have full access to it")))})),eT="open",tT=ut(function(e){let{children:t,isShown:n}=e;const a=lt(),o=lt(n),[r,i]=at(n),s=vt(n),c=lt();function l(){a.current&&(a.current.classList.toggle(eT),o.current=!o.current)}void 0!==s&&s!==n&&(n&&!o.current?(i(!0),c.current&&window.clearTimeout(c.current),setTimeout(()=>(0,we.RK)(l),200)):((0,we.RK)(l),c.current=window.setTimeout(()=>{i(!1)},200)));const d=pt.createElement("div",{className:"content"},t);return pt.createElement("div",{ref:a,className:qi("collapsible",n&&"shown",o.current&&eT)},r?d:void 0)});let nT=[];const aT=ut(zt(e=>{const{nfts:t}=dn(e)||{};return{orderedAddresses:null==t?void 0:t.orderedAddresses,byAddress:null==t?void 0:t.byAddress,dnsExpiration:null==t?void 0:t.dnsExpiration}})(function(e){let{orderedAddresses:t,byAddress:n,dnsExpiration:o}=e;const{openDomainRenewalModal:r}=$t(),i=Ki(),{isLandscape:s}=xs(),c=ft(),l=st(()=>function(e,t,n){const o=[];if(t&&n)for(const r of e){const e=t[r];(0,xo.GS)(Oo(e,n)??1/0)<=a.wbd&&o.push(e)}return o}(t??[],n,o).filter(e=>{let{address:t}=e;return!nT.includes(t)}),[n,nT,t]),d=l.length>0,u=uv(d?l:void 0,!0),m=st(()=>{const e=Mo(u??[],void 0,o);return e?(0,xo.GS)(e):void 0},[u,o]),p=st(()=>{if(!m||m>=0||!u)return[];const e=Date.now();return u.filter(t=>{const n=Oo(t,o);return n&&n<e})},[o,m,u]);return pt.createElement(tT,{isShown:d},pt.createElement("div",{className:qi(ZI.wrapper,ZI.wrapperFlex,s&&ZI.wrapper_landscape),onClick:function(){const e=(u??[]).map(e=>{let{address:t}=e;return t});r({addresses:e})}},function(){const e=(u??[]).slice(0,3);return pt.createElement("div",{className:ZI.domainPreviewWrapper},e.map((t,n)=>pt.createElement("img",{key:t.address,src:t.thumbnail,alt:t.name,style:`--index: ${n}`,className:qi(ZI.domainPreview,ZI[`domainPreview_${e.length}`])})))}(),pt.createElement("div",null,1===(u??[]).length?i("Renew Domain"):i("Renew Domains"),pt.createElement("i",{className:qi(ZI.icon,"icon-chevron-right"),"aria-hidden":!0}),pt.createElement("p",{className:qi(ZI.text,ZI.light)},function(){if(void 0!==m)return 1===l.length?m<0?i("$domain_was_expired",{domain:l[0].name}):i("$domain_expire",{domain:l[0].name,days:i("$in_days",m,"i")}):m<0?i("$domains_was_expired",{domain:p.length},void 0,p.length):i("$domains_expire",{domain:l.length,days:i("$in_days",m,"i")},void 0,l.length)}())),pt.createElement("button",{type:"button",className:ZI.closeButton,"aria-label":i("Close"),onClick:function(e){Yr(e),nT=[...nT,...l.map(e=>{let{address:t}=e;return t})],c()}},pt.createElement("i",{className:"icon-close","aria-hidden":!0}))))})),oT=ut(zt(e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden}))(function(e){let{isSecurityWarningHidden:t}=e;const{closeSecurityWarning:n}=$t(),{shouldRender:o,ref:r}=rl({isOpen:!t,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=xs(),s=Ki(),c=ri(e=>{e.stopPropagation(),n()});if(o)return pt.createElement("div",{ref:r,className:qi(ZI.wrapper,i&&ZI.wrapper_landscape),onClick:function(){Il(a.tpB)}},s("Consider More Secure Version"),pt.createElement("i",{className:qi(ZI.icon,"icon-chevron-right"),"aria-hidden":!0}),pt.createElement("p",{className:ZI.text},s("Install our native app or browser extension.")),pt.createElement("button",{type:"button",className:ZI.closeButton,"aria-label":s("Close"),onClick:c},pt.createElement("i",{className:"icon-close","aria-hidden":!0})))})),rT=ut(zt(e=>{var t;const n=sn(e);return{isMultisig:null==n||null===(t=n.byChain.tron)||void 0===t?void 0:t.isMultisig,isViewMode:"view"===(null==n?void 0:n.type)}})(function(e){let{isMultisig:t,isViewMode:n}=e;const{isLandscape:a}=xs(),o=Ki(),r=!!t&&!n,i=Fv(o.code,"seedScam");return pt.createElement(tT,{isShown:r},pt.createElement("div",{className:qi(ZI.wrapper,a&&ZI.wrapper_landscape)},o("Multisig Wallet Detected"),pt.createElement("p",{className:ZI.text},o("$multisig_warning_text",{multisig_warning_link:pt.createElement("span",{className:ZI.linkContainer},pt.createElement("i",{className:qi(ZI.link,"icon-chevron-right"),"aria-hidden":!0}),pt.createElement("a",{href:i,className:ZI.link,target:"_blank",rel:"noreferrer"},o("$multisig_warning_link")))}))))})),iT=!(a.TI6||r.cp||a.hL1||r.pz||r.Ni||a.tKX),sT=ut(zt(e=>{var t;return{isBackupRequired:Boolean(null===(t=dn(e))||void 0===t?void 0:t.isBackupRequired),isTestnet:e.settings.isTestnet,isViewMode:Tn(e)}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isBackupRequired:t,isTestnet:n,isViewMode:a,onOpenBackupWallet:o}=e;const{isPortrait:r}=xs(),i=Ki();return pt.createElement(pt.Fragment,null,n&&pt.createElement("div",{className:r?ZI.portraitContainer:ZI.container},pt.createElement("div",{className:ZI.testnetWarning},i("Testnet Version"))),!a&&pt.createElement(pt.Fragment,null,pt.createElement(JI,{isRequired:t,onOpenBackupWallet:o}),pt.createElement(aT,null),pt.createElement(rT,null)),iT&&pt.createElement(oT,null))})),cT=ut(zt(e=>{var t,n;const a=fn(e),o=dn(e),{currentTokenSlug:r}=o??{},{isOnRampDisabled:i}=e.restrictions;return{stakingState:e.currentAccountId?Vo(e,e.currentAccountId):void 0,currentTokenSlug:r,isTestnet:e.settings.isTestnet,isLedger:a,isViewMode:Tn(e),isStakingInfoModalOpen:e.isStakingInfoModalOpen,isMediaViewerOpen:Boolean(null===(t=e.mediaViewer)||void 0===t?void 0:t.mediaId),isSwapDisabled:So(e),isStakingDisabled:Ko(e),isOnRampDisabled:i,theme:e.settings.theme,accentColorIndex:null===(n=pn(e))||void 0===n?void 0:n.accentColorIndex}},(e,t,n)=>n(e.currentAccountId))(function(e){let{isActive:t,currentTokenSlug:n,stakingState:o,isTestnet:i,isViewMode:s,isLedger:c,isStakingInfoModalOpen:l,isSwapDisabled:d,isStakingDisabled:u,isOnRampDisabled:m,isMediaViewerOpen:p,theme:f,accentColorIndex:h}=e;const{selectToken:g,openBackupWalletModal:v,setActiveContentTab:y,closeStakingInfo:w,openStakingInfoOrStart:b,changeCurrentStaking:E,setLandscapeActionsActiveTabIndex:k,loadExploreSites:C,openReceiveModal:N,updatePendingSwaps:S}=$t(),A=lt(),I=lt(),T=lt(),B=Kv(),[x,_,L]=Np(!jd()),[D,O]=at(!1),M=3*r.$+B,F=o?Im(o):"inactive";var P,R;qd(L,_),rt(()=>{if(r.bA)return Os.set(P,R),Rs===P&&R(),()=>{Os.get(P)===R&&Os.delete(P)}},[P="receive",R=N]),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];rt(()=>{if(r.TF){if(!e)return null==hC||hC.setAttribute("content",gC),r.pz&&!r._7&&document.addEventListener("gesturestart",Yr),()=>{null==hC||hC.setAttribute("content",vC),r.pz&&!r._7&&document.removeEventListener("gesturestart",Yr)};null==hC||hC.setAttribute("content",vC)}},[e])}(p);const{isPortrait:U,isLandscape:W}=xs();gt(()=>{a.TI6||C({isLandscape:W})}),xv(S,x?3e3:15e3);const{isVisible:H}=qv({isDisabled:!U||!t,targetRef:A,rootMargin:`-${M}px 0px 0px 0px`,threshold:[1]}),{isVisible:$}=qv({isDisabled:!U||!t,targetRef:A,rootMargin:`-${M}px 0px 0px 0px`}),V=ri(()=>{g({slug:void 0}),y({tab:fo.Assets})});rt(()=>{if(r.TF&&U&&I.current&&n)return ns(I.current,{excludedClosestSelector:".token-card",onSwipe:(e,t)=>t===Xi.Right&&(V(),!0)})},[n,V,U]);const z=cg(f);Pg(U?I:T,z,h);const K=ri(e=>{e&&E({stakingId:e}),U||s?b():k({index:po.Stake})});return pt.createElement(pt.Fragment,null,!r.bA&&(U?pt.createElement("div",{ref:I,className:"c4YKj_bz"},pt.createElement("div",{className:"rfAUzAO1"},pt.createElement(sT,{onOpenBackupWallet:v}),pt.createElement(by,{withBalance:!$,areTabsStuck:D,isScrolled:!H}),pt.createElement(xA,{ref:A,onTokenCardClose:V,onYieldClick:K}),!s&&pt.createElement(sA,{containerRef:I,isTestnet:i,stakingStatus:F,isStakingDisabled:u,isSwapDisabled:d,isOnRampDisabled:m,onEarnClick:K})),pt.createElement(QI,{isActive:t,onStakedTokenClick:K,onTabsStuck:O})):pt.createElement("div",{ref:T,className:"nZyFvDbE"},pt.createElement("div",{className:qi("mpB6taR7","custom-scroll")},pt.createElement(sT,{onOpenBackupWallet:v}),pt.createElement(by,null),pt.createElement(xA,{onTokenCardClose:V,onYieldClick:K}),!s&&pt.createElement(aA,{containerRef:T,stakingStatus:F,isLedger:c,theme:f})),pt.createElement("div",{className:"Sr6Y7sw5"},pt.createElement(QI,{onStakedTokenClick:K})))),pt.createElement(ZN,null),pt.createElement(aS,{isOpen:l,onClose:w}),pt.createElement(BN,null),pt.createElement(mN,null),pt.createElement(sS,null),pt.createElement(eS,null),pt.createElement(mS,null),pt.createElement(pS,null),pt.createElement(KC,null),pt.createElement($C,null),!r.cp&&!r.bA&&!U&&pt.createElement(cS,null))})),lT=ut(function(e){let{isActive:t,isLoading:n,error:o,onClearError:r,onSubmit:i,onBack:s,onClose:c}=e;const l=Ki();return lc({isActive:t,onBack:s}),pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:l("Enter Password"),onClose:c}),pt.createElement(ig,{isActive:t,isLoading:n,error:o,operationType:"passcode",withCloseButton:a.UMQ,submitLabel:l("Confirm"),cancelLabel:l("Back"),onSubmit:i,onCancel:s,onUpdate:r}))}),dT="cOGOPS4Q";var uT=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e[e.ViewMode=4]="ViewMode",e}(uT||{});const mT=ut(zt(e=>{var t,n;const a=bn(e),{byId:o}=e.walletVersions??{},r=null==o?void 0:o[e.currentAccountId],i=!(null==r||!r.length),{auth:{forceAddingTonOnlyAccount:s}}=e;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(t=e.accounts)||void 0===t?void 0:t.isLoading,error:null===(n=e.accounts)||void 0===n?void 0:n.error,isPasswordPresent:a,withOtherWalletVersions:i,forceAddingTonOnlyAccount:s}})(function(e){let{isOpen:t,isLoading:n,error:o,isPasswordPresent:i,withOtherWalletVersions:s,forceAddingTonOnlyAccount:c}=e;const{addAccount:l,clearAccountError:d,closeAddAccountModal:u,openSettingsWithState:m,resetHardwareWalletConnect:p,clearAccountLoading:f}=$t(),h=Ki(),[g,v]=at(uT.Initial),[y,w]=at(!1),b=ri(()=>{v(uT.Initial),d()}),E=ri(()=>{v(uT.Initial),w(!1),f()}),k=ri(()=>{i?Pp()?Rp().then(e=>l({method:"createAccount",password:e})):(v(uT.Password),w(!1)):l({method:"createAccount",password:""})});rt(()=>{c&&k()},[c]);const C=ri(()=>{i?(w(!0),Pp()?Rp().then(e=>l({method:"importMnemonic",password:e})):v(uT.Password)):l({method:"importMnemonic",password:""})}),N=ri(()=>{v(uT.ViewMode)}),S=ri(()=>{p({chain:pa()[0],shouldLoadWallets:!0}),v(uT.ConnectHardware)}),A=ri(()=>{v(uT.SelectAccountsHardware)}),I=ri(e=>{l({method:y?"importMnemonic":"createAccount",password:e})}),T=ri(()=>{u(),m({state:uo.WalletVersion})});function B(e,t,i){switch(i){case uT.Initial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:h("Add Wallet"),onClose:u}),pt.createElement("div",{className:qi(dT,"t8FNRQDi")},pt.createElement(Nb,{icon:"wallet-add",label:h("Create New Wallet"),onClick:k,isLoading:!y&&n})),pt.createElement("span",{className:"nnhxqZYR"},h("or import from")),pt.createElement("div",{className:dT},pt.createElement(Nb,{icon:"key",label:h(a.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:C,isLoading:y&&n}),r.sC&&pt.createElement(Nb,{icon:"ledger-alt",label:h("Ledger"),onClick:S})),!a.TI6&&pt.createElement("div",{className:dT},pt.createElement(Nb,{icon:"wallet-view",label:h("View Any Address"),onClick:N})),s&&pt.createElement("div",{className:"Ai_X8CqD"},pt.createElement("span",null,h("$wallet_switch_version_1",{action:pt.createElement("div",{role:"button",tabIndex:0,onClick:T,className:"d8gw7TAv"},h("$wallet_switch_version_2"))}))));case uT.Password:return pt.createElement(lT,{isActive:e,isLoading:n,error:o,onClearError:d,onSubmit:I,onBack:b,onClose:u});case uT.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:A,onCancel:b,onClose:u});case uT.SelectAccountsHardware:return pt.createElement(mC,{onCancel:b,onClose:u});case uT.ViewMode:return pt.createElement(lb,{isActive:e,isLoading:n,onCancel:b})}}return pt.createElement(bl,{hasCloseButton:!0,isOpen:t,noBackdropClose:!0,dialogClassName:"ZNc8nV1w",contentClassName:"BGrP96yj",nativeBottomSheetKey:"add-account",forceFullNative:g===uT.Password,onCloseAnimationEnd:E,onClose:u},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:g,nextKey:g!==uT.Initial||Pp()?void 0:uT.Password},B))})),pT=ut(function(e){let{isActive:t,mnemonic:n,checkIndexes:a,buttonLabel:o,onCancel:r,onSubmit:i,onClose:s}=e;const c=Ki();return lc({isActive:t,onBack:r}),pt.createElement("div",{className:ml.transitionContentWrapper},pt.createElement(Cv,{title:c("Let's Check!"),onClose:s}),pt.createElement("div",{className:qi(ml.transitionContent,"custom-scroll")},pt.createElement("p",{className:qi(aw,rw)},c("Let’s make sure your secrets words are recorded correctly.")),pt.createElement(yw,{descriptionClassName:qi(aw,rw),isActive:t,mnemonic:n,checkIndexes:a,errorClassName:qi(lw,rw),onSubmit:i}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:r,className:ml.button},c("Back")),pt.createElement(dl,{isPrimary:!0,forFormId:"check_mnemonic_form",className:ml.button},o))))}),fT=ut(function(e){let{isActive:t,mnemonic:n,onNext:a,onClose:o}=e;const r=Ki(),i=(null==n?void 0:n.length)||0;return lc({isActive:t,onBack:o}),pt.createElement("div",{className:ml.transitionContentWrapper},pt.createElement(Ey,{isActive:t,title:r("%1$d Secret Words",i),onBackClick:o}),pt.createElement("div",{className:qi(ml.transitionContent,"custom-scroll")},pt.createElement(mb,{mnemonic:n}),a&&pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,onClick:a},r("Let's Check")))))}),hT=ut(function(e){let{isActive:t,privateKeyHex:n,onClose:a}=e;const o=Ki();return lc({isActive:t,onBack:a}),pt.createElement("div",{className:ml.transitionContentWrapper},pt.createElement(Cv,{title:o("Private Key"),onClose:a}),pt.createElement("div",{className:qi(ml.transitionContent,"custom-scroll")},pt.createElement("p",{className:qi(aw,rw)},pt.createElement(Sy,{from:"⚠️"})," ",bi(o("$mnemonic_warning"))),pt.createElement("p",{className:"q7ZIxYSc"},n)))}),gT=ut(function(e){let{isActive:t,onSubmit:n,onClose:a}=e;const o=Ki(),[r,i]=at(!1),[s,c]=at(!1),[l,d]=at(!1),u=r&&s&&l,m=ri(()=>{u&&n()});return pt.createElement("div",{className:ml.transitionContentWrapper},pt.createElement(Cv,{title:o("Safety Rules"),onClose:a}),pt.createElement("div",{className:qi(ml.transitionContent,"custom-scroll")},pt.createElement(db,{customStickerClassName:"oxNcdksx",customButtonWrapperClassName:ml.buttons,isFullSizeButton:!1,isActive:t,isFirstCheckboxSelected:r,isSecondCheckboxSelected:s,isThirdCheckboxSelected:l,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),onFirstCheckboxClick:i,onSecondCheckboxClick:c,onThirdCheckboxClick:d,onSubmit:m})))});var vT=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}(vT||{});const yT=ut(zt(e=>{const{isBackupRequired:t}=dn(e)||{};return{currentAccountId:e.currentAccountId,isBackupRequired:t}})(function(e){let{isOpen:t,currentAccountId:n,onClose:o,isBackupRequired:r}=e;const{setIsBackupRequired:i,setIsPinAccepted:s,clearIsPinAccepted:c}=$t(),l=Ki(),[d,u]=at(vT.confirm),[m,p]=at(vT.password),[f,h]=at([]),[g,v]=at(!1),[y,w]=at(),b=lt(void 0),E=d===vT.confirm||d===vT.password;rt(()=>{b.current=void 0},[t]);const k=ri(()=>{u(vT.password),p(vT.mnemonic)}),C=ri(async e=>{if(v(!0),b.current=await ee("fetchMnemonic",n,e),!b.current)return w("Wrong password, please try again."),v(!1),void Bd();Cd()&&(s(),await xd(!0),c()),v(!1),p(vT.check),u(vT.mnemonic)}),N=ri(()=>{w(void 0)}),S=ri(()=>{var e;h(mm((null===(e=b.current)||void 0===e?void 0:e.length)||a.xA_)),u(vT.check),p(void 0)}),A=ri(()=>{u(vT.mnemonic),p(vT.check)}),I=ri(()=>{v(!1),w(void 0),u(vT.confirm),p(vT.password)}),T=ri(()=>{i({isMnemonicChecked:!0}),o()});function B(e,t,n){const i=b.current;switch(n){case vT.confirm:return pt.createElement(gT,{isActive:e,onSubmit:k,onClose:o});case vT.password:return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:l("Enter Password"),onClose:o}),pt.createElement(ig,{isActive:e,isLoading:g,error:y,withCloseButton:a.UMQ,submitLabel:l("$back_up_auth"),cancelLabel:l("Cancel"),onSubmit:C,onCancel:o,onUpdate:N}));case vT.mnemonic:return i&&Od(i)?pt.createElement(hT,{privateKeyHex:i[0],onClose:o}):pt.createElement(fT,{isActive:e,mnemonic:i,onNext:r?S:void 0,onClose:o});case vT.check:return pt.createElement(pT,{isActive:e,mnemonic:b.current,checkIndexes:f,buttonLabel:l("Done"),onSubmit:T,onCancel:A,onClose:o})}}return pt.createElement(bl,{isOpen:t,hasCloseButton:!0,dialogClassName:"S7OzI0EB",nativeBottomSheetKey:"backup",forceFullNative:d===vT.password,noResetFullNativeOnBlur:E,onClose:o,onCloseAnimationEnd:I},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:d,nextKey:m},B))})),wT={modal:"gDlNRq3N",dialog:"meAvQTC9",container:"EWcWOV6u",menuButton:"hLEOc4Ou",closeButton:"mlPdYaCz",icon:"xQLJ1EYA",nftInfo:"VUUxnoTG",fullImage:"Rv0vP_cy",thumbnail:"_LL4RfB7",info:"j87GjThh",nftName:"O9BeJGjg",collectionName:"EHtLitju",content:"uo4QatBc",noData:"Tg1GGhMT",label:"SiE9CJ9J",description:"NsrMt36R",attributesList:"bDlzAhU_",attributeName:"Q59iVuTN",attributeValue:"d7Ra9vbr",first:"o8kAOnv4",last:"gw8tS0Ge",expandButton:"Wgu0lfq9",collectionNameIcon:"BjwLITqA",expandButtonIcon:"PcBlbvHP"},bT=ut(zt(e=>{const{currentNftForAttributes:t,nfts:n}=dn(e)||{},{dnsExpiration:a}=n||{};return{nft:t,dnsExpiration:a}})(function(e){let{nft:t,dnsExpiration:n}=e;const{closeNftAttributesModal:a,openMediaViewer:o,openNftCollection:i}=$t(),s=Ki(),c=lt(),[l,d]=at(),{isPortrait:u}=xs(),m=!!t,p=uv(t,!0),{metadata:{lottie:f,attributes:h}}=p||{metadata:{}},g=(null==h?void 0:h.length)||0,[v,y]=at(g>5),w=Oo(p,n),b=w?(0,xo.GS)(w):void 0,E=(null==h?void 0:h.slice(0,v?5:void 0))||[],k=!(null!=p&&p.description)&&0===E.length;yt(()=>{y(g>6)},[g,t]),rt(()=>{if(m)return ls(),ds},[m]);const C=ri(()=>{const{right:e,y:t}=c.current.getBoundingClientRect();d({x:e,y:t})}),N=ri(()=>{d(void 0)}),S=ri(e=>{Yr(e),y(!1)}),A=ri(()=>{o({mediaId:p.address,mediaType:ho.Nft})}),I=ri(e=>{Yr(e),a(void 0,{forceOnHeavyAnimation:!0}),i({address:p.collectionAddress},{forceOnHeavyAnimation:!0})});if(p)return pt.createElement(bl,{isOpen:m,className:wT.modal,dialogClassName:wT.dialog,contentClassName:wT.container,onClose:a},pt.createElement("button",{type:"button","aria-label":s("Close"),className:wT.closeButton,onClick:()=>a()},pt.createElement("i",{className:qi(wT.icon,wT.actionIcon,!u||r.cp&&r.MP?"icon-close":"icon-chevron-left"),"aria-hidden":!0})),pt.createElement(PI,{nft:p,ref:c,dnsExpireInDays:b,menuAnchor:l,className:wT.menuButton,onOpen:C,onClose:N}),pt.createElement("div",{className:qi(wT.nftInfo,"nft-container"),"data-nft-address":p.address},f?pt.createElement(Nh,{size:250,shouldStretch:!0,play:m,noLoop:!1,tgsUrl:f,previewUrl:p.thumbnail,className:wT.thumbnail,noPreviewTransition:!0,onClick:A}):pt.createElement(pt.Fragment,null,pt.createElement("img",{src:p.thumbnail,alt:s("Preview"),role:"button",tabIndex:0,className:wT.thumbnail,onClick:A}),Boolean(p.image)&&pt.createElement("img",{src:p.image,alt:p.name,role:"button",tabIndex:0,className:wT.fullImage,onClick:A})),pt.createElement("div",{className:wT.info},pt.createElement("div",{className:wT.nftName},p.name),p.collectionName&&pt.createElement("div",{className:wT.collectionName,onClick:I,tabIndex:0,role:"button"},p.collectionName,pt.createElement("i",{className:qi(wT.collectionNameIcon,"icon-chevron-right"),"aria-hidden":!0})))),pt.createElement("div",{className:qi(wT.content,k&&wT.noData)},k&&s("No additional data."),p.description&&pt.createElement(pt.Fragment,null,pt.createElement("h3",{className:wT.label},s("Description")),pt.createElement("div",{className:wT.description},p.description)),E.length>0&&pt.createElement(pt.Fragment,null,pt.createElement("h3",{className:wT.label},s("Attributes")),pt.createElement("table",{className:wT.attributesList},pt.createElement("tbody",null,E.map((e,t)=>{const n=0===t,a=t===E.length-1;return pt.createElement("tr",{key:t},pt.createElement("th",{className:qi(wT.attributeName,n&&wT.first,a&&wT.last)},e.trait_type),pt.createElement("td",{className:qi(wT.attributeValue,n&&wT.first,a&&wT.last)},e.value))}))),v&&pt.createElement("a",{href:"#",className:wT.expandButton,onClick:S},s("Show All"),pt.createElement("i",{className:qi(wT.expandButtonIcon,"icon-chevron-down"),"aria-hidden":!0})))))})),ET=new Set(["USD","EUR","RUB"]),kT=ut(zt(e=>{var t;const{byChain:n}=cn(e,e.currentAccountId)||{},{chainForOnRampWidgetModal:a,restrictions:{countryCode:o},settings:{baseCurrency:r}}=e;return{chain:a,address:a&&(null==n||null===(t=n[a])||void 0===t?void 0:t.address),countryCode:o,baseCurrency:r,theme:e.settings.theme}})(function(e){let{chain:t,address:n,countryCode:o,baseCurrency:r,theme:i}=e;const{closeOnRampWidgetModal:s,showError:c}=$t(),l=Ki(),d=cg(i),u=lt(),[m,p]=at(!0),[f,h]=at(!0),[g,v]=at(""),[y,w]=at(CT(r,o)),b=Boolean(t)&&Boolean(n),E=st(()=>Object.entries(a.yR2).filter(e=>{let[t]=e;return ET.has(t)}).map(e=>{let[t,{name:n}]=e;return{value:t,name:n}}),[]);rt(()=>(b||(p(!0),h(!0),v(""),w(CT(r,o))),()=>window.clearTimeout(u.current)),[b,o,r]);const k=ri(e=>{c({error:e}),h(!1),p(!1)});rt(()=>{if(!b||!n)return;const e=y;"avanchange"!=("RUB"===y?"avanchange":"moonpay")?(async()=>{try{const a=await ee("getMoonpayOnrampUrl",t,n,d,y);if(!b||y!==e)return;!a||"error"in a?k((null==a?void 0:a.error)||"Unknown error"):v(a.url)}catch(e){k(e instanceof Error?e.message:String(e))}})():"ton"===t?v(function(e){return"https://dreamwalkers.io/ru/mytonwallet/?wallet={address}&give=CARDRUB&take=TON&type=buy".replace("{address}",encodeURIComponent(e))}(n)):k(l("Purchasing TRON with Russian Rubles is currently unavailable."))},[n,d,t,b,l,y]);const C=ri(e=>{h(!0),p(!0),w(e)}),N=ct(()=>{h(!1),u.current=window.setTimeout(()=>{p(!1)},200)},[]);return pt.createElement(bl,{isOpen:b,forceFullNative:!0,header:pt.createElement("div",{className:qi(ml.header,ml.header_wideContent,"WLgPV0m0")},pt.createElement("div",{className:qi(ml.title,"zfGaIHOy")},l("Buy with Card"),pt.createElement(Fb,{items:E,selectedValue:y,theme:"light",menuPositionX:"left",shouldTranslateOptions:!0,menuClassName:"ZQWa9HR0",itemClassName:"F8o2dEHM",onChange:C})),pt.createElement(dl,{isRound:!0,className:qi(ml.closeButton,"CO3ViQbE"),ariaLabel:l("Close"),onClick:s},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0}))),dialogClassName:"LcOFGyVq",nativeBottomSheetKey:"onramp-widget",onClose:s},pt.createElement("div",{className:"ccR1JZvK"},pt.createElement("div",{className:qi("RfEkSEyB",!f&&"X5xveqOQ",!m&&"m3F53tk6")},pt.createElement(kb,null)),function(){if(g)return pt.createElement("iframe",{title:"On Ramp Widget",onLoad:N,className:qi("l_Jb77z9",!f&&"ZRxV9CWH"),width:"100%",height:"100%",frameBorder:"none",allow:"autoplay; camera; microphone; payment",src:g},l("Cannot load widget"))}()))}));function CT(e,t){const n="RU"===t?"RUB":"USD";return e&&ET.has(e)?e:n}const NT="Fq9FxTrz",ST=r.pz?160:360,AT=r.pz?650:500,IT=r.pz?250:500,TT=ut(function(e){let{isOpen:t,onClose:n}=e;const{handleQrCode:a}=$t(),[o,i]=at(!1),[s,l]=at(!1),[d,u]=at(!1),{ref:m,shouldRender:p}=rl({isOpen:o,withShouldRender:!0}),f=Ki(),h=lt(),g=ri(async()=>{jc(document.documentElement,NT),await kp.stopScan()}),v=ri(()=>{u(!1),l(!1),n()}),y=ri(async()=>{const e={formats:[Ep.Gi.QrCode]},t=function(e){if(!e)return;const t=e.getBoundingClientRect(),n={left:t.left*r.Lv,right:t.right*r.Lv,top:t.top*r.Lv,bottom:t.bottom*r.Lv,width:t.width*r.Lv,height:t.height*r.Lv};return[[n.left,n.top],[n.left+n.width,n.top],[n.left+n.width,n.top+n.height],[n.left,n.top+n.height]]}(h.current);await kp.removeAllListeners();const n=await kp.addListener("barcodesScanned",async e=>{let{barcodes:[o]}=e,i=o.cornerPoints;i=i?function(e){e.sort((e,t)=>e[1]-t[1]);const t=e.slice(0,2),n=e.slice(2);return t.sort((e,t)=>t[0]-e[0]),n.sort((e,t)=>e[0]-t[0]),[...t,...n]}(i):void 0,t&&i&&!function(e,t){return e[0][0]>t[0][0]||e[0][1]>t[0][1]||e[1][0]<t[1][0]||e[1][1]>t[1][1]||e[2][0]<t[2][0]||e[2][1]<t[2][1]||e[3][0]>t[3][0]||e[3][1]<t[3][1]}(t,i)&&(await n.remove(),await xd(),a({data:o.rawValue}),v(),await(0,c.v7)(IT),r.pz&&jc(document.documentElement,NT))});u(!0),await kp.startScan(e),o||kp.isTorchAvailable().then(e=>{i(e.available)}),kp.isTorchEnabled().then(e=>{l(e.enabled)})});Ds(e=>{let n,a,[o]=e;if(!r.KI)return t?(n=window.setTimeout(y,ST),a=window.setTimeout(()=>{qc(document.documentElement,NT)},AT)):o&&v(),()=>{n&&window.clearTimeout(n),a&&window.clearTimeout(a)}},[t,v,y]);const w=ri(async()=>{s?await kp.disableTorch():await kp.enableTorch(),l(!s)}),b=qi("GRYD1l1J",s&&"om10jZuu");return pt.createElement(bl,{isOpen:t,onClose:v,nativeBottomSheetKey:"qr-scanner",forceFullNative:!0,onCloseAnimationEnd:g},pt.createElement("div",{className:qi("D8GViz8d",d&&"MmIKemUX")},pt.createElement("div",{className:"CxvvAWsI","aria-label":f("Close"),role:"button",tabIndex:0,onClick:v},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0})),p&&pt.createElement("div",{ref:m,className:b,onClick:w,"aria-label":f("Toggle Flashlight"),role:"button",tabIndex:0},pt.createElement("i",{className:"icon-flashlight","aria-hidden":!0})),pt.createElement("div",{className:"D1xdmb1p"},f("Scan QR Code")),pt.createElement("div",{className:"cQ9fX2T7",ref:h},pt.createElement("div",{className:"Y5_NorwC"}))))});var BT=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(BT||{});const xT=ut(zt(e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}})(function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:i}=$t(),s=Ki(),[c,l,d]=Np(!1),[u,m]=at(BT.confirm),[p,f]=at(BT.password);it(()=>{t&&(m(BT.confirm),f(BT.password),l())},[t,l]),it(()=>{a&&(m(BT.complete),f(void 0))},[a]),rt(()=>u===BT.complete?rs({onEnter:d}):void 0,[d,u]);const h=ri(()=>{m(BT.password),f(BT.complete)}),g=ri(e=>{o({password:e})});function v(e,a,o){switch(o){case BT.confirm:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:s("Confirmation"),onClose:d}),pt.createElement("div",{className:ml.transitionContent},pt.createElement("div",{className:bC},s("Signing Data")),pt.createElement("div",{className:CC},t),pt.createElement("div",{className:"IHEwWBxd"},bi(s("$signature_warning"))),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{className:ml.button,onClick:d},s("Cancel")),pt.createElement(dl,{isPrimary:!0,className:ml.button,onClick:h},s("Sign")))));case BT.password:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:s("Enter Password"),onClose:d}),pt.createElement(ig,{isActive:e,error:n,submitLabel:s("Sign"),cancelLabel:s("Cancel"),onSubmit:g,onCancel:d,onUpdate:r}))}(e);case BT.complete:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:s("Done!"),onClose:d}),pt.createElement("div",{className:qi(ml.transitionContent,ml.transitionContent_simple)},pt.createElement(Nh,{play:e,noLoop:!1,nonInteractive:!0,className:"wlPR2AOa",tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),pt.createElement("div",{className:"bgrj6VK3"},s("Signing was confirmed!")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,onClick:d},s("Close")))))}(e)}}return pt.createElement(bl,{hasCloseButton:!0,isOpen:c,dialogClassName:"nrINNy28",onClose:d,onCloseAnimationEnd:i},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:u,nextKey:p},v))}));function _T(e,t){const n=vt(e,!0),a=lt(),o=ft(),r=null!=e,i=null!=n;return r&&a.current&&(clearTimeout(a.current),a.current=void 0),yt(()=>{t&&!r&&i&&!a.current&&(a.current=window.setTimeout(()=>{a.current=void 0,o()},t))},[t,o,r,i]),a.current&&t&&!r?n:e}const LT=ut(function(e){let{timestamp:t,deadline:n,onCompleted:a}=e;Ki();const o=Math.floor((t+n-Date.now())/xo.Z2),[r,i]=at(Math.max(o,0)),s=r<=300;return rt(()=>{const e=(0,c.Gf)(xo.Z2,()=>{r<=0||i(Math.floor((t+n-Date.now())/xo.Z2))});return r<=0&&(null==a||a()),e},[r,a,t,n]),pt.createElement("span",{className:qi("AsvSkk14",s&&"CZBR69BT")},function(e,t){const n=e=>e.toString().padStart(2,"0"),a=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;let i=a>0?`${a}:`:"";return i+=`${a>0?n(o):o}:`,i+=n(r),i}(0,r))}),DT={infoBlock:"DqUj918m",infoRow:"suN_Ci9f",noIcon:"SUjgosvS",noCurrency:"RjCLBwiu",infoRowIcon:"kaMx21E_",infoRowToken:"iNWWwjqK",label:"uLUQH_M3",infoRowChain:"NcAsWeQk",infoRowAmount:"TzvDf_Jl",infoRowAmountGreen:"I6xrY9jc",infoRowAmountError:"iiFYcyID",infoRowCurrency:"zab5hSsH",infoRowCurrencyValue:"Q3pxLMbG",infoSeparator:"ZO00ZPul",infoSeparatorIcon:"fPy_1zLl",infoSeparatorIconError:"GP0AJq0W"},OT=ut(function(e){let{isSensitiveDataHidden:t,tokenIn:n,amountIn:o,tokenOut:r,amountOut:i,isError:s=!1}=e;const c=st(()=>LE(5,13,o??""),[o]),l=st(()=>LE(5,13,i??""),[i]);function d(e,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=d?l:`-${l}`,m=Boolean(c&&a.OZB[c.slug]);return pt.createElement("div",{className:qi(DT.infoRow,!c&&DT.noIcon,d&&DT.noCurrency)},Boolean(c)&&pt.createElement(YE,{token:c,withChainIcon:!0,className:DT.infoRowIcon}),pt.createElement("span",{className:DT.infoRowToken},null==c?void 0:c.name,m&&pt.createElement("span",{className:qi(DT.label,DT.chainLabel)},a.OZB[c.slug])),pt.createElement(Jv,{isActive:t,cols:e,rows:2,cellSize:8,align:"right",className:qi(DT.infoRowAmount,d&&DT.infoRowAmountGreen,s&&DT.infoRowAmountError)},Ii(u,(null==c?void 0:c.symbol)??"")),pt.createElement("span",{className:DT.infoRowChain},QC(null==c?void 0:c.chain)),!d&&function(e,t,n,a){const o=PE(e,t,n,a);return o?pt.createElement("span",{className:DT.infoRowCurrency},o.firstCurrencySymbol," ≈",pt.createElement("span",{className:DT.infoRowCurrencyValue},o.price," ",o.secondCurrencySymbol)):void 0}(o,i,n,r))}return pt.createElement("div",{className:DT.infoBlock},d(c,n,o),pt.createElement("div",{className:DT.infoSeparator},pt.createElement("i",{className:qi(DT.infoSeparatorIcon,s&&DT.infoSeparatorIconError,s?"icon-close":"icon-arrow-down"),"aria-hidden":!0})),d(l,r,i,!0))});function MT(e){let{terms:t,token:n,precision:a,isLoading:o,className:r}=e;const i=Ki();return pt.createElement("div",{className:r},pt.createElement("div",{className:"FHA1HU_P"},i("Fee in toncoin")),pt.createElement("div",{className:"OgExpTBf"},pt.createElement(Qh,{activeKey:o?1:0,name:"fade",className:"JaS_WGfX"},o?pt.createElement(cl,{isActive:!0,className:"SFz4gihZ"}):pt.createElement(_k,{terms:t,token:n,precision:a}))))}const FT={modalDialog:"E6N6MD3z",unstakeModal:"gnNvHGfL",passwordFormContent:"KL1uqo4o",passwordFormContentInModal:"CZ9Kse33",sticker:"AeVBXxbG",footer:"rQ0tvCAk",copyButtonWrapper:"VtMfi0Xs",feeField:"fSQYvfg1",comment:"jxc6euua",button:"eww3tEAs",buttonWide:"ND5LbWGY",unstakeTime:"hDTeTwua",unstakeTimeIcon:"tZ2WbGH0",scamImage:"BASL0DzO",scamAddress:"km7wfY2m",modalTitle:"yadTct7r",transactionHeader:"uAQ2u0Hd",headerTitle:"J16GqrT7",headerTitle__badge:"arXCGBG7",headerTitleBadge:"arXCGBG7",warning:"w8eOJTS4",headerDate:"fiJguUso",infoBlock:"NGumnj62",textFieldWrapper:"UGOei_Ih",swapSupportBlock:"mVgCbbey",textFieldLabel:"lXDi3LO1",advancedTooltip:"hr8oR5Ry",advancedTooltipContainer:"t6X1h79H",errorCexBlock:"Qr0LqmBg",errorCexMessage:"uSKXuCCa",errorCexEmail:"cQ1RlviM",changellyInfoBlock:"IZsujzDG",changellyDescription:"IgVxAVQB",changellyDescriptionBold:"EOk33hg6",qrCode:"DfLLakci",qrCodeHidden:"L9e2rlZo",scamWarning:"OAz9rga6"},PT=new Set(["new","waiting"]),RT=new Set(["new","waiting","confirming","exchanging","sending"]),UT=new Set(["failed","expired","refunded","overdue"]),WT=new Set(["failed","expired"]),HT=ut(zt(e=>{var t,n;const a=dn(e),o=sn(e),{isSwapDisabled:r}=e.restrictions,{theme:i,isSensitiveDataHidden:s}=e.settings,c=null==a?void 0:a.currentActivityId,l=c?null==a||null===(t=a.activities)||void 0===t?void 0:t.byId[c]:void 0;return{activity:"swap"===(null==l?void 0:l.kind)?l:void 0,tokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,theme:i,accountChains:null==o?void 0:o.byChain,isSwapDisabled:r||e.settings.isTestnet||Tn(e),isSensitiveDataHidden:s}})(function(e){let{activity:t,tokensBySlug:n,theme:o,accountChains:r,isSwapDisabled:i,isSensitiveDataHidden:s}=e;const{fetchActivityDetails:c,startSwap:l,closeActivityInfo:d}=$t(),u=Ki(),{isPortrait:m}=xs(),p=Boolean(t),f=_T(t,Wt().settings.animationLevel===a.dnp?0:(m?fl:pl)+a.xB5),h=cg(o),{id:g,hashes:v,timestamp:y,networkFee:w="0",ourFee:b="0",shouldLoadDetails:E}=f??{},{payinAddress:k,payoutAddress:C,payinExtraId:N}=(null==f?void 0:f.cex)||{};let S,A="0",I="0",T=!0,B=!1,x=!1,_=!1,L=!1,D=!1,O=!1,M=!1,F=!1,P="",R="",U=!1,W="",H=!0,$=!1;const V=st(()=>{if(null!=f&&f.from&&n)return zm(n,f.from)},[null==f?void 0:f.from,n]),z=st(()=>{if(null!=f&&f.to&&n)return zm(n,f.to)},[null==f?void 0:f.to,n]),K=Km({from:V,to:z,toAddress:C,accountChains:r});if(f){const{status:e,from:t,cex:n}=f;if(A=f.fromAmount,I=f.toAmount,H=t===a.Tu9.slug,_=Boolean(n),n?($=!!y&&y+a.JWy-Date.now()<0,F=PT.has(n.status)&&$,x="finished"!==n.status,T=!F&&RT.has(n.status),M=T,L=F||UT.has(n.status),D="hold"===n.status,O="waiting"===n.status&&!F&&!K&&!H,P=n.transactionId):(T=Ua(f),B=WT.has(e)),T)R=u("Swapping");else if(D)R=u("$swap_action"),S=u("On Hold"),U=!0;else if(L){const{status:e}=f.cex??{};"expired"===e||"overdue"===e?(R=u("$swap_action"),S=u("Expired"),W=u("You have not sent the coins to the specified address.")):"refunded"===e?(R=u("$swap_action"),S=u("Refunded"),W=u("Exchange failed and coins were refunded to your wallet.")):(R=u("$swap_action"),S=u("Failed"))}else B?(R=u("$swap_action"),S=u("Failed")):R=u("Swapped")}const q=g?_?null==v?void 0:v[0]:Aa(g).hash:void 0,j=pi("ton",q),Y=!N&&"ton"===(null==z?void 0:z.chain)&&!K,{qrCodeRef:G,isInitialized:Q}=NN({address:k,isActive:Boolean(k),hiddenClassName:FT.qrCodeHidden,hideLogo:!0}),X=ri(()=>{d({id:g})}),Z=ri(()=>{d({id:g}),l({tokenInSlug:V.slug,tokenOutSlug:z.slug,amountIn:A})});function J(){if(N)return pt.createElement("div",{className:FT.textFieldWrapper},pt.createElement("span",{className:FT.textFieldLabel},u("Memo")),pt.createElement(Ck,{address:N,copyNotification:u("Memo was copied!"),noSavedAddress:!0,noExplorer:!0}))}function ee(){if(!Number(w)&&!E||!V)return;const e=H?{native:(0,$n.z)(w).add(b).toString()}:{native:w,token:b};return pt.createElement(MT,{terms:e,token:V,precision:T?"approximate":"exact",isLoading:E})}return rt(()=>{g&&E&&c({id:g})},[g,E]),pt.createElement(bl,{hasCloseButton:!0,title:pt.createElement("div",{className:FT.transactionHeader},pt.createElement("div",{className:FT.headerTitle},R,T&&pt.createElement(Nh,{play:p,size:a.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[h].iconClock,previewUrl:Qf[h].preview.iconClock}),!!S&&pt.createElement("span",{className:qi(FT.headerTitle__badge,U&&FT.warning)},S)),!!y&&pt.createElement("div",{className:FT.headerDate},(0,xo.TK)(u.code,y),", ",(0,xo.fU)(y))),titleClassName:FT.modalTitle,isOpen:p,nativeBottomSheetKey:"swap-activity",onClose:X},pt.createElement("div",{className:ml.transitionContent},pt.createElement(OT,{isSensitiveDataHidden:s,tokenIn:V,amountIn:A,tokenOut:z,amountOut:I,isError:B||L}),pt.createElement("div",{className:FT.infoBlock},function(){if(O){if(K)return;const e=ua(null==V?void 0:V.chain)?V.chain:void 0;return pt.createElement("div",{className:FT.changellyInfoBlock},ee(),pt.createElement("span",{className:FT.changellyDescription},u("$swap_changelly_to_ton_description1",{value:pt.createElement("span",{className:FT.changellyDescriptionBold},Ii(Number(A),(null==V?void 0:V.symbol)??"",!0)),blockchain:pt.createElement("span",{className:FT.changellyDescriptionBold},QC(null==V?void 0:V.chain)),time:pt.createElement(LT,{timestamp:y??0,deadline:a.JWy})})),pt.createElement(Ck,{chain:e,address:k,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}),J(),Y&&pt.createElement("div",{className:qi(FT.qrCode,!Q&&FT.qrCodeHidden),ref:G}))}return pt.createElement(pt.Fragment,null,ee(),!K&&function(){if(!k)return;const e=H?z:V,t=ua(null==e?void 0:e.chain)?e.chain:void 0;return pt.createElement("div",{className:FT.textFieldWrapper},pt.createElement("span",{className:FT.textFieldLabel},H?u("Your %blockchain% Address",{blockchain:null==z?void 0:z.name}):u("Address for %blockchain% transfer",{blockchain:null==V?void 0:V.name})),pt.createElement(Ck,{chain:t,address:H?C:k,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}))}(),!K&&J())}(),x&&(D?pt.createElement("div",{className:FT.textFieldWrapper},pt.createElement("span",{className:FT.changellyDescription},u("$swap_changelly_kyc_security",{email:pt.createElement("span",{className:FT.changellyDescriptionBold},a.gpw)})),P&&pt.createElement(Ck,{text:P,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})):pt.createElement("div",{className:qi(FT.textFieldWrapper,FT.swapSupportBlock)},W&&pt.createElement("span",{className:FT.errorCexMessage},W),M&&pt.createElement("span",{className:qi(FT.changellyDescription)},u("Please note that it may take up to a few hours for tokens to appear in your wallet.")),$&&pt.createElement(pt.Fragment,null,pt.createElement("span",{className:FT.changellyDescription},u("$swap_changelly_support",{livechat:pt.createElement("a",{href:a.o$d,target:"_blank",rel:"noreferrer",className:FT.changellyDescriptionBold},u("Changelly Live Chat")),email:pt.createElement("span",{className:FT.changellyDescriptionBold},a.HWN)})),P&&pt.createElement(Ck,{text:P,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})))),j&&pt.createElement("div",{className:FT.textFieldWrapper},pt.createElement("span",{className:FT.textFieldLabel},u("Transaction ID")),pt.createElement(Ck,{noSavedAddress:!0,chain:"ton",address:q,addressUrl:j,isTransaction:!0,copyNotification:u("Transaction ID was copied!")}))),!i&&pt.createElement("div",{className:FT.footer},function(){let e=!0,t="Swap Again";if(O)return pt.createElement(dl,{onClick:X,className:FT.button},u("Close"));if(D)e=!1;else if(L){const{status:e}=(null==f?void 0:f.cex)??{};"expired"!==e&&"refunded"!==e&&"overdue"!==e||(t="Try Again")}return e?pt.createElement(dl,{onClick:Z,className:FT.button},u(t)):void 0}())))})),$T="MeZ5UFq3",VT=ut(function(e){let{isIncoming:t,isScam:n,isFailed:o,amount:r,token:i,status:s,noSign:c=!1,isSensitiveDataHidden:l,baseCurrency:d,currencyRates:u}=e;const m=o||n?"X1mdYuXG":t?"cuIyqZ4t":void 0;return pt.createElement(pt.Fragment,null,function(){const{decimals:e,symbol:n}=i??a.Bx3,o=(0,zn.nI)(c?(0,Ao.wg)(r):r,e),[d,u]=Ii(o,"",c,e,!t).split("."),p=Boolean(s);return pt.createElement(Jv,{isActive:l,cols:12,rows:p?7:4,align:"center",cellSize:p?17:18,className:qi("__I8XE5D",s&&$T)},pt.createElement("div",{className:qi("Qy2zkhK5",s&&$T,m,"rounded-font")},d.trim().replace(" ",""),u&&pt.createElement("span",{className:"F1teTrIV"},".",u.trim()),pt.createElement("span",{className:"AgH98knQ"},n)),p&&pt.createElement("div",{className:qi("COF5DpZg",m)},s))}(),function(){if(i)return pt.createElement(Jv,{isActive:l,cols:10,rows:3,align:"center",cellSize:12,className:"tPLUuFQO",contentClassName:qi("BUzkYW_L","rounded-font",m)},_i(r,d,i,u))}())});var zT=function(e){return e[e.initial=0]="initial",e[e.password=1]="password",e}(zT||{});const KT=ut(zt(e=>{var t,n;const a=e.currentAccountId,o=dn(e),r=null==o?void 0:o.currentActivityId,i=r?null==o||null===(t=o.activities)||void 0===t?void 0:t.byId[r]:void 0,s=null==o?void 0:o.savedAddresses,{byAddress:c}=(null==o?void 0:o.nfts)||{},l=Wo(e,a),{isTestnet:d,theme:u,isSensitiveDataHidden:m}=e.settings,p=nn(e),f=fn(e);return{transaction:"transaction"===(null==i?void 0:i.kind)?i:void 0,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,savedAddresses:s,isHardwareAccount:f,isTestnet:d,isViewMode:Tn(e),isLongUnstakeRequested:null==o?void 0:o.isLongUnstakeRequested,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),theme:u,stakingStates:l,isSensitiveDataHidden:m,nftsByAddress:c,accounts:p,currentAccountId:a,baseCurrency:e.settings.baseCurrency,currencyRates:e.currencyRates}})(function(e){var t;let{transaction:n,tokensBySlug:o,savedAddresses:r,isTestnet:i,isHardwareAccount:s,isViewMode:c,stakingStates:l,isLongUnstakeRequested:d,isMediaViewerOpen:u,theme:m,isSensitiveDataHidden:p,nftsByAddress:f,accounts:h,currentAccountId:g,baseCurrency:v,currencyRates:y}=e;const{fetchActivityDetails:w,startTransfer:b,startStaking:E,startUnstaking:k,closeActivityInfo:C,setIsPinAccepted:N,clearIsPinAccepted:S,setLandscapeActionsActiveTabIndex:A}=$t(),I=Ki(),{isPortrait:T}=xs(),[B,x]=at(zT.initial),[_,L]=at(zT.password),D=Wt().settings.animationLevel===a.dnp?0:(T?fl:pl)+a.xB5,O=_T(n,D),[M,F]=at(Date.now()+a.NFS),P=cg(m),{fromAddress:R,toAddress:U,amount:W,comment:H,encryptedComment:$,fee:V,id:z,isIncoming:K,slug:q,timestamp:j,nft:Y,shouldLoadDetails:G,status:Q}=O||{},X=Boolean(O&&(!Ia((Z=O).id)||!(null!==(J=Z.extra)&&void 0!==J&&J.withW5Gasless)));var Z,J;const te=O&&Fa(O),ne=te&&"unstake"===(null==O?void 0:O.type),ae=Boolean(null==O?void 0:O.nft),oe=q?null==o?void 0:o[q]:void 0,re=null==oe?void 0:oe.chain,ie=oe?va(oe.chain):void 0,se=K?R:U,ce=O?Ua(O):void 0,le="pendingTrusted"===Q?"iconClock":"iconClockOrange",de=st(()=>{if(re)return ek({address:se,chain:re,currentAccountId:g,accounts:h,savedAddresses:r})},[h,se,re,g,r])||(null==n||null===(t=n.metadata)||void 0===t?void 0:t.name),ue=K&&ra(O),me=Boolean(n)&&La(n),pe=Boolean(n)&&!u,fe=re&&z?Aa(z).hash:void 0,he=Boolean(Y&&(null==f?void 0:f[Y.address])),ge=!c&&!s,[ve,ye]=at(),[we,be]=at(),Ee=re?pi(re,fe,i):void 0,{shouldRender:ke,ref:Ce}=rl({isOpen:Boolean(X&&Ee),withShouldRender:!0}),Ne=st(()=>null==l?void 0:l.find(e=>e.tokenSlug===a.Tu9.slug&&e.balance>0n),[l]),Se=Ne&&Im(Ne),Ae=null==Ne?void 0:Ne.start,Ie=null==Ne?void 0:Ne.end,{shouldRender:Te,ref:Be}=rl({isOpen:"unstakeRequest"===(null==n?void 0:n.type)&&void 0!==Ae&&("unstakeRequested"===Se||d)&&n.timestamp>=Ae,withShouldRender:!0});yt(()=>{O&&ye(void 0)},[O]),yt(()=>{Ie&&F(Ie)},[Ie]),rt(()=>{z&&G&&w({id:z})},[z,G]);const xe=ri(()=>{be(void 0)}),_e=ri(()=>{x(zT.password),L(void 0)}),Le=ri(()=>{x(zT.initial),L(zT.password),xe()}),De=ri(()=>{C({id:z}),b({isPortrait:T,tokenSlug:q||a.Tu9.slug,toAddress:se,amount:(0,Ao.wg)(W),comment:K?void 0:H})}),Oe=ri(()=>{C({id:z}),T?E():A({index:po.Stake})}),Me=ri(()=>{C({id:z}),T||A({index:po.Stake}),k()}),Fe=ri(async e=>{const t=await ee("decryptComment",Wt().currentAccountId,O,e);vm(t)?be(fm(null==t?void 0:t.error)):(Cd()&&(N(),await xd(!0)),Le(),ye(t))}),Pe=ri(async()=>{if($){if(Pp()){const e=await Rp();if(e)return void Fe(e)}_e()}}),Re=ri(()=>{C({id:z}),Cd()&&S()});function Ue(e,t,o){switch(o){case zT.initial:return pt.createElement(pt.Fragment,null,function(){const e=ce?"present":"failed"===Q?"future":"past";return pt.createElement("div",{className:qi(ml.header,ml.header_wideContent)},pt.createElement("div",{className:qi(ml.title,FT.modalTitle)},pt.createElement("div",{className:FT.headerTitle},n&&_a(n,e,I),ce&&pt.createElement(Nh,{play:pe,size:a.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[P][le],previewUrl:Qf[P].preview[le]}),"failed"===Q&&pt.createElement("span",{className:FT.headerTitle__badge},I("Failed")),me&&K&&pt.createElement("img",{src:tk,alt:I("Scam"),className:FT.scamImage})),!!j&&pt.createElement("div",{className:FT.headerDate},(0,xo.TK)(I.code,j),", ",(0,xo.fU)(j))),pt.createElement(dl,{isRound:!0,className:ml.closeButton,ariaLabel:I("Close"),onClick:Re},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0})))}(),function(){const e=n&&Oa(n);return pt.createElement("div",{className:ml.transitionContent},"hide"!==e&&pt.createElement(VT,{isSensitiveDataHidden:p,isIncoming:K,isScam:me,isFailed:"failed"===Q,amount:W??0n,token:oe,status:ne&&!Te?I("Successfully"):void 0,noSign:"noSign"===e,baseCurrency:v,currencyRates:y}),Y&&pt.createElement(fk,{nft:Y,withMediaViewer:he,withTonExplorer:!0}),ue&&pt.createElement("div",{className:FT.scamWarning},I("This address mimics another address that you previously interacted with.")),n&&Ma(n).includes("modal")&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},I(K?"Sender":"Recipient")),pt.createElement(Ck,{chain:re,addressName:de,address:se,isScam:me&&!K,copyNotification:I("Address was copied!"),className:FT.copyButtonWrapper,textClassName:me&&K?FT.scamAddress:void 0,forceFullAddress:!0})),function(){if((V||G)&&ie)return pt.createElement(MT,{terms:{native:V},token:ie,precision:ce?"approximate":"exact",isLoading:G,className:FT.feeField})}(),function(){if(!H&&!$)return;const e=$?I("Message is encrypted."):me?I("Scam comment is hidden."):void 0;return pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},I("Comment")),pt.createElement(Ck,{text:$?ve:H,spoiler:e,spoilerRevealText:$?ge?I("Decrypt"):void 0:I("Display"),spoilerCallback:ge?Pe:void 0,copyNotification:I("Comment was copied!"),className:FT.copyButtonWrapper,textClassName:FT.comment}))}(),ke&&pt.createElement("div",{ref:Ce,className:FT.textFieldWrapper},pt.createElement("span",{className:FT.textFieldLabel},I("Transaction ID")),pt.createElement(Ck,{noSavedAddress:!0,chain:re,address:fe,addressUrl:Ee,isTransaction:!0,copyNotification:I("Transaction ID was copied!"),className:FT.changellyTextField})),Te&&pt.createElement("div",{ref:Be,className:FT.unstakeTime},pt.createElement(Nh,{play:pe,size:a.wg4,className:FT.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[P].iconClockGray,previewUrl:Qf[P].preview.iconClockGray}),pt.createElement("div",null,I("$unstaking_when_receive",{time:pt.createElement("strong",null,(0,xo.YG)(I.code,M))}))),!c&&function(){const e=te&&(ne||"unstakeRequest"===(null==n?void 0:n.type))&&"active"===Se,t=[];return te||K||ae||t.push(pt.createElement(dl,{onClick:De,className:FT.button},I("Repeat"))),!a.TI6&&te&&t.push(pt.createElement(dl,{onClick:Oe,className:qi(FT.button,e&&FT.buttonWide)},I("Stake Again"))),e&&t.push(pt.createElement(dl,{onClick:Me,className:qi(FT.button,FT.buttonWide)},I("Unstake More"))),t.length?pt.createElement("div",{className:FT.footer},t):void 0}())}());case zT.password:if(!$)return;return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:I("Enter Password"),onClose:Re}),pt.createElement(ig,{isActive:e,error:we,withCloseButton:a.UMQ,containerClassName:a.UMQ?FT.passwordFormContent:FT.passwordFormContentInModal,submitLabel:I("Confirm"),onSubmit:Fe,onCancel:Le,onUpdate:xe}))}}return pt.createElement(bl,{isOpen:pe,hasCloseButton:!0,nativeBottomSheetKey:"transaction-info",forceFullNative:B===zT.password,dialogClassName:qi(FT.modalDialog,ne&&FT.unstakeModal),onClose:Re,onCloseAnimationEnd:Le},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:B,nextKey:_},Ue))})),qT=ut(zt(e=>{const{isUnhideNftModalOpen:t,selectedNftToUnhide:n}=dn(e)??{};return{isOpen:t,nftAddress:null==n?void 0:n.address,nftName:null==n?void 0:n.name}})(function(e){let{isOpen:t,nftAddress:n,nftName:a}=e;const{addNftsToWhitelist:o,closeUnhideNftModal:r}=$t(),i=Ki(),s=ri(()=>{o({addresses:[n]}),r()});return pt.createElement(bl,{isOpen:t,isCompact:!0,onClose:r,title:i("Unhide NFT")},pt.createElement("p",{className:ml.text},i("$unhide_nft_warning",{name:pt.createElement("b",null,a)})),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:r,className:ml.button},i("Cancel")),pt.createElement(dl,{isDestructive:!0,onClick:s,className:ml.button},i("Unhide"))))})),jT=e=>{let{icon:t,message:n,containerId:a,onDismiss:o}=e;const[i,s]=at(!0),c=lt(),{ref:l}=rl({isOpen:i}),d=ri(()=>{s(!1),setTimeout(o,250)});rt(()=>i?fv(d):void 0,[i,d]),rt(()=>(c.current=window.setTimeout(d,5e3),()=>{c.current&&(clearTimeout(c.current),c.current=void 0)}),[d]);const u=ri(()=>{c.current&&(clearTimeout(c.current),c.current=void 0)}),m=ri(()=>{c.current=window.setTimeout(d,5e3)});return pt.createElement(ul,{className:qi("h7PLFJQu",r.cp&&"I0vM5N9Z"),containerId:a},pt.createElement("div",{ref:l,className:"cBuXIi04",onClick:d,onMouseEnter:u,onMouseLeave:m},pt.createElement("div",{className:"FOpmIM3s"},t&&pt.createElement("i",{className:qi("yRP0zVnL",t),"aria-hidden":!0}),n)))},YT=ut(zt(e=>N(e,["notifications"]))(function(e){let{notifications:t}=e;const{dismissNotification:n}=$t();if(t.length)return pt.createElement("div",{id:"Notifications"},t.map(e=>{let{message:t,icon:a}=e;return pt.createElement(jT,{key:t,icon:a,message:t,onDismiss:n})}))}));let GT=0;const QT=fe();function XT(){return GT>0}function ZT(){QT.runCallbacks()}function JT(){const e=XT();GT=Math.max(0,GT-1),e&&!XT()&&ZT()}const eB="A4iuMrwm",tB="lTI19L4Y",nB="Q6nK70OA",aB="Hzc2OPCD",oB=ut(zt(e=>{const{areSettingsOpen:t,isExploreOpen:n}=e,{activeContentTab:a}=dn(e)??{};return{areSettingsOpen:t,areAssetsActive:a===fo.Assets,isExploreOpen:n}})(function(e){let{areSettingsOpen:t,areAssetsActive:n,isExploreOpen:o}=e;const{switchToWallet:r,switchToExplore:i,switchToSettings:s}=$t(),c=Ki(),[l,d]=at(XT()),u=!o&&!t;return gt(()=>QT.addCallback(()=>{d(XT())})),lc({isActive:o,onBack:r}),pt.createElement("div",{className:qi("QlVPgZym",l&&"YMl6tuqD")},pt.createElement(dl,{isSimple:!0,className:qi(eB,u&&tB),onClick:r},pt.createElement("i",{className:qi(nB,"icon-wallet")}),pt.createElement("span",{className:aB},c("Wallet"))),!a.TI6&&pt.createElement(dl,{isSimple:!0,className:qi(eB,o&&tB),onClick:i},pt.createElement("i",{className:qi(nB,"icon-explore")}),pt.createElement("span",{className:aB},c("Explore"))),pt.createElement(dl,{isSimple:!0,className:qi(eB,t&&tB),onClick:s},pt.createElement("i",{className:qi(nB,"icon-settings")}),pt.createElement("span",{className:aB},c("Settings"))))})),rB="Gbi50r5P",iB="iX71Jk4y",sB="piyY_yBE",cB="sCCso48U",lB="BA7uSk12",dB="XeanWEkZ",uB="mO73YmbZ",mB="FjT6eSrl",pB="GUrvismB",fB="oGeErVyy",hB=200,gB=14*r.$;function vB(e,t,n,a){let o,r;var i;return e===ho.Nft&&(r=document.querySelector(n?`.transaction-nft[data-tx-id="${n}"][data-nft-address="${t}"]`:a?`.hidden-nfts-${a} [data-nft-address="${t}"]`:`.nft-container[data-nft-address="${t}"]`),o=null===(i=r)||void 0===i?void 0:i.querySelector("img, canvas")),{container:r,image:o}}function yB(e){var t;const n=document.createElement("div");n.classList.add(mB);const a=new Image;return a.classList.add("oaQkWH7i"),a.draggable=!1,a.oncontextmenu=Yr,a.src=e instanceof HTMLImageElement?e.src:(null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.dataset.previewUrl)||"",n.appendChild(a),n}function wB(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===ho.Nft&&e.classList.add(n?pB:fB)}const bB=e=>{let{isOpen:t,isHidden:n,isCustom:a,id:o,className:r,onClick:i,children:s,noCloseTransition:c,shouldAnimateFirstRender:l,style:d,ref:u}=e;const m=vt(t),p=vt(s),f=lt(),h=void 0===m,{ref:g,shouldRender:v}=rl({isOpen:t&&!n,ref:u,noMountTransition:h&&!l,className:!a&&void 0,noCloseTransition:c,withShouldRender:!0});return m&&!t&&(f.current=p),(v||n)&&pt.createElement("div",{id:o,ref:g,className:r,onClick:i,style:d},t?s:f.current)},EB=["send","renew","burn","collection","select","linkDomain"],kB=ut(zt((e,t)=>{var n;let{mediaId:a}=t;const{mediaType:o=ho.Nft}=e.mediaViewer||{},r=Tn(e);if(!a||o!==ho.Nft)return{isViewMode:r};const{byAddress:i,dnsExpiration:s}=(null===(n=dn(e))||void 0===n?void 0:n.nfts)||{},c=null==i?void 0:i[a];if(!c)return{isViewMode:r};const{blacklistedNftAddresses:l,whitelistedNftAddresses:d}=dn(e)||{},{cardBackgroundNft:u,accentColorNft:m}=pn(e)||{};return{nft:c,tonDnsExpiration:Oo(c,s),blacklistedNftAddresses:l,whitelistedNftAddresses:d,cardBackgroundNft:u,accentColorNft:m,isViewMode:r,linkedAddress:qo(e,c)}})(function(e){let{nft:t,tonDnsExpiration:n,linkedAddress:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,cardBackgroundNft:i,accentColorNft:s,isViewMode:c,onClose:l}=e;const d=Ki(),[u,m,p]=Np(),f=n?(0,xo.GS)(n):void 0,h=st(()=>null==o?void 0:o.includes(t.address),[t,o]),g=st(()=>null==r?void 0:r.includes(t.address),[t,r]),v=Uh(t&&t.address===(null==i?void 0:i.address),wv),y=Uh(t&&t.address===(null==s?void 0:s.address),wv),{menuItems:w,handleMenuItemSelect:b}=FI({nft:t,isViewMode:c,dnsExpireInDays:f,linkedAddress:a,isNftBlacklisted:h,isNftWhitelisted:g,isNftInstalled:v,isNftAccentColorInstalled:y}),E=ri(e=>{EB.includes(e)&&l(),b(e)});return pt.createElement("div",{className:"U5k3MGwt"},pt.createElement("button",{type:"button","aria-label":d("More actions"),className:qi(iB,"g5Mpmfqz",u&&"Jb3ZSQ8D"),onClick:m},pt.createElement("i",{className:"icon icon-more","aria-hidden":!0})),pt.createElement(kv,{isOpen:u,items:w,menuPositionY:"top",menuPositionX:"right",shouldTranslateOptions:!0,onClose:p,className:"component-theme-dark",buttonClassName:"nZ_OU1oY",onSelect:E}),pt.createElement("button",{type:"button","aria-label":d("Close"),className:iB,onClick:l},pt.createElement("i",{className:qi("icon-windows-close","TYO_mnqL"),"aria-hidden":!0})))})),CB=ut(zt((e,t)=>{var n;let{mediaId:o}=t;const{mediaType:r=ho.Nft}=e.mediaViewer||{};if(!o||r!==ho.Nft)return{};const i=e.settings.isTestnet?a.PKm:a.wln,{byAddress:s}=(null===(n=dn(e))||void 0===n?void 0:n.nfts)||{},c=null==s?void 0:s[o];return c?{title:c.name||qt(c.address,4),description:c.collectionName,descriptionUrl:`${i}collection/${c.collectionAddress}`}:{}})(function(e){let{title:t,description:n,descriptionUrl:a}=e;const o=Ki();return pt.createElement("div",{className:"lzTnItyh"},pt.createElement("span",{className:"Iork7lBy"},t),pt.createElement("a",{href:a,target:"_blank","aria-label":o("Open NFT Collection"),className:"gVhA_SZL",rel:"noreferrer",onClick:Bl},pt.createElement("span",{className:"VjBacQN8"},n),pt.createElement("i",{className:qi("icon-tooltip","j_sdE8In"),"aria-hidden":!0})))}));function NB(e){const t=lt(e());return gt(()=>e.subscribe(()=>{t.current=e()})),t}const[SB,AB]=ye(1);function IB(){return rt(()=>()=>{AB(1)},[]),[SB,AB]}const TB=ut(zt((e,t)=>{var n,a;let{mediaId:o}=t;const{mediaType:r=ho.Nft}=e.mediaViewer||{};if(r!==ho.Nft)return{};const{byAddress:i}=(null===(n=dn(e))||void 0===n?void 0:n.nfts)||{},s=null==i?void 0:i[o];if(!s)return{};const{whitelistedNftAddresses:c}=dn(e)||{};return{alt:s.name,thumbnail:s.thumbnail,image:s.image,lottie:null===(a=s.metadata)||void 0===a?void 0:a.lottie,description:s.description,isScam:s.isScam,whitelistedMediaIds:c}})(function(e){let{mediaId:t,alt:n,thumbnail:a,image:o,lottie:r,description:i,isScam:s,whitelistedMediaIds:c}=e;const l=Ki(),d=o||a,u=lt(),{isPortrait:m}=xs();rt(()=>{const e=u.current,{height:t}=e.getBoundingClientRect();(0,we.RK)(()=>{e.style.setProperty("--max-height",`${t}px`)})},[m]);const p=st(()=>null==c?void 0:c.includes(t),[t,c]);return pt.createElement("div",{className:"BjD2X1I7"},r?pt.createElement(Nh,{size:250,shouldStretch:!0,play:!0,noLoop:!1,tgsUrl:r,previewUrl:d,className:lB,noPreviewTransition:!0}):pt.createElement("img",{src:d,alt:n,className:lB}),pt.createElement("div",{className:qi(dB,"custom-scroll"),ref:u},i&&pt.createElement("div",{className:"fJxRvPrW"},pt.createElement("div",{className:qi("gAnXMdfd","custom-scroll"),dir:"auto"},s&&!p&&pt.createElement("img",{src:tk,alt:l("Scam"),className:"HAC1deVa"}),i))))}));var BB=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(BB||{});const xB=r.TF?40:0,_B=350,{easeOutCubic:LB,easeOutQuart:DB}=se.qM;let OB,MB;const FB=ut(function(e){let{isOpen:t,mediaId:n,selectMedia:a,getMediaId:o,withAnimation:i,onClose:s}=e;const l=Ki(),d=lt(),u=lt(),m=lt(),p=lt(),f=lt({x:0,y:0,scale:1}),h=lt(void 0),g=lt(void 0),v=lt(!1),[y]=IB(),w=lt(y()),[b,E]=at(!1),[k,C]=Jc({x:0,y:0,scale:1}),N=NB(k),[S,A]=Jc(n),I=NB(S),T=nl(()=>1!==k().scale,[k]),B=nl(S),{height:x,width:_,isResizing:L}=xp();lc({isActive:t,onBack:s,shouldBeReplaced:!0});const D=Bp(a,[a],350,!0),O=Bp(()=>{h.current=void 0},[],500,!0),M=r.TF?40:_/10;rt(()=>{const{scale:e,x:t,y:a}=N.current;0===t&&0===a&&1===e&&A(n)},[n,A,N]),it(()=>{const{x:e,y:t,scale:n}=k();m.current&&(m.current.style.transform=PB(-_+e-xB)),u.current&&(u.current.style.transform=PB(e,t,n)),p.current&&(p.current.style.transform=PB(_+e+xB))},[k,_]);const F=ri(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=f.current;const a=o(I.current,e);if(t)return void 0!==a;if(void 0===a)return!1;const r=(_+xB)*e,s=N.current.x+r;return A(a),D(a),n={x:0,y:0,scale:1},i?(OB=(0,se.Hd)({from:s,to:0,duration:_B,timing:LB,onUpdate:e=>C({y:0,x:e,scale:1})}),!0):(C(n),!0)}),P=ri(()=>F(1)),R=ri(()=>F(-1));if(rt(()=>{if(!d.current||void 0===I.current)return;let e=f.current;const t={x:0,y:0},n={x:0,y:0},a={x:0,y:0};let i,l=Date.now();const m=(0,c.sg)(()=>{l=Date.now()},500,!1,!0),p=e=>{const{scale:t}=N.current;if(1!==t)return[!1,!1];let n=0;return x-e.pageY<80?[!1,!1]:(e.pageX<M?n=-1:e.pageX>_-M&&(n=1),[0!==n,F(n,!r.TF)])},y=e=>{const{scale:t}=N.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":F(-1);break;case"Right":case"ArrowRight":F(1)}},w=function(e){let{x:t,y:n,scale:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=g.current;if(!r)return[{x:t,y:n,scale:a},!0,!0];let i=!0,s=!0;const c=(_-_*a)/2,l=(x-x*a)/2,d=Math.max(-r.left*a,c),u=_-r.right*a;i=Gi(t,u,d),t=Yi(t,u,d);const m=Math.max(-r.top*a+o,l),p=x-r.bottom*a;return s=Gi(n,p,m),n=Yi(n,p,m),[{x:t,y:n,scale:a},i,s]},b=r=>{if(v.current)return void(v.current=!1);"mouseup"===r.type&&E(!1);const i=N.current,{y:c,scale:d}=i;let u=i.x;const m=Math.abs(u),p=Math.abs(c);if(O(),d<1)return e={x:0,y:0,scale:1},void(OB=(0,se.Hd)({from:[u,c,d],to:[0,0,1],duration:_B,timing:LB,onUpdate:e=>C({x:e[0],y:e[1],scale:e[2]})}));if(d>1){const o=Math.min(d,4),i=o/d;let s=u*i+(n.x-i*n.x),m=c*i+(n.y-i*n.y);const p=.15;if("wheel"!==r.type&&e.scale===d){const e=Math.abs(t.x)/(Date.now()-l),n=Math.abs(t.y)/(Date.now()-l);s-=Math.abs(t.x)*e*p*a.x,m-=Math.abs(t.y)*n*p*a.y}return[e]=w({x:s,y:m,scale:o}),void(OB=(0,se.Hd)({from:[u,c,d],to:[e.x,e.y,e.scale],duration:_B,timing:LB,onUpdate:e=>C({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:u,y:c,scale:d},p>=50)return void s();if(p>0)return void(OB=(0,se.Hd)({from:c,to:0,duration:_B,timing:LB,onUpdate:e=>C({x:0,y:e,scale:d})}));const f=u<0?1:-1,h=o(I.current,u<0?1:-1),g=a.x<0?-1:1;void 0!==h&&m>=50&&f===g&&(u+=(_+xB)*f,A(h),D(h)),OB=(0,se.Hd)({from:u,to:0,duration:_B,timing:LB,onUpdate:e=>C({y:0,x:e,scale:d??1})})},k=ns(d.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:`${rB}, .${dB}`,minZoom:1,maxZoom:4,doubleTapZoom:3,withWheelDrag:!0,onCapture:e=>{const{x:t,y:n,scale:a}=N.current;if("mousedown"!==e.type||(E(!0),1===a)){if(l=Date.now(),0===t&&0===n&&1===a){if(!u.current)return;if(i=u.current.querySelector("img, video"),!i)return;g.current=i.getBoundingClientRect()}}else e.preventDefault()},onDrag:(n,o,i,s)=>{let{dragOffsetX:c,dragOffsetY:l}=i;if(v.current)return;if(r.pz&&"touchstart"===o.type){const{pageX:e}=o.touches[0];if(e<=20||e>=_-20)return}OB&&(OB(),OB=void 0),a.x=t.x-c,a.y=t.y-l,t.x=c,t.y=l;const d=Math.abs(c),u=Math.abs(l),{x:p,y:f,scale:g}=N.current;if(m(),1!==g){const t=e.x+c,a=e.y+l;if(["wheel","mousemove"].includes(n.type)){const[e,n,o]=w({x:t,y:a,scale:g});return s&&s(!n,!o),void C(e)}return void("touches"in n&&1===n.touches.length&&C({x:t,y:a,scale:g}))}if("mousemove"!==n.type){if(h.current!==BB.Vertical&&(h.current===BB.Horizontal||Math.abs(p)>10||d/u>1.5)){h.current=BB.Horizontal;const e=_+xB,t=Yi(c,-e,e);return C({x:t,y:0,scale:g}),void("wheel"===n.type&&Math.abs(t)>100&&(b(n),v.current=!0))}if(h.current===BB.Vertical||Math.abs(f)>10||u/d>1.5){h.current=BB.Vertical;const e=Yi(l,-x,x);C({x:0,y:e,scale:g}),"wheel"===n.type&&Math.abs(e)>100&&(b(n),v.current=!0)}}},onZoom:(t,a)=>{let{zoom:o,zoomFactor:r,initialCenterX:i,initialCenterY:s,dragOffsetX:c,dragOffsetY:l,currentCenterX:d,currentCenterY:u}=a;OB&&OB(),i=i||_/2,s=s||x/2,d=d||_/2,u=u||x/2;const m=o??Yi(e.scale*r,.5,12),p=m/e.scale,f=Math.abs(Math.min(e.x,0)),h=Math.abs(Math.min(e.y,0));n.x=d,n.y=u;const g=f+i,v=h+s,y=g-p*g,b=v-p*v,[E]=w({x:e.x+y+c,y:e.y+b+l,scale:m});C(E)},onClick(t){E(!1);const[n,a]=p(t);if(n){if(t.preventDefault(),t.stopPropagation(),r.TF)return;a||s()}else 1!==e.scale||r.TF||s()},onDoubleClick(t,n){let{centerX:a,centerY:o}=n;const[i]=p(t);if(i)return t.preventDefault(),void t.stopPropagation();if(!r.TF&&"wheel"!==t.type)return;const{x:s,y:c,scale:l}=N.current;if(1===l){if(0!==s||0!==c)return;e=w({x:a-3*a,y:o-3*o,scale:3})[0]}else e={x:0,y:0,scale:1};OB=(0,se.Hd)({from:[s,c,l],to:[e.x,e.y,e.scale],duration:_B,timing:LB,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};C(t)}})},onRelease:b});return document.addEventListener("keydown",y,!1),()=>{k(),document.removeEventListener("keydown",y,!1)}},[s,C,o,_,x,M,D,O,i,E,N,A,I,F]),rt(()=>{const e=y(),t=void 0!==w.current&&w.current!==e;if(!d.current||!t)return;w.current=e;const{scale:n}=N.current,a=e>0?-1:1;let o=100,r=0;n<=.6&&a>0||n>=12&&a<0||(1===n&&a>0&&(o=20),MB&&MB(),MB=(0,se.Hd)({from:a,to:a*o,duration:_B,timing:DB,onUpdate:e=>{if(!d.current)return;const t=Qi(e-r,2);r=e;const n=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});d.current.dispatchEvent(n)}}))},[y,N]),void 0===B)return null;const U=o(B,1),W=o(B,-1),H=void 0!==W,$=void 0!==U,V=b&&T;return pt.createElement("div",{className:"X2XelzZ1",ref:d},pt.createElement("div",{className:sB,ref:m},H&&!T&&!L&&pt.createElement(TB,{mediaId:W})),pt.createElement("div",{className:qi(sB,cB,V&&"NMBicc6s"),ref:u},pt.createElement(TB,{mediaId:B})),pt.createElement("div",{className:sB,ref:p},$&&!T&&!L&&pt.createElement(TB,{mediaId:U})),H&&!T&&!r.TF&&pt.createElement("button",{type:"button",onClick:R,className:qi(uB,"Mx1XT28C"),"aria-label":l("Previous"),dir:l.isRtl?"rtl":void 0}),$&&!T&&!r.TF&&pt.createElement("button",{type:"button",onClick:P,className:qi(uB,"FmNwnO3_"),"aria-label":l("Next"),dir:l.isRtl?"rtl":void 0}))});function PB(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return`translate3d(${(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(3)}px, ${e.toFixed(3)}px, 0px) scale(${t.toFixed(3)})`}const RB=ut(zt(e=>{var t;const{mediaId:n,mediaType:a=ho.Nft,txId:o,hiddenNfts:r,noGhostAnimation:i}=e.mediaViewer||{},s=null===(t=e.settings)||void 0===t?void 0:t.animationLevel,c=dn(e);let l,d,u=Yk,m=Yk;if(a===ho.Nft){var p;const{orderedAddresses:e,byAddress:t}=(null==c?void 0:c.nfts)||{},{blacklistedNftAddresses:a}=c||{},o=null==t?void 0:t[n];l=!(null!=o&&null!==(p=o.metadata)&&void 0!==p&&p.lottie)&&(null==o?void 0:o.image)||(null==o?void 0:o.thumbnail),u=e||Yk,d=t,null!=a&&a.length&&(m=a)}return{mediaId:n,txId:o,hiddenNfts:r,noGhostAnimation:i,mediaIds:u,mediaType:a,mediaUrl:l,mediaByIds:d,blacklistedIds:m,withAnimation:s>0}})(function(e){let{mediaId:t,mediaIds:n,mediaType:o,mediaUrl:i,withAnimation:s,mediaByIds:c,blacklistedIds:l,txId:d,hiddenNfts:u,noGhostAnimation:m}=e;const{closeMediaViewer:p,openMediaViewer:f}=$t(),h=Boolean(t),g=Ki(),v=vt(t),y=vt(d),w=vt(u),b=vt(m),E=s?"slideFade":"none",k=s&&h&&!v&&!m,C=s&&!h&&!!v&&!b,N=ri(()=>p()),S=st(()=>n.filter(e=>{const t=null==c?void 0:c[e];return t&&!t.isHidden&&!l.includes(e)}),[l,c,n]),A=S.indexOf(t),I=ri((e,t)=>{if(void 0===e)return;const n=S.indexOf(e);return-1===t&&n>0||1===t&&n<S.length-1?S[n+t]:void 0}),T=ri(e=>{f({mediaType:o,mediaId:e})});return il({className:"is-media-viewer-open",isActive:h,element:document.body}),rt(()=>h?fv(N):void 0,[N,h]),rt(()=>{k&&(Ie(hB+a.xB5),function(e,t,n,o,i){const{image:s}=vB(e,t,o,i);s&&n&&(0,we.RK)(async()=>{document.body.classList.add("ghost-animating");const{width:t,height:o}=dr(),{width:i,height:c}=await async function(e){const t=new Image;return t.src=e,await new Promise(e=>{t.onload=e}),{width:t.width,height:t.height}}(n),l=o-gB,d=(t<=a.c2m?8:7)*r.$,{width:u,height:m}=function(e,t,n,a){const o=a/n,r=Math.min(n,e);return Math.round(r*o)>t?{width:Math.round(t/o),height:t}:{width:r,height:Math.round(r*o)}}(t,l,i,c),p=(t-u)/2,f=d+(l-m)/2,{top:h,left:g,width:v,height:y}=s.getBoundingClientRect(),w=g+v/2-(p+u/2),b=h+y/2-(f+m/2),E=v/u,k=y/m;(0,we.RK)(()=>{const t=yB(s);wB(t,e,!0),(0,se.ZM)(t,{top:`${f}px`,left:`${p}px`,width:`${u}px`,height:`${m}px`,transform:`translate3d(${w}px, ${b}px, 0) scale(${E}, ${k})`}),document.body.appendChild(t),(0,we.RK)(()=>{t.style.transform="",function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===ho.Nft&&e.classList.remove(n?pB:fB)}(t,e,!0),setTimeout(()=>{(0,we.RK)(()=>{document.body.contains(t)&&document.body.removeChild(t),document.body.classList.remove("ghost-animating")})},hB+a.xB5)})})})}(o,t,i,d,u)),C&&(Ie(hB+a.xB5),function(e,t,n,o){const{container:r,image:i}=vB(e,t,n,o),s=document.querySelector(`.${cB} img, .${cB} canvas`);if(!s||!i)return;const{top:c,left:l,width:d,height:u}=s.getBoundingClientRect(),{top:m,left:p,width:f,height:h}=i.getBoundingClientRect();let g=m;if(!function(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=dr();return t.top<=n&&t.top+t.height>=0}(i)){const{height:e}=dr();g=m<c?-h:e}const v=l+d/2-(p+f/2),y=c+u/2-(g+h/2),w=d/f,b=u/h,E=document.querySelector(`.${mB}`),k=E||yB(s);let C;if(E){const{top:e,left:t,width:n,height:a}=E.getBoundingClientRect();C={transition:"none",top:`${g}px`,left:`${p}px`,transformOrigin:"top left",transform:`translate3d(${t-p}px, ${e-g}px, 0) scale(${n/f}, ${a/h})`,width:`${f}px`,height:`${h}px`}}else C={top:`${g}px`,left:`${p}px`,width:`${f}px`,height:`${h}px`,transform:`translate3d(${v}px, ${y}px, 0) scale(${w}, ${b})`};(0,we.RK)(()=>{wB(k,e),(0,se.ZM)(k,C),E||document.body.appendChild(k),document.body.classList.add("ghost-animating"),r&&r.classList.add("ghost-target"),(0,we.RK)(()=>{E&&(E.style.transition=""),k.style.transform="",setTimeout(()=>{(0,we.RK)(()=>{document.body.contains(k)&&document.body.removeChild(k),document.body.classList.remove("ghost-animating"),r&&r.classList.remove("ghost-target")})},hB+a.xB5)})})}(o,v,y,w))},[k,C,t,o,i,v,d,y,u,w]),pt.createElement(bB,{className:qi("A0PipQQQ","opacity-transition","slow"),isOpen:h,shouldAnimateFirstRender:!0,isCustom:!0},pt.createElement("div",{className:rB,dir:g.isRtl?"rtl":void 0},pt.createElement(Qh,{activeKey:A,name:E,className:"lDJDJyJx"},pt.createElement(CB,{mediaId:t})),pt.createElement(kB,{mediaId:t,onClose:N})),pt.createElement(FB,{isOpen:h,mediaId:t,getMediaId:I,selectMedia:T,withAnimation:s,onClose:N}))})),UB={root:"TyYDeoPI",standard:"ZzhmGZX8",silver:"VOCPN2H2",gold:"eIy_VriQ",platinum:"ThB2aK4u",black:"pSEqHC9v",list:"VuKYnODy",term:"De4BJ4HR",icon:"WsbPBan7",data:"SmGuh0xn",button:"hn6cNzho",currencyIcon:"uJl349yd"},WB=ut(function(e){let{type:t,price:n,balance:o,isAvailable:r}=e;const{startCardMinting:i,showDialog:s}=$t(),c=Ki(),l=!(!n||!o)&&(0,zn.UH)(n,a.Tu9.decimals)+a.dqR<o,d=ri(()=>{l?i({type:t}):s({title:c("Insufficient Balance"),message:c("Please top up your TON balance.")})});return pt.createElement("div",{className:qi(UB.root,UB[t])},pt.createElement("dl",{className:UB.list},pt.createElement("dt",{className:UB.term},c("Unique"),pt.createElement("i",{className:qi(UB.icon,"icon-diamond"),"aria-hidden":!0})),pt.createElement("dd",{className:UB.data},c("Get a card with unique background and personalized palette for wallet interface.")),pt.createElement("dt",{className:UB.term},c("Transferable"),pt.createElement("i",{className:qi(UB.icon,"icon-swap"),"aria-hidden":!0})),pt.createElement("dd",{className:UB.data},c("Easily send your upgraded card to any of your friends.")),pt.createElement("dt",{className:UB.term},c("Tradable"),pt.createElement("i",{className:qi(UB.icon,"icon-auction"),"aria-hidden":!0})),pt.createElement("dd",{className:UB.data},c("Sell or auction your card on third-party NFT marketplaces."))),!!n&&pt.createElement(dl,{isPrimary:!0,isDisabled:!r,className:UB.button,onClick:d},c("Upgrade for %currency% %amount%",{amount:n,currency:pt.createElement("i",{className:qi(UB.currencyIcon,"icon-ton"),"aria-label":"TON"})})))}),HB={dialog:"CjwvIYmY",transition:"Tv22S5Gs",transitionSlide:"zUSYH0x7",content:"LpuTVkiG",slide:"ZfVQ8KGW",standard:"k0gL3sAb",black:"MUamKAQw",slideInner:"k2_YXVBE",video:"wpccVVfq",cardType:"CzdRPvVS",close:"IBwesrC_",navigation:"cIoUkENQ",navigationLeft:"GF_wLd9i",navigationRight:"y5oAUrMg",navigationIcon:"aSeq5lrl",avaliability:"OGLS5EQO",progress:"Q3dzQZod",soldOut:"VyfNbKU1",amount:"wozoyd4S",amountInner:"ZgsWpsHL",amountLeft:"XMt08mOm",amountSold:"F8mchLc4",dots:"HY5hRBmJ",dot:"tOktKTIK",dotActive:"ZMU4FK04",sticker:"eto_LEBm",resultWithTime:"hlrWLhQ2",resultTimeIcon:"W1LXu50q",mintCardBanner:"ccNpjwpK"},$B={standard:"Standard Card",silver:"Silver Card",gold:"Gold Card",platinum:"Platinum Card",black:"Black Card"};var VB=function(e){return e[e.Standard=0]="Standard",e[e.Silver=1]="Silver",e[e.Gold=2]="Gold",e[e.Platinum=3]="Platinum",e[e.Black=4]="Black",e}(VB||{});const zB=Object.values(VB).length/2,KB=ut(zt(e=>({tonBalance:Gn(e)}))(function(e){let{cardsInfo:t,tonBalance:n}=e;const{closeMintCardModal:a}=$t(),o=Ki(),i=lt(),[s,c]=at(VB.Standard),[l,d]=at(VB.Silver),u=ri(()=>{c(e=>e===VB.Black?VB.Standard:e+1),d(e=>e===VB.Black?VB.Standard:e+1)}),m=ri(()=>{c(e=>e===VB.Standard?VB.Black:e-1),d(e=>e===VB.Standard?VB.Black:e-1)});function p(e,a,r){const i={lang:o,tonBalance:n,currentKey:r};switch(r){case VB.Standard:return qB({...i,title:$B.standard,type:"standard",cardInfo:null==t?void 0:t.standard});case VB.Silver:return qB({...i,title:$B.silver,type:"silver",cardInfo:null==t?void 0:t.silver});case VB.Gold:return qB({...i,title:$B.gold,type:"gold",cardInfo:null==t?void 0:t.gold});case VB.Platinum:return qB({...i,title:$B.platinum,type:"platinum",cardInfo:null==t?void 0:t.platinum});case VB.Black:return qB({...i,title:$B.black,type:"black",cardInfo:null==t?void 0:t.black})}}return rt(()=>{if(r.TF)return ns(i.current,{onSwipe:(e,t)=>t===Xi.Left?(u(),!0):t===Xi.Right&&(m(),!0),selectorToPreventScroll:".custom-scroll"})},[]),pt.createElement(pt.Fragment,null,pt.createElement(pt.Fragment,null,pt.createElement(dl,{isRound:!0,className:qi(HB.close,ml.closeButton),ariaLabel:o("Close"),onClick:a},pt.createElement("i",{className:qi(ml.closeIcon,"icon-close"),"aria-hidden":!0})),pt.createElement("button",{className:qi(HB.navigation,HB.navigationLeft),type:"button","aria-label":o("Prev"),onClick:()=>m()},pt.createElement("i",{className:qi(HB.navigationIcon,"icon-chevron-left"),"aria-hidden":!0})),pt.createElement("button",{className:qi(HB.navigation,HB.navigationRight),type:"button",onClick:()=>u(),"aria-label":o("Next")},pt.createElement("i",{className:qi(HB.navigationIcon,"icon-chevron-right"),"aria-hidden":!0}))),pt.createElement(Qh,{ref:i,name:"semiFade",className:qi(HB.transition,"custom-scroll"),activeKey:s,nextKey:l},p))}));function qB(e){let{lang:t,title:n,type:o,cardInfo:r,tonBalance:i,currentKey:s}=e;return pt.createElement("div",{className:HB.content},pt.createElement("div",{className:qi(HB.slide,HB[o])},pt.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:`${a.eec}mtw_card_${o}.avif`,className:HB.video},pt.createElement("source",{src:`${a.eec}mtw_card_${o}.h264.mp4`,type:"video/mp4; codecs=avc1.4D401E,mp4a.40.2"})),pt.createElement("div",{className:HB.slideInner},function(e){return pt.createElement("div",{className:HB.dots},Array.from({length:zB}).map((t,n)=>pt.createElement("div",{key:n,className:qi(HB.dot,n===e&&HB.dotActive)})))}(s),pt.createElement("div",{className:HB.cardType},n),function(e,t){const{all:n,notMinted:a}=t||{};if(!n||!a)return pt.createElement("div",{className:HB.avaliability},pt.createElement("div",{className:HB.soldOut},e("This card has been sold out")));const o=n-a,r=e("%amount% left",{amount:Si(a)}),i=e("%amount% sold",{amount:Si(o)});return pt.createElement("div",{className:HB.avaliability},pt.createElement("div",{className:HB.progress,style:`--progress: ${Kn(a/n,2)};}`},pt.createElement("div",{className:qi(HB.amount,HB.amountInner,HB.amountLeft)},r),pt.createElement("div",{className:qi(HB.amount,HB.amountInner,HB.amountSold)},i)),pt.createElement("div",{className:qi(HB.amount,HB.amountLeft)},r),pt.createElement("div",{className:qi(HB.amount,HB.amountSold)},i))}(t,r))),pt.createElement(WB,{type:o,price:null==r?void 0:r.price,balance:i,isAvailable:Boolean(null==r?void 0:r.notMinted)}))}const jB=ut(zt(e=>{const{currentMintCard:t}=e,{config:n}=dn(e)||{},{cardsInfo:a}=n||{};return{isOpen:void 0!==(null==t?void 0:t.state),cardsInfo:a,isLoading:null==t?void 0:t.isLoading,state:null==t?void 0:t.state,error:null==t?void 0:t.error,theme:e.settings.theme,selectedCardType:null==t?void 0:t.type}})(function(e){let{isOpen:t,cardsInfo:n,isLoading:o,state:r,error:i,theme:s,selectedCardType:c}=e;const{closeMintCardModal:l,clearMintCardError:d,submitMintCard:u}=$t(),m=Ki(),p=cg(s),{renderingKey:f,nextKey:h}=Ib(r??0,t),g=c?$B[c]:"",v=ri(e=>{u({password:e})}),y=ri(()=>{u()});function w(e,t,r){switch(r){case mo.Initial:return pt.createElement(KB,{cardsInfo:n});case mo.Password:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:Cd()?void 0:m("Confirm Upgrading"),onClose:Cd()?l:void 0,onBackButtonClick:Cd()?void 0:l}),pt.createElement(ig,{isActive:e,error:i,isLoading:o,submitLabel:m("Confirm"),cancelLabel:m("Cancel"),onSubmit:v,onCancel:l,onUpdate:d,operationType:"mintCard",skipAuthScreen:!0},pt.createElement(wC,{className:HB.mintCardBanner,secondText:g})))}(e);case mo.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:y,onClose:l});case mo.ConfirmHardware:return pt.createElement(Db,{text:m("Please confirm transaction on your Ledger"),error:i,onClose:l,onTryAgain:y});case mo.Done:return function(e){return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:m("Card has been upgraded!"),onClose:l}),pt.createElement("div",{className:qi(ml.transitionContent,ml.transitionContent_simple)},pt.createElement(Nh,{play:e,noLoop:!1,nonInteractive:!0,className:HB.sticker,tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),pt.createElement("div",{className:qi(HB.resultWithTime)},pt.createElement(Nh,{play:e,size:a.wg4,className:HB.resultTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:Qf[p].iconClockGray,previewUrl:Qf[p].preview.iconClockGray}),pt.createElement("div",null,bi(m("$mint_card_result")))),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,className:ml.buttonFullWidth,onClick:l},m("Done")))))}(e)}}return pt.createElement(bl,{isOpen:t,forceFullNative:!0,nativeBottomSheetKey:"mint-card",dialogClassName:HB.dialog,onClose:l},pt.createElement(Qh,{activeKey:f,nextKey:h,name:Ab(),className:qi(HB.transition,"custom-scroll"),slideClassName:HB.transitionSlide},w))})),YB=ut(function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:i,onChange:s,onCheck:c,shouldStopPropagation:l}=e;return pt.createElement("label",{className:qi("pDx55knh",i),title:o,"aria-label":o,onClick:l?e=>e.stopPropagation():void 0,tabIndex:0,role:"button"},pt.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"cLbaNjJ_",onChange:function(e){null==s||s(e),null==c||c(e.currentTarget.checked)}}),pt.createElement("span",{className:"tiLjiStY"}))}),GB="v8rRtn7B",QB="CC8Q5sJb",XB="bQ7CA6_X",ZB="TI5caump",JB=ut(function(e){let{isOpen:t,isLoading:n,isInsideModal:o,state:r,error:i,onClose:s}=e;const{disableBiometrics:c}=$t(),l=Ki(),{renderingKey:d,nextKey:u,updateNextKey:m}=Ib(r,t),p=ri((e,t)=>{c({password:e,isPasswordNumeric:t})});function f(e,t,o){switch(o){case Qa.TurnOffBiometricConfirmation:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:l("Biometric Confirmation"),onClose:s}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{tgsUrl:Qf.holdTon,previewUrl:Qf.holdTonPreview,play:e,size:180,nonInteractive:!0,noLoop:!1,className:QB}),i?pt.createElement("div",{className:"iEiAdwiC"},l(i)):pt.createElement("div",{className:ZB},l("Please verify the operation.")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:s,className:ml.customSubmitButton},l("Cancel")))));case Qa.TurnOffCreatePassword:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:l("Create Password"),onClose:s}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,play:e,size:180,nonInteractive:!0,noLoop:!1,className:QB}),pt.createElement(Kw,{isActive:e,isLoading:n,formId:"biometrics-create-password",onSubmit:p,onCancel:s})));case Qa.TurnOffComplete:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:l("Biometrics Disabled"),onClose:s}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{tgsUrl:Qf.yeee,previewUrl:Qf.yeeePreview,play:e,size:a.reE,nonInteractive:!0,noLoop:!1,className:qi(QB,XB)}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,onClick:s,className:ml.customSubmitButton},l("Done")))))}}return pt.createElement(bl,{hasCloseButton:!0,isOpen:t,dialogClassName:GB,onClose:s},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:qi(o&&ml.transitionSlide),activeKey:d,nextKey:u,onStop:m},f))}),ex=ut(function(e){let{isOpen:t,onClose:n}=e;const{openBiometricsTurnOff:a}=$t(),o=Ki();return pt.createElement(bl,{isOpen:t,isCompact:!0,title:o("Turn Off Biometrics"),onClose:n},pt.createElement("p",{className:ml.text},o("If you turn off biometric protection, you will need to create a password.")),pt.createElement("div",{className:qi(ml.buttons,ml.buttonsNoExtraSpace)},pt.createElement(dl,{className:ml.button,onClick:n},o("Cancel")),pt.createElement(dl,{isPrimary:!0,className:ml.button,onClick:a},o("Continue"))))}),tx=ut(function(e){let{isOpen:t,isLoading:n,isInsideModal:o,state:i,error:s,onClose:c}=e;const{enableBiometrics:l}=$t(),d=Ki(),[u,m]=at(),{renderingKey:p,nextKey:f,updateNextKey:h}=Ib(i,t),g=Boolean(i!==Qa.TurnOnPasswordConfirmation);rt(()=>{t&&m("")},[t]);const v=ri(()=>{m(void 0)}),y=ri(e=>{if(!g)try{l({password:e})}catch(e){m(e.message||"Unknown error.")}});function w(e,t,o){switch(o){case Qa.TurnOnPasswordConfirmation:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:d("Turn On Biometrics"),onClose:c}),pt.createElement(ig,{isActive:e,isLoading:n,error:s||u,operationType:"turnOnBiometrics",help:d("Enabling biometric confirmation will reset the password."),submitLabel:d("Continue"),onSubmit:y,onCancel:c,onUpdate:v}));case Qa.TurnOnRegistration:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:d("Biometric Registration"),onClose:c}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{tgsUrl:Qf.holdTon,previewUrl:Qf.holdTonPreview,play:e,size:180,nonInteractive:!0,noLoop:!1,className:QB}),pt.createElement("div",{className:ZB},d("Step 1 of 2. Registration")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:c,className:ml.customCancelButton},d("Cancel")))));case Qa.TurnOnVerification:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:d("Biometric Registration"),onClose:c}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{tgsUrl:Qf.holdTon,previewUrl:Qf.holdTonPreview,play:e,size:180,nonInteractive:!0,noLoop:!1,className:QB}),pt.createElement("div",{className:ZB},d(r.cp?"Verification":"Step 2 of 2. Verification")),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:c,className:ml.customCancelButton},d("Cancel")))));case Qa.TurnOnComplete:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:d("Biometrics Enabled"),onClose:c}),pt.createElement("div",{className:ml.transitionContent},pt.createElement(Nh,{tgsUrl:Qf.yeee,previewUrl:Qf.yeeePreview,play:e,size:a.reE,nonInteractive:!0,noLoop:!1,className:qi(QB,XB)}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,onClick:c,className:ml.customSubmitButton},d("Done")))))}}return pt.createElement(bl,{hasCloseButton:!0,isOpen:t,dialogClassName:GB,onClose:c},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:qi(o&&ml.transitionSlide),activeKey:p,nextKey:f,onStop:h},w))}),nx=ut(zt(e=>{const{biometrics:{state:t,error:n}}=e;return{state:t,error:n,isLoading:e.auth.isLoading}})(function(e){let{state:t,error:n,isLoading:a,isInsideModal:o}=e;const{closeBiometricSettings:r}=$t(),i=t===Qa.TurnOnPasswordConfirmation||t===Qa.TurnOnRegistration||t===Qa.TurnOnVerification||t===Qa.TurnOnComplete,s=t===Qa.TurnOffBiometricConfirmation||t===Qa.TurnOffCreatePassword||t===Qa.TurnOffComplete,c=t===Qa.TurnOffWarning;return pt.createElement(pt.Fragment,null,pt.createElement(tx,{isOpen:i,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),pt.createElement(JB,{isOpen:s,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),pt.createElement(ex,{isOpen:c,onClose:r}))})),ax=ut(zt(e=>{const{nativeBiometricsError:t,isPinAccepted:n}=e;return{isPinAccepted:n,error:t,isNativeBiometricsEnabled:An(e)}})(function(e){let{isActive:t,isInsideModal:n,isPinAccepted:o,error:r,isNativeBiometricsEnabled:i,handleBackClick:s}=e;const{enableNativeBiometrics:c,clearNativeBiometricsError:l}=$t(),d=Ki(),{isSmallHeight:u}=xs(),[m,p]=at(""),f=m.length!==a.NEx?void 0:o?"success":r?"error":void 0,h=o?"Correct":r&&m.length===a.NEx?r:"Enter your code";lc({isActive:t,onBack:s}),rt(()=>{t&&p("")},[t]),Ds(e=>{let[t]=e;i&&!t&&s()},[i,s]);const g=ri(e=>{c({password:e})});return pt.createElement("div",{className:zy.slide},pt.createElement("div",{className:qi(zy.content,zy.contentFullSize)},pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:s,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,d("Back")))),pt.createElement("div",{className:zy.pinPadHeader},!n&&pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,nonInteractive:!0,className:zy.stickerNativeBiometric}),!u&&pt.createElement("div",{className:zy.pinPadTitle},d("Confirm Passcode"))),pt.createElement(eg,{isActive:t,onClearError:l,title:d(h),type:f,length:a.NEx,value:m,onChange:p,onSubmit:g})))})),ox=i.p+"settings_air.43ce12624d7cd516cd3f.svg",rx=i.p+"theme_dark.84481132b93739f5799f.png",ix=[{value:"light",name:"Light",icon:i.p+"theme_light.8bc9f236b0268765ba5c.png"},{value:"system",name:"System",icon:i.p+"theme_system.642451fe0677c74596a6.png"},{value:"dark",name:"Dark",icon:rx}],sx=ut(zt(e=>{var t,n;const{orderedAddresses:a,byAddress:o}=(null===(t=dn(e))||void 0===t?void 0:t.nfts)||{},{config:{cardsInfo:r}={}}=dn(e)||{};return{isViewMode:Tn(e),accentColorIndex:null===(n=pn(e))||void 0===n?void 0:n.accentColorIndex,nftAddresses:a,nftsByAddress:o,isMintingCardsAvailable:Boolean(r),isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}})(function(e){let{isActive:t,theme:n,animationLevel:i,accentColorIndex:s,nftAddresses:l,nftsByAddress:d,isInsideModal:u,isViewMode:m,isTrayIconEnabled:p,isMintingCardsAvailable:f,isNftBuyingDisabled:h,onTrayIconEnabledToggle:g,handleBackClick:v}=e;const{setTheme:y,setAnimationLevel:w,openMintCardModal:b,installAccentColorFromNft:E,clearAccentColorFromNft:k,showNotification:C}=$t(),N=Ki(),[S,A]=at(!1),[I,x]=at(Yk),[_,L]=at({}),[D,O]=at(!1);lc({isActive:t,onBack:v});const{handleScroll:M,isScrolled:F}=Pv(),P=cg(n);rt(()=>{a.TI6||(async()=>{A(!0);const e=await async function(e,t){try{const n=(e||[]).reduce((e,n)=>{const o=null==t?void 0:t[n];return(null==o?void 0:o.collectionAddress)===a.qL&&e.push(o),e},[]);if(!n.length)return;const o=await Promise.all(n.map(e=>Rg(e))),r=o.reduce((e,t,a)=>(void 0!==t&&(e[t]=n[a]),e),{});return{availableAccentColorIds:T(B(o)),nftsByColorIndex:r}}catch(e){return void(0,o.SJ)("[getAccentColorsFromNfts]: Error fetching accent colors",e)}}(l,d);e?(x(e.availableAccentColorIds),L(e.nftsByColorIndex)):(x(Yk),L({})),A(!1)})()},[d,l]);const R=st(()=>Mg[P].map((e,t)=>({color:e,index:t})).sort((e,t)=>Number(!I.includes(e.index))-Number(!I.includes(t.index))),[P,I]),U=ri(async()=>{O(!0),await(0,c.v7)(300),wd()}),W=ri(e=>{document.documentElement.classList.add("no-transitions"),y({theme:e}),Es(e,u),setTimeout(()=>{document.documentElement.classList.remove("no-transitions")},300)}),H=ri(()=>{const e=i===a.dnp?a.zP3:a.dnp;w({level:e}),bp(e)}),$=ri(()=>{!m&&f?b():Il(a.b2d)});function V(e,t){const n=s===t,a=void 0!==t&&!I.includes(t);return pt.createElement("button",{key:e||"default",type:"button",disabled:n,style:e?`--current-accent-color: ${e}`:void 0,className:qi(zy.colorButton,n&&zy.colorButtonCurrent),"aria-label":N("Change Palette"),onClick:()=>{var e;void 0===(e=t)||I.includes(e)?void 0===e?k():E({nft:_[e]}):C({message:N("Get a unique MyTonWallet Card to unlock new palettes.")})}},S&&a&&pt.createElement(kb,{color:"white"}),!S&&a&&pt.createElement("i",{className:qi(zy.iconLock,"icon-lock","#FFFFFF"===e&&zy.iconLockInverted),"aria-hidden":!0}))}return pt.createElement("div",{className:zy.slide},u?pt.createElement(Cv,{title:N("Appearance"),withNotch:F,onBackButtonClick:v,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",F&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:v,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,N("Back"))),pt.createElement("span",{className:zy.headerTitle},N("Appearance"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:M},a.UMQ&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:zy.item,onClick:U},pt.createElement("img",{className:zy.menuIcon,src:ox,alt:"","aria-hidden":!0}),"MyTonWallet Air",pt.createElement(YB,{className:zy.menuSwitcher,label:"MyTonWallet Air",checked:D}))),pt.createElement("p",{className:zy.blockDescription},N("$try_new_air_version"))),pt.createElement("p",{className:zy.blockTitle},N("Theme")),pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:zy.themeWrapper},ix.map(e=>{let{name:t,value:a,icon:o}=e;return pt.createElement("div",{key:a,className:qi(zy.theme,a===n&&zy.theme_active),onClick:()=>W(a)},pt.createElement("div",{className:qi(zy.themeIcon,a===n&&zy.themeIcon_active)},pt.createElement("img",{src:o,alt:"",className:zy.themeImg,"aria-hidden":!0})),pt.createElement("span",null,N(t)))}))),!a.TI6&&!h&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:zy.blockTitle},N("Palette")),pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:zy.colorList},V(),R.map(e=>{let{color:t,index:n}=e;return V(t,n)})),pt.createElement("div",{className:zy.subBlockAsButton,role:"button",tabIndex:0,onClick:()=>$()},N("Unlock New Palettes"))),pt.createElement("p",{className:zy.blockDescription},N("Get a unique MyTonWallet Card to unlock new palettes."))),pt.createElement("p",{className:zy.blockTitle},N("Other")),pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:H},N("Enable Animations"),pt.createElement(YB,{className:zy.menuSwitcher,label:N("Enable Animations"),checked:i!==a.dnp})),r.cp&&r.H8&&pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:g},N("Display Tray Icon"),pt.createElement(YB,{className:zy.menuSwitcher,label:N("Display Tray Icon"),checked:p})))))})),cx=ut(function(e){let{token:t}=e;const{deleteToken:n}=$t(),[a,o]=at(!1),r=Ki();yt(()=>{t&&o(!0)},[t]);const i=ri(()=>{o(!1)}),s=ri(()=>{i(),n({slug:t.slug})});return pt.createElement(bl,{isOpen:a,isCompact:!0,onClose:i,title:r("Delete Token"),contentClassName:"yflPd0zm"},pt.createElement("p",{className:"KH236kiH"},r("Are you sure you want to delete?",{token:pt.createElement("strong",null,null==t?void 0:t.name)})),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:i,className:ml.button},r("Cancel")),pt.createElement(dl,{isDestructive:!0,onClick:s,className:ml.button},r("Delete"))))}),lx={x:0,y:0},dx={top:0,bottom:0,left:0,right:0},ux=150,mx=ut(function(e){let{children:t,id:n,onDrag:a,onDragEnd:o,style:i,knobStyle:s,isDisabled:c,offset:l=dx,parentRef:d,scrollRef:u,className:m,onClick:p}=e;const f=Ki(),h=lt(),g=lt(),v=lt(),[y,w]=at({isDragging:!1,scrollTop:0,origin:lx,translation:lx}),b=lt({x:0,y:0}),E=()=>{void 0!==v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},k=(e,t)=>{const o=()=>{e.scrollBy(0,t),(()=>{if(!(y.isDragging&&h.current&&null!=d&&d.current&&null!=u&&u.current))return;const e=hx(y,b.current,u.current.scrollTop,h.current,d.current,l);w(t=>({...t,translation:e})),a(e,n)})(),v.current=requestAnimationFrame(o)};E(),o()},C=e=>{var t,n,a;const o=px(e),r=(null==u||null===(t=u.current)||void 0===t?void 0:t.scrollTop)??0;w({...y,isDragging:!0,origin:o,scrollTop:r,width:null===(n=h.current)||void 0===n?void 0:n.offsetWidth,height:null===(a=h.current)||void 0===a?void 0:a.offsetHeight})},N=ri(e=>{e.stopPropagation(),e.preventDefault(),C(e),r.bA&&jr.clearScrollPatch()}),S=ri(e=>{if(!h.current||null==d||!d.current||null==u||!u.current)return;const{x:t,y:o}=px(e);b.current={x:t,y:o};const r=hx(y,b.current,u.current.scrollTop,h.current,d.current,l),i=u.current.getBoundingClientRect(),s=o-i.top,c=i.bottom-o;s<ux?k(u.current,-fx((ux-s)/ux)):c<ux?k(u.current,fx((ux-c)/ux)):E(),w(e=>({...e,translation:r})),a(r,n)}),A=ri(()=>{w(e=>({...e,isDragging:!1,width:void 0,height:void 0})),r.bA&&jr.applyScrollPatch(),o()}),I=ri(e=>{y.isDragging||p(e)});rt(()=>{const e=g.current;return e&&e.addEventListener("touchstart",N,{passive:!1}),y.isDragging?(window.addEventListener("touchmove",S),window.addEventListener("mousemove",S),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),window.addEventListener("mouseup",A)):(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),w(e=>({...e,translation:lx}))),()=>{y.isDragging&&(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),e&&e.removeEventListener("touchstart",N))}},[S,A,N,y.isDragging,g,c]);const T=qi("kWQHzIMD",m,y.isDragging&&"k0c5WDAy"),B=st(()=>nh(y.isDragging&&`transform: translate(${y.translation.x}px, ${y.translation.y}px)`,y.width?`width: ${y.width}px`:void 0,y.height?`height: ${y.height}px`:void 0,i),[i,y.height,y.isDragging,y.translation.x,y.translation.y,y.width]);return pt.createElement("div",{style:B,className:T,ref:h,onClick:I},!c&&pt.createElement("div",{ref:g,"aria-label":f("i18n_dragToSort"),tabIndex:0,role:"button",className:qi("UpzQzcvs","div-button","draggable-knob"),onMouseDown:e=>{C(e)},style:s},pt.createElement("i",{className:"icon icon-sort","aria-hidden":!0})),t)});function px(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}function fx(e){return 5*e**3+1}function hx(e,t,n,a,o,r){const i={x:t.x-e.origin.x,y:t.y-e.origin.y+n-e.scrollTop},{top:s=0,right:c=0,bottom:l=0,left:d=0}=r,u=o.getBoundingClientRect(),m=a.getBoundingClientRect(),p=-a.offsetLeft+d,f=u.width-m.width-a.offsetLeft+c,h=-a.offsetTop+s,g=u.height-m.height-a.offsetTop+l;return{x:Yi(i.x,p,f),y:Yi(i.y,h,g)}}function gx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return vx(-1===n?t.length:n)}function vx(e){return 64*e+48}const yx=ut(function(e){let{parentContainer:t,tokens:n,orderedSlugs:o,isSortByValueEnabled:r,baseCurrency:i,withChainIcon:s,isSensitiveDataHidden:c}=e;const{openSettingsWithState:l,updateOrderedSlugs:d,rebuildOrderedSlugs:u,toggleTokenVisibility:m}=$t(),p=Ki(),f=xi(i),h=lt(),g=lt(),[v,y]=at(),[w,b]=at({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0});gt(()=>{u()}),rt(()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every((e,n)=>e===t[n])})(o,w.orderedTokenSlugs)||b({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0})},[o,w.orderedTokenSlugs]);const E=ri(()=>{l({state:uo.SelectTokenList})}),k=ri((e,t)=>{var n,a;const r=Math.round(e.y/64),i=(null===(n=w.orderedTokenSlugs)||void 0===n?void 0:n.indexOf(t))??0,s=null===(a=w.orderedTokenSlugs)||void 0===a?void 0:a.filter(e=>e!==t);s&&Gi(i+r,0,(null==o?void 0:o.length)??0)&&(s.splice(i+r,0,t),b(e=>({...e,draggedIndex:i,dragOrderTokenSlugs:s})))}),C=ri(()=>{b(e=>(d({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0}))}),N=ri((e,t)=>{t.preventDefault(),t.stopPropagation(),m({slug:e.slug,shouldShow:Boolean(e.isDisabled)})}),S=ri((e,t)=>{t.stopPropagation(),y(e)});return pt.createElement(pt.Fragment,null,pt.createElement("p",{className:zy.blockTitle},p("My Tokens")),pt.createElement("div",{className:zy.contentRelative,ref:g},pt.createElement("div",{className:qi(zy.settingsBlock,zy.sortableContainer),style:`height: ${64*((null==n?void 0:n.length)??0)+48}px`,ref:h},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:E},p("Add Token"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),null==n?void 0:n.map(function(e,o){const{symbol:i,name:l,amount:d,price:u,slug:m,isDisabled:g}=e,v=(0,Ao.m1)(d,u),y=w.draggedIndex===o,b=r?vx(o):gx(m,w.orderedTokenSlugs),E=r?vx(o):gx(m,w.dragOrderTokenSlugs),A=`top: ${y?b:E}px;`,I=0n===d&&!Object.values(a.Fgn).some(e=>e.includes(m)),T=r||n.length<=1;return pt.createElement(mx,{key:m,id:m,onDrag:k,onDragEnd:C,style:A,knobStyle:"left: 1rem;",isDisabled:T,className:qi(zy.item,zy.item_token,!r&&zy.draggable),offset:{top:48},parentRef:h,scrollRef:t,onClick:t=>N(e,t)},pt.createElement(YE,{token:e,withChainIcon:s}),pt.createElement("div",{className:zy.tokenInfo},pt.createElement("div",{className:zy.tokenTitle},l),pt.createElement("div",{className:zy.tokenDescription},pt.createElement(Jv,{isActive:c,cols:4+E%6,rows:2,cellSize:8,contentClassName:zy.tokenAmount},pt.createElement(pA,{text:Ai((0,zn.nI)(v,e.decimals,!0),f)}),pt.createElement("i",{className:zy.dot,"aria-hidden":!0}),pt.createElement(pA,{text:Ai((0,zn.nI)(d,e.decimals),i)})),I&&pt.createElement(pt.Fragment,null,pt.createElement("i",{className:zy.dot,"aria-hidden":!0}),pt.createElement("span",{className:zy.deleteText,onClick:t=>S(e,t)},p("Delete"))))),pt.createElement(YB,{className:zy.menuSwitcher,checked:!g}))}))),pt.createElement(cx,{token:v}))}),wx=ut(zt(e=>{const{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isSensitiveDataHidden:i}=e.settings,{orderedSlugs:s}=pn(e)??{},{blacklistedNftAddresses:c=Yk,whitelistedNftAddresses:l=Yk,nfts:{byAddress:d}={}}=dn(e)||{};return{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isMultichainAccount:Cn(e,e.currentAccountId),tokens:jn(e),orderedSlugs:s,nftsByAddress:d,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isSensitiveDataHidden:i}})(function(e){let{isActive:t,isInsideModal:o,isInvestorViewEnabled:r,isSortByValueEnabled:i,isSensitiveDataHidden:s,areTinyTransfersHidden:c,areTokensWithNoCostHidden:l,baseCurrency:d,isMultichainAccount:u,tokens:m,orderedSlugs:p,nftsByAddress:f,blacklistedNftAddresses:h,whitelistedNftAddresses:g,onBack:v}=e;const{toggleTinyTransfersHidden:y,toggleInvestorView:w,toggleTokensWithNoCost:b,toggleSortByValue:E,changeBaseCurrency:k,setSettingsState:C}=$t(),N=Ki(),S=lt();lc({isActive:t,onBack:v});const{handleScroll:A,isScrolled:I}=Pv(),T=st(()=>Object.entries(a.yR2).map(e=>{let[t,{name:n}]=e;return{value:t,name:n}}),[]),B=ri(()=>{y({isEnabled:!c})}),x=ri(()=>{w({isEnabled:!r})}),_=ri(()=>{C({state:uo.HiddenNfts})}),L=ri(()=>{b({isEnabled:!l})}),D=ri(()=>{E({isEnabled:!i})}),[O,M]=at(d),F=ri(e=>{M(e),k({currency:e}),a.UMQ&&n.setBaseCurrency({currency:e})}),{shouldRenderHiddenNftsSection:P,hiddenNftsCount:R}=st(()=>{const e=Object.values(f||{}),t=new Set(h),n=new Set(g);return{shouldRenderHiddenNftsSection:e.some(e=>t.has(e.address)||e.isHidden),hiddenNftsCount:e.filter(e=>!n.has(e.address)&&(t.has(e.address)||e.isHidden)).length}},[f,h,g]);return pt.createElement("div",{className:zy.slide},o?pt.createElement(Cv,{title:N("Assets & Activity"),withNotch:I,onBackButtonClick:v,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",I&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:v,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,N("Back"))),pt.createElement("span",{className:zy.headerTitle},N("Assets & Activity"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:A,ref:S},pt.createElement("div",{className:zy.settingsBlock},pt.createElement(Fb,{label:N("Base Currency"),items:T,selectedValue:d,theme:"light",shouldTranslateOptions:!0,className:qi(zy.item,zy.item_small),onChange:F,isLoading:O!==d}),pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:x},pt.createElement("div",null,N("Investor View")," ",pt.createElement(Xb,{message:N("Focus on asset value rather than current balance"),iconClassName:zy.iconQuestion})),pt.createElement(YB,{className:zy.menuSwitcher,label:N("Investor View"),checked:r})),pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:B},pt.createElement("div",null,N("Hide Tiny Transfers")," ",pt.createElement(Xb,{message:N("$tiny_transfers_help",{value:a.Wvq}),tooltipClassName:qi(zy.wideTooltip),iconClassName:zy.iconQuestion})),pt.createElement(YB,{className:zy.menuSwitcher,label:N("Hide Tiny Transfers"),checked:c}))),P&&pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:_},N("Hidden NFTs"),pt.createElement("div",{className:zy.itemInfo},R,pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),pt.createElement("p",{className:zy.blockTitle},N("Token Settings")),pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:D},N("Sort By Cost"),pt.createElement(YB,{className:zy.menuSwitcher,label:N("Sort By Cost"),checked:i})),pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:L},pt.createElement("div",null,N("Hide Tokens With No Cost")," ",pt.createElement(Xb,{message:N("$hide_tokens_no_cost_help",{value:a.Wvq}),tooltipClassName:qi(zy.wideTooltip),iconClassName:zy.iconQuestion})),pt.createElement(YB,{className:zy.menuSwitcher,label:N("Hide Tokens With No Cost"),checked:l}))),pt.createElement(yx,{isSensitiveDataHidden:s,parentContainer:S,tokens:m,orderedSlugs:p,isSortByValueEnabled:i,baseCurrency:d,withChainIcon:u})))})),bx="Uez1mztb",Ex=ut(function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=$t(),i=Ki(),s=ri(()=>{o(),a()}),c=ri(()=>{r({url:n.url,uniqueId:_m(n)}),a()}),l=i(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?i("Are you sure you want to disconnect?",{dappname:pt.createElement("strong",null,n.name)}):i("Are you sure you want to disconnect all websites?"),u=n?c:s;return pt.createElement(bl,{isOpen:t,isCompact:!0,onClose:a,title:l,contentClassName:"ofWxr4DU"},pt.createElement("p",{className:"XlFYElV7"},d),pt.createElement("div",{className:"gixyiSx7"},pt.createElement(dl,{onClick:a,className:bx},i("Cancel")),pt.createElement(dl,{isDestructive:!0,onClick:u,className:bx},i("Disconnect"))))}),kx=ut(function(e){let{isActive:t,dapps:n,handleBackClick:o,isInsideModal:r}=e;const i=Ki(),[s,c,l]=Np(),[d,u]=at();lc({isActive:t,onBack:o});const{handleScroll:m,isScrolled:p}=Pv(),f=ri(e=>{const t=n.find(t=>t.url===e);u(t),c()}),h=ri(()=>{u(void 0),c()}),g=0===n.length?pt.createElement("div",{className:zy.emptyList},pt.createElement(Nh,{play:t,tgsUrl:Qf.noData,previewUrl:Qf.noDataPreview,size:a.igk,noLoop:!1,nonInteractive:!0}),pt.createElement("p",{className:zy.emptyListTitle},i("No active connections"))):pt.createElement("div",{className:zy.dapps},pt.createElement("div",{className:zy.disconnectAllBlock},pt.createElement(dl,{className:zy.disconnectButton,isSimple:!0,onClick:h},i("Disconnect All Dapps")),pt.createElement("p",{className:zy.blockDescription},i("$dapps-description",{app_name:a.C39}))),pt.createElement("p",{className:zy.blockTitle},i("Logged in with %app_name%",{app_name:a.C39})),pt.createElement("div",{className:zy.block},n.map(e=>pt.createElement(EE,{key:`dapp-${e.url}-${_m(e)}`,dapp:e,className:zy.dapp,onDisconnect:f}))));return pt.createElement("div",{className:zy.slide},r?pt.createElement(Cv,{title:i("Dapps"),withNotch:p,onBackButtonClick:o,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",p&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:o,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,i("Back"))),pt.createElement("span",{className:zy.headerTitle},i("Dapps"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:m},pt.createElement(Qh,{activeKey:0===n.length?0:1,name:"fade"},g)),pt.createElement(Ex,{isOpen:s,onClose:l,dapp:d}))});function Cx(){if(a.v5B)return"firefox-extension";if(a.RTV)return"opera-extension";if(a.hL1)return"extension";if(a.UMQ){if(a.gmk){if(r.pz)return"ios-air";if(a.VL7)return"android-air-direct";if(r.Ni)return"android-air"}if(a.VL7)return"android-direct";if(r.Ni)return"android";if(r.pz)return"ios"}var e;return a.tKX?(null===(e=Cr())||void 0===e?void 0:e.platform)||"telegram-unknown":r.cp?"electron":"web"}var Nx=i(36791);const Sx=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],Ax=r.pz||!(a.hL1||a.tKX),Ix=ut(zt(e=>{var t;const n=e.currentAccountId;return{currentAccountId:n,accountsById:null===(t=e.accounts)||void 0===t?void 0:t.byId,canViewAllWalletVersions:!Cn(e,n)}})(function(e){let{isOpen:t,isTestnet:n,isCopyStorageEnabled:i,onShowAllWalletVersions:s,onClose:c,currentAccountId:l,accountsById:d,canViewAllWalletVersions:u}=e;const{startChangingNetwork:m,closeSettings:p,openAddAccountModal:f,copyStorageData:h,showNotification:g}=$t(),v=Ki(),y=Sx[n?1:0].value,w=ri(e=>{m({network:e}),c()}),b=ri(()=>{c(),p(),f({forceAddingTonOnlyAccount:!0})}),E=ri(async()=>{const e=await async function(e){let{currentAccountId:t,accountsById:n}=e;const i=n&&C(n,e=>({type:e.type,addressByChain:C(e.byChain,e=>e.address)})),[s,c,l=[]]=await Promise.all([(0,o.ao)(),r.KI?new Promise(e=>{const t=n=>{let{data:a}=n;"logsFromNative"===a.type&&(Yd.removeEventListener("message",t),e(a.logs))};Yd.addEventListener("message",t),Yd.postMessage({type:"getLogsFromNative"})}):Promise.resolve([]),ee("getLogs")]),d=new Date,u=-d.getTimezoneOffset();return JSON.stringify({time:d,timezone:`UTC${u<0?"-":"+"}${Math.abs(u)/60}`,environment:a.Guj,version:a.hl5,commit:a.rFA,platform:(0,Nx.u)(),navigatorPlatform:navigator.platform,userAgent:navigator.userAgent,build:Cx(),flags:{IS_ANDROID_DIRECT:a.VL7,IS_CAPACITOR:a.UMQ,IS_TELEGRAM_APP:a.tKX,IS_EXTENSION:a.hL1,IS_FIREFOX_EXTENSION:a.v5B,IS_PACKAGED_ELECTRON:a.jht,IS_AIR_APP:a.gmk,IS_ELECTRON:r.cp,IS_OPERA_EXTENSION:a.RTV},currentAccountId:t,accountsInfo:i,logs:[...s.map(e=>({...e,context:"main"})),...c.map(e=>({...e,context:"bottomSheet"})),...l.map(e=>({...e,context:"api"}))].sort((e,t)=>e.time-t.time).map(e=>({...e,time:new Date(e.time).toISOString()}))},void 0,2)}({currentAccountId:l,accountsById:d});if(Ax){const t=`${a.TI6?"tonwallet":"mytonwallet"}_logs_${(new Date).toISOString()}.json`;await async function(e,t){if(a.UMQ){const n={path:e,directory:rv.__.Cache},a=await iv.writeFile({...n,data:t,encoding:rv.Wi.UTF8});try{if(await lv({url:a.uri}))return}finally{iv.deleteFile(n)}}const n=new File([t],e,{type:"application/json"});if(await dv({files:[n]}))return;const o=URL.createObjectURL(n);try{if(r.pz)window.open(o,"_blank","noreferrer");else{const t=document.createElement("a");t.href=o,t.download=e,t.click()}}finally{URL.revokeObjectURL(o)}}(t,e)}else await Ld(e),g({message:v("Logs were copied!"),icon:"icon-copy"}),c()});return pt.createElement(bl,{isOpen:t,onClose:c,noBackdropClose:!0,isCompact:!0,title:v("Developer Options")},pt.createElement("div",{className:zy.settingsBlock},pt.createElement(Fb,{label:v("Network"),items:Sx,selectedValue:y,theme:"light",arrow:"chevron",className:qi(zy.item,zy.item_small),onChange:w}),pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:b},v("Create TON-Only Wallet"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-plus"),"aria-hidden":!0})),pt.createElement("div",{className:qi(zy.item,zy.item_small,!u&&zy.item_disabled),onClick:s},v("All Wallet Versions"),pt.createElement("div",{className:zy.itemInfo},u?pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}):pt.createElement(pt.Fragment,null,pt.createElement("span",{className:zy.small},v("Multichain")),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-lock"),"aria-hidden":!0}))))),i&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:zy.blockTitle},v("Dangerous")),pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:()=>h()},v("Copy Storage Data"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),pt.createElement("div",{className:qi(zy.settingsBlock)},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:E},Ax?v("Download Logs"):pt.createElement(pt.Fragment,null,v("Copy Logs"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),pt.createElement(dl,{className:zy.developerCloseButton,onClick:c},v("Close")))})),Tx=ut(function(e){let{isActive:t,handleBackClick:n,isInsideModal:o}=e;const r=Ki();lc({isActive:t,onBack:n});const{handleScroll:i,isScrolled:s}=Pv();return pt.createElement("div",{className:zy.slide},o?pt.createElement(Cv,{title:"",withNotch:s,onBackButtonClick:n}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",s&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:n,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,r("Back")))),pt.createElement("div",{className:qi(zy.content,o&&"custom-scroll",!o&&zy.content_noScroll),onScroll:o?i:void 0},pt.createElement("div",{className:zy.stickerAndTitle},pt.createElement(Nh,{play:t,tgsUrl:Qf.snitch,previewUrl:Qf.snitchPreview,noLoop:!1,nonInteractive:!0,size:a.lWW}),pt.createElement("div",{className:zy.sideTitle},r("Use Responsibly"))),pt.createElement("div",{className:qi(zy.blockAbout,!o&&"custom-scroll")},pt.createElement("p",{className:zy.text},bi(r("$auth_responsibly_description1",{app_name:a.C39}))),pt.createElement("p",{className:zy.text},bi(r("$auth_responsibly_description2"))),pt.createElement("p",{className:zy.text},bi(r("$auth_responsibly_description3",{app_name:a.C39}))),pt.createElement("p",{className:zy.text},bi(r("$auth_responsibly_description4"))))))}),Bx=ut(function(e){let{nft:t}=e;const{openMediaViewer:n,removeNftSpecialStatus:a}=$t(),o=Ki(),[i,,s]=Np(!0),c=ri(()=>{a({address:t.address})}),{ref:l}=rl({isOpen:i,onCloseAnimationEnd:c}),{isPortrait:d}=xs(),u=!d||r.cp||r.KI||r.bA;return Et.createElement("div",{ref:l,className:zy.item,onClick:function(){n({mediaId:t.address,mediaType:ho.Nft,noGhostAnimation:u,hiddenNfts:"user"})},key:t.address,role:"button",tabIndex:0,"data-nft-address":!u&&t.address},Et.createElement("img",{className:zy.nftImage,src:t.image,alt:t.name}),Et.createElement("div",{className:zy.nftPrimaryCell},Et.createElement("span",{className:zy.nftName},t.name||o("Untitled")),t.collectionName&&Et.createElement("span",{className:zy.nftCollection},t.collectionName)),Et.createElement(dl,{isSmall:!0,isPrimary:!0,isText:!0,className:zy.nftButtonUnhide,onClick:s,shouldStopPropagation:!0},o("Unhide")))}),xx=ut(function(e){let{nft:t,isWhitelisted:n}=e;const{openMediaViewer:a,removeNftSpecialStatus:o,openUnhideNftModal:i}=$t(),s=Ki(),{isPortrait:c}=xs(),l=!c||r.cp||r.KI||r.bA,d=ri(()=>{a({mediaId:t.address,mediaType:ho.Nft,noGhostAnimation:l,hiddenNfts:"scam"})}),u=ri(e=>{e.stopPropagation(),n?o({address:t.address}):i({address:t.address,name:t.name})});return Et.createElement("div",{className:zy.item,onClick:d,key:t.address,role:"button",tabIndex:0,"data-nft-address":!l&&t.address},Et.createElement("img",{className:zy.nftImage,src:t.image,alt:t.name}),Et.createElement("div",{className:zy.nftPrimaryCell},Et.createElement("span",{className:zy.nftName},t.name),t.collectionName&&Et.createElement("span",{className:zy.nftCollection},t.collectionName)),Et.createElement(YB,{className:zy.menuSwitcher,label:s("Show"),checked:n,onChange:u,shouldStopPropagation:!0}))}),_x=ut(zt(e=>{var t;const{blacklistedNftAddresses:n,whitelistedNftAddresses:a}=dn(e)??{},{orderedAddresses:o,byAddress:r}=(null===(t=dn(e))||void 0===t?void 0:t.nfts)??{};return{blacklistedNftAddresses:n,whitelistedNftAddresses:a,orderedAddresses:o,byAddress:r}})(function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,blacklistedNftAddresses:o,whitelistedNftAddresses:i,orderedAddresses:s,byAddress:c}=e;const l=Ki();lc({isActive:t,onBack:n});const{isScrolled:d,handleScroll:u}=Pv(),m=st(()=>{if(s&&c)return s.map(e=>c[e]).filter(Boolean)},[c,s]),p=st(()=>{const e=new Set(o);return null==m?void 0:m.filter(t=>e.has(t.address))},[m,o]),f=st(()=>null==m?void 0:m.filter(e=>e.isHidden),[m]),h=st(()=>new Set(i),[i]),{isPortrait:g}=xs(),v=!g||r.cp||r.KI||r.bA;return pt.createElement("div",{className:zy.slide},a?pt.createElement(Cv,{title:l("Hidden NFTs"),withNotch:d,onBackButtonClick:n,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",d&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:n,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,l("Back"))),pt.createElement("span",{className:zy.headerTitle},l("Hidden NFTs"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:u},Boolean(null==p?void 0:p.length)&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:zy.blockTitle},l("Hidden By Me")),pt.createElement("div",{className:qi(zy.block,!v&&"hidden-nfts-user")},p.map(e=>pt.createElement(Bx,{key:e.address,nft:e})))),Boolean(null==f?void 0:f.length)&&pt.createElement(pt.Fragment,null,pt.createElement("p",{className:zy.blockTitle},l("Probably Scam")),pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription,!v&&"hidden-nfts-scam")},f.map(e=>pt.createElement(xx,{key:e.address,nft:e,isWhitelisted:h.has(e.address)}))),pt.createElement("p",{className:zy.blockDescription},l("$settings_nft_probably_scam_description")))))})),Lx=i.p+"settings_checkmark.4c62604cbc9fd263c110.svg",Dx=ut(function(e){let{isActive:t,langCode:o,handleBackClick:r,isInsideModal:i}=e;const{changeLanguage:s}=$t(),c=Ki();lc({isActive:t,onBack:r});const l=ri(e=>{zi(e,()=>{s({langCode:e}),a.UMQ&&n.setLanguage({langCode:e})})});return pt.createElement("div",{className:zy.slide},i?pt.createElement(Cv,{title:c("Language"),onBackButtonClick:r,className:qi(zy.modalHeader,zy.languageHeader)}):pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:r,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,c("Back"))),pt.createElement("span",{className:zy.headerTitle},c("Language"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll")},pt.createElement("div",{className:zy.block},a.gSB.map(e=>{let{name:t,nativeName:n,langCode:a}=e;return pt.createElement("div",{key:a,className:qi(zy.item,zy.item_lang),onClick:()=>l(a)},pt.createElement("div",{className:zy.languageInfo},pt.createElement("span",{className:zy.languageMain},t),pt.createElement("span",{className:zy.languageNative},n)),o===a&&pt.createElement("img",{src:Lx,alt:t}))}))))}),Ox=ut(zt(e=>({accounts:on(e),canPlaySounds:e.settings.canPlaySounds,pushNotifications:e.pushNotifications,settingsByAccountId:e.settings.byAccountId}))(function(e){let{isActive:t,handleBackClick:n,accounts:o,canPlaySounds:r,pushNotifications:{enabledAccounts:i,isAvailable:s},isInsideModal:c,settingsByAccountId:l}=e;const d=Ki(),{toggleNotifications:u,toggleNotificationAccount:m,toggleCanPlaySounds:p}=$t(),f=st(()=>Object.entries(o||{}),[o]),h=Boolean(Object.keys(i).length),g=d(s?"Notifications & Sounds":"Sounds"),v=ri(()=>{u({isEnabled:!h})}),y=ri(()=>{p({isEnabled:!r})});lc({isActive:t,onBack:n});const{handleScroll:w,isScrolled:b}=Pv();return pt.createElement("div",{className:zy.slide},c?pt.createElement(Cv,{title:g,withNotch:b,onBackButtonClick:n,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",b&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:n,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,d("Back"))),pt.createElement("span",{className:zy.headerTitle},g)),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:w},s&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:v},d("Push Notifications"),pt.createElement(YB,{className:zy.menuSwitcher,label:d("Push Notifications"),checked:h}))),pt.createElement("p",{className:zy.blockTitle},d("Select up to %count% wallets for notifications",{count:a.vdF})),pt.createElement(xb,{accountLength:f.length,className:zy.settingsBlock},f.map(e=>{let[t,{title:n,byChain:o,type:r}]=e;return function(e,t,n,o){const r=t.ton?()=>{m({accountId:e})}:void 0,{cardBackgroundNft:s}=(null==l?void 0:l[e])||{},c=Gt(t)??"",u=i&&!i[e]&&Zt(i,a.vdF-1);return pt.createElement(Bb,{className:qi(zy.account,u?zy.accountDisabled:void 0),key:e,accountId:e,address:c,title:o,ariaLabel:d("Switch Account"),accountType:n,withCheckbox:!0,isLoading:u,isActive:Boolean(i&&i[e]),onClick:r,cardBackgroundNft:s})}(t,o,r,n)}))),pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:y},d("Play Sounds"),pt.createElement(YB,{className:zy.menuSwitcher,label:d("Play Sounds"),checked:r})))))}));var Mx,Fx;!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",e.ZenMode="zen_mode",e.ZenModePriority="zen_mode_priority",e.ZenModeBlockedEffects="zen_mode_blocked_effects"}(Mx||(Mx={})),function(e){e.About="about",e.App="app",e.AppNotification="appNotification",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(Fx||(Fx={}));const Px=(0,t.F3)("NativeSettings",{web:()=>i.e(988).then(i.bind(i,91988)).then(e=>new e.NativeSettingsWeb)}),Rx=i.p+"settings_private-key.5db3564e144d742b44ca.svg",Ux=ut(function(e){let{isActive:t,isInsideModal:n,isMultichainAccount:a,hasMnemonicWallet:o,onBackClick:r,onOpenSecretWordsSafetyRules:i,onOpenPrivateKeySafetyRules:s,openSettingsSlide:c}=e;const l=Ki();lc({isActive:t,onBack:r});const{handleScroll:d,isScrolled:u}=Pv();return pt.createElement("div",{className:zy.slide},n?pt.createElement(Cv,{onBackButtonClick:c,className:zy.modalHeader,withNotch:u,title:l("$back_up_security")}):pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:c,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,l("Back"))),pt.createElement("span",{className:zy.headerTitle},l("$back_up_security"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:d},o&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:qi(zy.item),onClick:i},pt.createElement("img",{className:zy.menuIcon,src:Zw,alt:l("View Secret Words")}),l("View Secret Words"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a&&pt.createElement("p",{className:zy.blockDescription},l("Can be imported to any multichain wallet supporting TON."))),(a||!o)&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:qi(zy.item),onClick:s},pt.createElement("img",{className:zy.menuIcon,src:Rx,alt:l("View TON Private Key")}),l("View TON Private Key"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),pt.createElement("p",{className:zy.blockDescription},l("Can be imported to non-multichain wallets for TON.")))))}),Wx=ut(function(e){let{isActive:t,privateKey:n,onSubmit:o,buttonText:r}=e;const i=Ki();return pt.createElement(pt.Fragment,null,pt.createElement(Nh,{tgsUrl:Qf.bill,previewUrl:Qf.billPreview,size:a.lWW,play:t,nonInteractive:!0,noLoop:!1,className:ww.modalSticker}),pt.createElement("p",{className:qi(ww.info,ww.small)},bi(i("$private_key_description"))),pt.createElement("p",{className:ww.warning},bi(i("$mnemonic_warning"))),pt.createElement(Ck,{noExplorer:!0,text:n,copyNotification:i("Your private key was copied!")}),pt.createElement("div",{className:ww.buttonWrapper},pt.createElement(dl,{isPrimary:!0,className:ww.footerButton,onClick:o},r)))}),Hx="gDO3tqgH",$x=ut(function(e){let{isActive:t,currentAccountId:n,enteredPassword:a,isBackupSlideActive:o,isInsideModal:r,onBackClick:i,onSubmit:s}=e;const c=Ki(),[l,d]=at(void 0);rt(()=>{!async function(){if(o&&a){const e=await ee("fetchPrivateKey",n,a);d(e)}else d(void 0)}()},[n,a,o]),lc({isActive:t,onBack:i});const{handleScroll:u,isScrolled:m}=Pv();return pt.createElement("div",{className:zy.slide},r?pt.createElement(Cv,{title:c("Private Key"),withNotch:m,onBackButtonClick:i,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",m&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:i,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,c("Back"))),pt.createElement("span",{className:zy.headerTitle},c("Private Key"))),pt.createElement("div",{className:qi(zy.content,Hx),onScroll:u},pt.createElement(Wx,{isActive:t,privateKey:l,buttonText:c("Close"),onSubmit:s})))}),Vx=ut(function(e){let{isActive:t,onBackClick:n,isInsideModal:a,onSubmit:o,backupType:r}=e;const i=Ki(),[s,c]=at(!1),[l,d]=at(!1),[u,m]=at(!1),p=ri(()=>{c(!1),d(!1),m(!1),n()});lc({isActive:t,onBack:n});const{handleScroll:f,isScrolled:h}=Pv();return pt.createElement("div",{className:zy.slide},a?pt.createElement(Cv,{title:i("Safety Rules"),withNotch:h,onBackButtonClick:p,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",h&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:p,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,i("Back"))),pt.createElement("span",{className:zy.headerTitle},i("Safety Rules"))),pt.createElement("div",{className:qi(zy.content,Hx),onScroll:f},pt.createElement(db,{isActive:t,isFullSizeButton:!0,textFirst:i("key"===r?"$safety_rules_private_key_one":"$safety_rules_one"),textSecond:i("key"===r?"$safety_rules_private_key_two":"$safety_rules_two"),textThird:i("key"===r?"$safety_rules_private_key_three":"$safety_rules_three"),isFirstCheckboxSelected:s,onFirstCheckboxClick:c,isSecondCheckboxSelected:l,onSecondCheckboxClick:d,isThirdCheckboxSelected:u,onThirdCheckboxClick:m,onSubmit:o})))}),zx=ut(function(e){let{isActive:t,currentAccountId:n,enteredPassword:a,isBackupSlideActive:o,isInsideModal:r,onBackClick:i,onSubmit:s}=e;const c=Ki(),[l,d]=at(void 0),u=(null==l?void 0:l.length)||0;rt(()=>{!async function(){if(o&&a){const e=await ee("fetchMnemonic",n,a);d(e)}else d(void 0)}()},[n,a,o]),lc({isActive:t,onBack:i});const{handleScroll:m,isScrolled:p}=Pv();return pt.createElement("div",{className:zy.slide},r?pt.createElement(Cv,{title:c("%1$d Secret Words",u),withNotch:p,className:zy.modalHeader,onBackButtonClick:i}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",p&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,className:zy.headerBack,onClick:i},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,c("Back"))),pt.createElement("span",{className:zy.headerTitle},c("%1$d Secret Words",u))),pt.createElement("div",{className:qi(zy.content,Hx),onScroll:m},pt.createElement(pb,{isActive:t,mnemonic:l,onSubmit:s,buttonText:c("Close")})))}),Kx=ut(zt(e=>({isBiometricAuthEnabled:An(e)}))(function(e){let{isBiometricAuthEnabled:t,onEnable:n}=e;const{disableNativeBiometrics:a}=$t(),o=Ed()||!bd()&&r.pz,i=kd(),s=Ki(),[c,l,d]=Np(),u=o?"Face ID":i?"Touch ID":s("Biometric Authentication"),m=o?"Turn Off Face ID":i?"Turn Off Touch ID":"Turn Off Biometrics",p=o?"Are you sure you want to disable Face ID?":i?"Are you sure you want to disable Touch ID?":"Are you sure you want to disable biometrics?",f=o?$w:Fw,h=ri(()=>{d(),a()});yt(()=>{r.bA&&c&&Rk.confirm({title:s(m),message:s(p),okButtonTitle:s("Yes"),cancelButtonTitle:s("Cancel")}).then(e=>{let{value:t}=e;t&&h()}).finally(d)},[h,c,s,p,m]);const g=ri(()=>{var e;kr()?null===(e=Cr())||void 0===e||e.BiometricManager.openSettings():t?l():n()});return pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:zy.item,onClick:g},pt.createElement("img",{className:zy.menuIcon,src:f,alt:""}),u,pt.createElement(YB,{className:zy.menuSwitcher,label:u,checked:t})),function(){if(!r.bA)return pt.createElement(bl,{isCompact:!0,isOpen:c,title:s(m),onClose:d,dialogClassName:zy.stakingSafeDialog},pt.createElement("p",{className:ml.text},bi(s(p))),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:d},s("Cancel")),pt.createElement(dl,{onClick:h},s("Yes"))))}()),pt.createElement("p",{className:zy.blockDescription},s("To avoid entering the passcode every time, you can use biometrics.")))})),qx=i.p+"settings_backup.b9a780430d5dc0d76c99.svg";let jx=function(e){return e[e.password=0]="password",e[e.settings=1]="settings",e[e.newPassword=2]="newPassword",e[e.createNewPin=3]="createNewPin",e[e.confirmNewPin=4]="confirmNewPin",e[e.passwordChanged=5]="passwordChanged",e[e.backup=6]="backup",e[e.safetyRules=7]="safetyRules",e[e.privateKey=8]="privateKey",e[e.secretWords=9]="secretWords",e}({});const Yx=Cd()?jx.createNewPin:jx.newPassword,Gx=ut(zt(e=>{const{isPasswordNumeric:t,autolockValue:n,isAppLockEnabled:a,isAutoConfirmEnabled:o}=e.settings,r=Sn(e),i=An(e),s=bn(e),c=In(e,e.currentAccountId);return{isBiometricAuthEnabled:r,isNativeBiometricAuthEnabled:i,isMultichainAccount:Cn(e,e.currentAccountId),isPasswordNumeric:t,isPasswordPresent:s,isAppLockEnabled:a,autolockValue:n,isAutoConfirmEnabled:o,isAllowSuspiciousActions:c,shouldShowBackup:yn(e),isLoading:e.auth.isLoading,currentAccountId:e.currentAccountId}})(function(e){let{isActive:t,handleBackClick:n,isInsideModal:o,isBiometricAuthEnabled:i,isNativeBiometricAuthEnabled:s,isPasswordNumeric:l,isPasswordPresent:d,isMultichainAccount:u,isAppLockEnabled:m,autolockValue:p=a.fPM,isAutoConfirmEnabled:f,isAllowSuspiciousActions:h,isAutoUpdateEnabled:g,currentAccountId:v,onSettingsClose:y,onAutoUpdateEnabledToggle:w,isLoading:b,shouldShowBackup:E}=e;const{setIsPinAccepted:k,clearIsPinAccepted:C,disableNativeBiometrics:N,enableNativeBiometrics:S,openBiometricsTurnOffWarning:A,openBiometricsTurnOn:I,setSettingsState:T,setAppLockValue:B,setIsAutoConfirmEnabled:x,setIsAllowSuspiciousActions:_,setIsAuthLoading:L,setInMemoryPassword:D}=$t(),O=Ki(),{isScrolled:M,handleScroll:F}=Pv(),[P,R]=at(jx.password),U=vt(P),[W,H]=at(jx.settings),[$,V]=at(),[z,K]=at(),[q,j]=at(void 0),[Y,G]=at(!1),[Q,X]=at(""),[Z,J]=at(""),te=ri(()=>{V(void 0)}),ne=ri(e=>{e||K(void 0),X(""),J(""),te(),C()}),ae=ri(()=>{n(),ne()}),oe=ri(()=>{R(jx.confirmNewPin),H(jx.settings)}),re=ri(()=>{R(jx.settings),H(void 0),ne(!0)}),ie=ri(()=>{u?(R(jx.backup),H(jx.safetyRules)):re()}),se=ri(()=>{R(Yx),H(jx.settings)}),ce=ri(()=>{R(jx.passwordChanged),H(jx.settings)});it(()=>{void 0===z&&t?R(jx.password):t||ne()},[z,t]),lc({isActive:t,onBack:ae});const le=ri(async e=>{await ee("verifyPassword",e)?(Cd()&&(k(),await xd(!0)),re(),K(e)):V("Wrong password, please try again.")}),de=ri(async e=>{await ee("changePassword",z,e),L({isLoading:!0}),K(e),D({password:e}),s&&(N(),S({password:e})),Cd()?re():ce(),L({isLoading:void 0})}),ue=ri(async e=>{X(e),await xd(!0),await(0,c.v7)(500),oe()}),me=ri(async e=>{e===Q?(V(O("New code set successfully")),await(0,c.v7)(1500),await de(e)):(V(O("Codes don’t match")),await(0,c.v7)(1500),ne(!0),R(jx.createNewPin))}),pe=ri(()=>{H(Yx),se()}),fe=ri(()=>{j("key"),R(jx.safetyRules),H(jx.privateKey)}),he=ri(()=>{j("words"),R(jx.safetyRules),H(jx.secretWords)}),ge=ri(()=>{u?(R(jx.backup),H(void 0)):Y?he():fe()}),ve=ri(()=>{R(jx.privateKey),H(jx.backup)}),ye=ri(()=>{R(jx.secretWords),H(jx.backup)}),we=ri(()=>{B({value:p,isEnabled:!m})}),be=ri(e=>{B({value:e,isEnabled:!0})}),Ee=ri(()=>{x({isEnabled:!f})}),ke=ri(()=>{_({isEnabled:!h})}),Ce=ri(()=>{i?A():I()}),Ne=ri(async()=>{if(bd())return void T({state:uo.NativeBiometricsTurnOn});const e=r.pz?"To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable biometrics in your phone settings.",{value:t}=await Rk.confirm({title:O("Warning!"),message:O(e),okButtonTitle:O("Open Settings"),cancelButtonTitle:O("Cancel")});t&&await Px.open({optionAndroid:Mx.ApplicationDetails,optionIOS:Fx.App})});rt(()=>{z&&ee("fetchMnemonic",v,z).then(e=>{G(Boolean(e&&!Od(e)))})},[Y,v,z]);const Se=d&&(bd()||r.ZH||kr()),Ae=o&&Cd(),Ie=!i;function Te(e,n,c){switch(c){case jx.settings:return pt.createElement("div",{className:zy.slide},o?pt.createElement(Cv,{title:O("Security"),withNotch:M,onBackButtonClick:ae,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",M&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:ae,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,O("Back"))),pt.createElement("span",{className:zy.headerTitle},O("Security"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:F},E&&pt.createElement("div",{className:zy.settingsBlock},pt.createElement("div",{className:qi(zy.item),onClick:ge},pt.createElement("img",{className:zy.menuIcon,src:qx,alt:O("$back_up_security")}),O("$back_up_security"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),Se&&pt.createElement(Kx,{onEnable:Ne}),d&&r.uh&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:zy.item,onClick:Ce},pt.createElement("img",{className:zy.menuIcon,src:Fw,alt:O("Biometric Authentication")}),O("Biometric Authentication"),pt.createElement(YB,{className:zy.menuSwitcher,label:O("Biometric Authentication"),checked:i}))),pt.createElement("p",{className:zy.blockDescription},O("To avoid entering the passcode every time, you can use biometrics."))),!(i&&!s)&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement(dl,{className:zy.changePasswordButton,isSimple:!0,onClick:pe},O(l?"Change Passcode":"Change Password"))),pt.createElement("p",{className:zy.blockDescription},O("The passcode will be changed for all your wallets."))),d&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:qi(zy.item,zy.itemSmall),onClick:we},O("App Lock"),pt.createElement(YB,{className:zy.menuSwitcher,label:O("Allow App Lock"),checked:m})),pt.createElement(tT,{isShown:!!m},pt.createElement(Fb,{label:O("Auto-Lock"),items:a.zTb,selectedValue:p,theme:"light",shouldTranslateOptions:!0,className:qi(zy.item,zy.item_small,zy.itemAutoLock),onChange:be}))),pt.createElement("p",{className:zy.blockDescription},O("$app_lock_description",{app_name:a.C39}))),d&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:qi(zy.item,zy.itemSmall,!Ie&&zy.itemDisabled),onClick:Ie?Ee:void 0},O(l?"Remember Passcode":"Remember Password"),pt.createElement(YB,{className:zy.menuSwitcher,label:O(l?"Remember Passcode":"Remember Password"),checked:Ie&&f}))),pt.createElement("p",{className:zy.blockDescription},O("App will not ask for signature for %1$d minutes after last entry.",a.gbw),!Ie&&` ${O("Not available with biometrics.")}`)),r.cp&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:qi(zy.item,zy.item_small),onClick:w},O("Auto-Updates"),pt.createElement(YB,{className:zy.menuSwitcher,label:O("Auto-Updates"),checked:g}))),pt.createElement("p",{className:zy.blockDescription},O("Turn this off so you can manually download updates and verify signatures."))),pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi(zy.block,zy.settingsBlockWithDescription)},pt.createElement("div",{className:qi(zy.item,zy.itemSmall),onClick:ke},O("Allow Suspicious Actions"),pt.createElement(YB,{className:zy.menuSwitcher,label:O("Allow Suspicious Actions"),checked:h}))),pt.createElement("p",{className:zy.blockDescription},O("$allow_suspicious_actions_description")))));case jx.password:return Pp()?(R(jx.settings),void Rp().then(e=>K(e))):pt.createElement(pt.Fragment,null,o?pt.createElement(Cv,{title:O(l?"Confirm Passcode":"Confirm Password"),onBackButtonClick:ae,className:zy.modalHeader}):pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:ae,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,O("Back"))),pt.createElement("span",{className:zy.headerTitle},O("Enter Password"))),pt.createElement(ig,{isActive:e&&t,error:$,containerClassName:a.UMQ?zy.passwordFormContent:zy.passwordFormContentInModal,forceBiometricsInMain:!o,placeholder:O("Enter your current password"),submitLabel:O("Continue"),onCancel:ae,onSubmit:le,onUpdate:te}));case jx.newPassword:return pt.createElement(pt.Fragment,null,o?pt.createElement(Cv,{title:O("Change Password"),onBackButtonClick:re,className:zy.modalHeader}):pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:re,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,O("Back"))),pt.createElement("span",{className:zy.headerTitle},O("Change Password"))),pt.createElement("div",{className:qi(ml.transitionContent,zy.content,o&&zy.contentInModal)},pt.createElement(Nh,{tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,play:e,size:a.igk,nonInteractive:!0,noLoop:!1,className:zy.sticker}),pt.createElement(Kw,{isActive:e,isLoading:b,onSubmit:de,onCancel:re,formId:"auth-create-password"})));case jx.createNewPin:return pt.createElement(pt.Fragment,null,o?pt.createElement(Cv,{onBackButtonClick:re,className:zy.modalHeader,title:Ae&&O("Change Passcode")}):pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:re,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,O("Back")))),pt.createElement("div",{className:qi(zy.pinPadHeader,Ae&&zy.pinPadHeaderMinified)},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,size:Ae?a.jzp:a.reE,nonInteractive:!0}),!Ae&&pt.createElement("div",{className:zy.pinPadTitle},O("Change Passcode"))),pt.createElement(eg,{isActive:t,title:O("Enter your new code"),length:a.NEx,value:Q,onChange:X,onSubmit:ue,isMinified:Ae}));case jx.confirmNewPin:return pt.createElement(pt.Fragment,null,o?pt.createElement(Cv,{onBackButtonClick:re,className:zy.modalHeader,title:Ae&&O($&&Q===Z?"Passcode Changed!":"Change Passcode")}):pt.createElement("div",{className:zy.header},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:re,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,O("Back")))),pt.createElement("div",{className:qi(zy.pinPadHeader,Ae&&zy.pinPadHeaderMinified)},pt.createElement(Nh,{play:t,tgsUrl:Qf.guard,previewUrl:Qf.guardPreview,noLoop:!1,size:Ae?a.jzp:a.reE,nonInteractive:!0}),!Ae&&pt.createElement("div",{className:zy.pinPadTitle},O($&&Q===Z?"Passcode Changed!":"Change Passcode"))),pt.createElement(eg,{isActive:t,title:$||O("Re-enter your new code"),type:$?Q===Z?"success":"error":void 0,length:a.NEx,value:Z,onChange:J,onSubmit:me,isMinified:Ae}));case jx.passwordChanged:return pt.createElement(pt.Fragment,null,o?pt.createElement(Cv,{title:O("Password Changed!"),className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,zy.onlyTextHeader)},pt.createElement("span",{className:zy.headerTitle},O("Password Changed!"))),pt.createElement("div",{className:zy.content},pt.createElement(Nh,{tgsUrl:Qf.yeee,previewUrl:Qf.yeeePreview,play:t,size:a.reE,nonInteractive:!0,noLoop:!1,className:qi(zy.sticker,zy.stickerHuge)}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,onClick:re,className:ml.customSubmitButton},O("Done")))));case jx.backup:return pt.createElement(Ux,{isActive:t&&e,isMultichainAccount:u,openSettingsSlide:re,isInsideModal:o,onOpenPrivateKeySafetyRules:fe,onOpenSecretWordsSafetyRules:he,onBackClick:ae,hasMnemonicWallet:Y});case jx.safetyRules:return pt.createElement(Vx,{isActive:t&&e,isInsideModal:o,backupType:q,onBackClick:ie,onSubmit:"key"===q?ve:ye});case jx.secretWords:return pt.createElement(zx,{isActive:t&&e,isBackupSlideActive:c===jx.secretWords||c===jx.safetyRules,isInsideModal:o,enteredPassword:z,currentAccountId:v,onBackClick:ie,onSubmit:y});case jx.privateKey:return pt.createElement($x,{isActive:t&&e,isBackupSlideActive:c===jx.privateKey||c===jx.safetyRules,isInsideModal:o,enteredPassword:z,currentAccountId:v,onBackClick:ie,onSubmit:y})}}return pt.createElement(Qh,{direction:U===jx.password&&P===jx.settings?1:"auto",name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:qi(zy.slide,o&&ml.transitionSlide),activeKey:P,nextKey:W,shouldCleanup:!0},Te)})),Qx=ut(function(e){let{isActive:t,isInsideModal:n,handleBackClick:a}=e;const{addToken:o}=$t(),r=Ki(),i=ri(e=>{o({token:e})});return lc({isActive:t,onBack:a}),pt.createElement("div",{className:qi(zy.slide,zy.withTopSpace)},pt.createElement(tN,{isActive:t,shouldHideMyTokens:!0,shouldHideNotSupportedTokens:!0,header:pt.createElement("div",{className:qi(zy.header,n&&zy.headerInsideModal)},pt.createElement(dl,{isSimple:!0,isText:!0,className:qi(zy.headerBack,n&&zy.isInsideModal),onClick:a},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,r("Back"))),pt.createElement("span",{className:zy.headerTitle},r("Select Token"))),onTokenSelect:i,onBack:a,onClose:a}))}),Xx=ut(function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,currentVersion:o,wallets:r}=e;const{closeSettings:i,importAccountByVersion:s}=$t(),c=Ki();lc({isActive:t,onBack:n});const{handleScroll:l,isScrolled:d}=Pv(),u=ri((e,t)=>{i(),s({version:e,isTestnetSubwalletId:t})});return pt.createElement("div",{className:zy.slide},a?pt.createElement(Cv,{title:c("Wallet Versions"),withNotch:d,onBackButtonClick:n,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",d&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:n,className:zy.headerBack},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,c("Back"))),pt.createElement("span",{className:zy.headerTitle},c("Wallet Versions"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll"),onScroll:l},pt.createElement("div",{className:zy.blockWalletVersionText},pt.createElement("span",null,c("$current_wallet_version",{version:pt.createElement("strong",null,o)})),pt.createElement("span",null,c("You have tokens on other versions of your wallet. You can import them from here."))),pt.createElement("div",{className:zy.block},null==r?void 0:r.map(e=>{const t="W5"===e.version&&void 0!==e.isTestnetSubwalletId?`${e.version} (${e.isTestnetSubwalletId?"Testnet":"Mainnet"} Subwallet ID)`:e.version;return pt.createElement("div",{key:e.address,className:qi(zy.item,zy.item_wallet_version),onClick:()=>u(e.version,e.isTestnetSubwalletId),tabIndex:0,role:"button"},pt.createElement("div",{className:zy.walletVersionInfo},pt.createElement("span",{className:zy.walletVersionTitle},t),pt.createElement("span",{className:zy.walletVersionAddress},qt(e.address))),pt.createElement("div",{className:zy.walletVersionInfoRight},pt.createElement("span",{className:zy.walletVersionTokens},e.tokens.join(", ")),pt.createElement("span",{className:zy.walletVersionAmount},"≈ ",e.totalBalance)),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))})),pt.createElement("div",{className:zy.blockWalletVersionReadMore},c("$read_more_about_wallet_version",{ton_link:pt.createElement("a",{href:"https://docs.ton.org/participate/wallets/contracts",target:"_blank",rel:"noreferrer"},"ton.org")}))))}),Zx=i.p+"settings_about.06e0c1f56ce8c5e3aed8.svg",Jx=i.p+"settings_appearance.2b14c893329172079cde.svg",e_=i.p+"settings_assets-activity.1ad5da85234bf09fece1.svg",t_=i.p+"settings_connected-dapps.2040e629b6b7c8322782.svg",n_=i.p+"settings_disclaimer.253b4de147ec357601d1.svg",a_=i.p+"settings_exit.32a8c2a0aa15b32cbe18.svg",o_=i.p+"settings_install-desktop.ef519c4d51bc6f07ae0a.svg",r_=i.p+"settings_install-mobile.67a5877879683b242845.svg",i_=i.p+"settings_language.5082638742f18ab7aea8.svg",s_=i.p+"settings_ledger.d4d0de11ad8edd55b0ca.svg",c_=i.p+"settings_mtw-cards.2eea591bb6c373988c96.svg",l_=i.p+"settings_mytonwallet.0bfa3bfd3fb936194997.svg",d_=i.p+"settings_notifications.20cf46edde7f154d46e3.svg",u_=i.p+"settings_security.4e873ae439b7ec0b15a9.svg",m_=i.p+"settings_support.de2a6e66d58407937014.svg",p_=i.p+"settings_telegram-menu.48b7177fffab504e301c.svg",f_=i.p+"settings_tips.0bd0a976d6eea735f106.svg",h_=i.p+"settings_ton-links.d9f0da8222e4a54c9332.svg",g_=i.p+"settings_ton-magic.bc2fb1d30938a1154b6c.svg",v_=i.p+"settings_ton-proxy.21c95b346710c5a73217.svg",y_=i.p+"settings_wallet-version.651cf56eff6ca7827bf6.svg",w_=1,b_=ut(zt(e=>{const t=bn(e),{isCopyStorageEnabled:n,supportAccountsCount:a=1,isNftBuyingDisabled:o}=e.restrictions,{currentVersion:r,byId:i}=e.walletVersions??{},s=null==i?void 0:i[e.currentAccountId],{dapps:c=Yk}=dn(e)||{};return{settings:e.settings,dapps:c,isOpen:e.areSettingsOpen,tokens:jn(e),isPasswordPresent:t,currentVersion:r,versions:s,isCopyStorageEnabled:n,supportAccountsCount:a,isNftBuyingDisabled:o,arePushNotificationsAvailable:e.pushNotifications.isAvailable,isViewMode:Tn(e)}})(function(e){let{settings:{state:t,theme:n,animationLevel:o,isTestnet:i,langCode:s,isTonProxyEnabled:c,isTonMagicEnabled:l,isDeeplinkHookEnabled:d,baseCurrency:u},dapps:m,isActive:p,isOpen:f=!1,tokens:h,isInsideModal:g,isPasswordPresent:v,currentVersion:y,versions:w,isCopyStorageEnabled:b,supportAccountsCount:E=w_,arePushNotificationsAvailable:k,isNftBuyingDisabled:C,isViewMode:N}=e;const{setSettingsState:S,openSettingsHardwareWallet:A,closeSettings:I,toggleDeeplinkHook:T,toggleTonProxy:B,toggleTonMagic:x,getDapps:_,clearIsPinAccepted:L}=$t(),D=Ki(),{isPortrait:O}=xs(),M=lt(),{renderingKey:F}=Ib(t,f),{disableSwipeToClose:P,enableSwipeToClose:R}=Wk(f),[U,W]=at(i?5:0),H=oi(Vk(F)),[$,V,z]=Np(),[K,q]=Np(),[j,Y,G]=Np(),Q=F===uo.Initial,X=st(()=>a.gSB.find(e=>e.langCode===s),[s]),Z=xi(u),J=st(()=>null==h?void 0:h.find(e=>{let{slug:t}=e;return t===a.Tu9.slug}),[h]),ee=st(()=>{var e;return(null==w||null===(e=w.filter(e=>e.lastTxId||"W5"===e.version||K))||void 0===e?void 0:e.map(e=>{const t=Ai((0,zn.nI)(e.balance),(null==J?void 0:J.symbol)??""),n=Ai((0,zn.CF)(e.balance).mul((null==J?void 0:J.price)??0).round(null==J?void 0:J.decimals),Z),a=[t];return{address:e.address,version:e.version,totalBalance:n,tokens:a,isTestnetSubwalletId:e.isTestnetSubwalletId}}))??[]},[Z,J,w,K]),{shouldRender:te,ref:ne}=rl({isOpen:l,withShouldRender:!0}),{handleScroll:ae,isScrolled:oe}=Pv(),re=ri(()=>{H.current===uo.NativeBiometricsTurnOn&&L()}),ie=ri(()=>{I(void 0,{forceOnHeavyAnimation:!0}),S({state:uo.Initial})});var se;lc({isActive:p&&Q,onBack:ie,shouldIgnoreForTelegram:g}),rt(()=>{if(se)return function(){const e=XT();GT+=1,!e&&XT()&&ZT()}(),JT},[se=f&&!Q]);const ce=ri(()=>{z(),a.TI6&&ie()}),le=ri(()=>{_(),S({state:uo.Dapps})});function de(){S({state:uo.Appearance})}function ue(){S({state:uo.PushNotifications})}function me(){S({state:uo.Security})}function pe(){S({state:uo.Assets})}function fe(){S({state:uo.Language})}function he(){S({state:uo.About})}function ge(){S({state:uo.Disclaimer})}const ve=ri(()=>{switch(F){case uo.HiddenNfts:case uo.SelectTokenList:S({state:uo.Assets});break;default:S({state:uo.Initial})}}),ye=ri(()=>{S({state:uo.Assets})}),we=ri(()=>{S({state:uo.WalletVersion})}),be=ri(()=>{T({isEnabled:!d})}),Ee=ri(()=>{B({isEnabled:!c})}),ke=ri(()=>{x({isEnabled:!l})});function Ce(){Il("https://mytonwallet.io/get",{isExternal:!0})}function Ne(){Il("https://mytonwallet.io/get/desktop",{isExternal:!0})}function Se(){Il("https://mytonwallet.io/get/mobile",{isExternal:!0})}const Ae=ri(()=>{S({state:uo.LedgerSelectWallets})}),[Ie,Te]=at(!1);rt(()=>{var e;null===(e=window.electron)||void 0===e||e.getIsTrayIconEnabled().then(Te)},[]);const Be=ri(()=>{var e;Te(!Ie),null===(e=window.electron)||void 0===e||e.setIsTrayIconEnabled(!Ie)}),[xe,_e]=at(!1);rt(()=>{var e;null===(e=window.electron)||void 0===e||e.getIsAutoUpdateEnabled().then(_e)},[]);const Le=ri(()=>{var e;_e(!xe),null===(e=window.electron)||void 0===e||e.setIsAutoUpdateEnabled(!xe)}),De=ri(()=>{Q?g&&ie():ve()}),Oe=ri(e=>{G(),e&&ie()});function Me(){A()}const Fe=()=>{U+1>=5?V():W(U+1)},Pe=ri(()=>{q(),ce(),we()});function Re(){return pt.createElement("div",{className:zy.item,onClick:be},pt.createElement("img",{className:zy.menuIcon,src:h_,alt:D("Handle ton:// links")}),D("Handle ton:// links"),pt.createElement(YB,{className:zy.menuSwitcher,label:D("Handle ton:// links"),checked:d}))}function Ue(e,t,i){switch(i){case uo.Initial:return pt.createElement("div",{className:zy.slide},g?pt.createElement(Cv,{title:D("Settings"),withNotch:oe,onClose:O?void 0:ie,className:zy.modalHeader}):pt.createElement("div",{className:qi(zy.header,"with-notch-on-scroll",oe&&"is-scrolled")},pt.createElement(dl,{isSimple:!0,isText:!0,onClick:ie,className:qi(zy.headerBack,O&&zy.hidden)},pt.createElement("i",{className:qi(zy.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),pt.createElement("span",null,D("Back"))),pt.createElement("span",{className:zy.headerTitle},D("Settings"))),pt.createElement("div",{className:qi(zy.content,"custom-scroll",zy.withBottomSpace),onScroll:ae},a.TI6&&pt.createElement("div",{className:zy.block},pt.createElement("div",{className:zy.item,onClick:Ce},pt.createElement("img",{className:zy.menuIcon,src:l_,alt:D("Upgrade to MyTonWallet")}),D("Upgrade to MyTonWallet"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a.hL1&&pt.createElement("div",{className:zy.block},a.hnd&&pt.createElement("div",{className:zy.item,onClick:Ee},pt.createElement("img",{className:zy.menuIcon,src:v_,alt:D("TON Proxy")}),D("TON Proxy"),pt.createElement(YB,{className:zy.menuSwitcher,label:D("Toggle TON Proxy"),checked:c})),pt.createElement("div",{className:zy.item,onClick:ke},pt.createElement("img",{className:zy.menuIcon,src:g_,alt:D("TON Magic")}),D("TON Magic"),pt.createElement(YB,{className:zy.menuSwitcher,label:D("Toggle TON Magic"),checked:l})),te&&pt.createElement("div",{ref:ne,className:zy.item,onClick:E_},pt.createElement("img",{className:zy.menuIcon,src:p_,alt:D("Open Telegram Web")}),D("Open Telegram Web"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),Re()),r.cp&&pt.createElement("div",{className:zy.block},Re()),pt.createElement("div",{className:zy.block},pt.createElement("div",{className:zy.item,onClick:ue},pt.createElement("img",{className:zy.menuIcon,src:d_,alt:D(k?"Notifications & Sounds":"Sounds")}),D(k?"Notifications & Sounds":"Sounds"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),pt.createElement("div",{className:zy.item,onClick:de},pt.createElement("img",{className:zy.menuIcon,src:Jx,alt:D("Appearance")}),D("Appearance"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!a.K_I&&pt.createElement("div",{className:zy.item,onClick:pe},pt.createElement("img",{className:zy.menuIcon,src:e_,alt:D("Assets & Activity")}),D("Assets & Activity"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),v&&pt.createElement("div",{className:zy.item,onClick:me},pt.createElement("img",{className:zy.menuIcon,src:u_,alt:D("Security")}),D("Security"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),r.ED&&!N&&pt.createElement("div",{className:zy.item,onClick:le},pt.createElement("img",{className:zy.menuIcon,src:t_,alt:D("Connected Dapps")}),D("Connected Dapps"),pt.createElement("div",{className:zy.itemInfo},m.length?m.length:"",pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!a.TI6&&pt.createElement("div",{className:zy.item,onClick:fe},pt.createElement("img",{className:zy.menuIcon,src:i_,alt:D("Language")}),D("Language"),pt.createElement("div",{className:zy.itemInfo},null==X?void 0:X.name,pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),(!(null==w||!w.length)||r.sC)&&pt.createElement("div",{className:zy.block},!(null==w||!w.length)&&pt.createElement("div",{className:zy.item,onClick:we},pt.createElement("img",{className:zy.menuIcon,src:y_,alt:D("Wallet Versions")}),D("Wallet Versions"),pt.createElement("div",{className:zy.itemInfo},y,pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),r.sC&&pt.createElement("div",{className:zy.item,onClick:Me},pt.createElement("img",{className:zy.menuIcon,src:s_,alt:D("Connect Ledger")}),D("Connect Ledger"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!a.TI6&&pt.createElement(pt.Fragment,null,!C&&pt.createElement("div",{className:zy.block},pt.createElement("a",{href:a.b2d,target:"_blank",rel:"noopener noreferrer",className:zy.item},pt.createElement("img",{className:zy.menuIcon,src:c_,alt:D("MyTonWallet Cards NFT")}),D("MyTonWallet Cards NFT"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),pt.createElement("div",{className:zy.block},pt.createElement("a",{href:`https://t.me/${a.AIK[s]??a.AIK.en}`,target:"_blank",rel:"noopener noreferrer",className:zy.item},pt.createElement("img",{className:zy.menuIcon,src:f_,alt:D("MyTonWallet Tips")}),D("MyTonWallet Tips"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),pt.createElement("a",{href:Fv(s,"home"),target:"_blank",rel:"noopener noreferrer",className:zy.item},pt.createElement("img",{className:zy.menuIcon,src:Ky,alt:D("Help Center")}),D("Help Center"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),E>0&&pt.createElement("a",{href:`https://t.me/${a.Fkn}`,target:"_blank",rel:"noopener noreferrer",className:zy.item},pt.createElement("img",{className:zy.menuIcon,src:m_,alt:D("Get Support")}),D("Get Support"),pt.createElement("div",{className:zy.itemInfo},pt.createElement("span",{className:zy.small},"@",a.Fkn),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),pt.createElement("div",{className:zy.block},pt.createElement("div",{className:zy.item,onClick:ge},pt.createElement("img",{className:zy.menuIcon,src:n_,alt:D("Use Responsibly")}),D("Use Responsibly"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!a.TI6&&a.UMQ&&pt.createElement("div",{className:zy.block},pt.createElement("div",{className:zy.item,onClick:Ne},pt.createElement("img",{className:zy.menuIcon,src:o_,alt:D("Install on Desktop")}),D("Install on Desktop"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!a.TI6&&r.cp&&pt.createElement("div",{className:zy.block},pt.createElement("div",{className:zy.item,onClick:Se},pt.createElement("img",{className:zy.menuIcon,src:r_,alt:D("Install on Mobile")}),D("Install on Mobile"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!a.TI6&&pt.createElement("div",{className:zy.block},!a.TI6&&pt.createElement("div",{className:zy.item,onClick:he},pt.createElement("img",{className:zy.menuIcon,src:Zx,alt:""}),D("About %app_name%",{app_name:a.C39}),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),pt.createElement("div",{className:zy.block},pt.createElement("div",{className:qi(zy.item,zy.item_red),onClick:Y},pt.createElement("img",{className:zy.menuIcon,src:a_,alt:r.ZH?D("Remove Wallet"):D("Exit")}),r.ZH?D("Remove Wallet"):D("Exit"),pt.createElement("i",{className:qi(zy.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),pt.createElement("div",{className:zy.version,onClick:Fe},a.C39," ",a.hl5," ",a.vOV)));case uo.PushNotifications:return pt.createElement(Ox,{isActive:p&&e,handleBackClick:ve,isInsideModal:g});case uo.Appearance:return pt.createElement(sx,{isActive:p&&e,theme:n,animationLevel:o,handleBackClick:ve,isInsideModal:g,isTrayIconEnabled:Ie,onTrayIconEnabledToggle:Be});case uo.Assets:return pt.createElement(wx,{isActive:p&&e,isInsideModal:g,onBack:ve});case uo.Security:return pt.createElement(Gx,{isActive:p&&e,handleBackClick:ve,isInsideModal:g,isAutoUpdateEnabled:xe,onAutoUpdateEnabledToggle:Le,onSettingsClose:ie});case uo.Dapps:return pt.createElement(kx,{isActive:p&&e,dapps:m,handleBackClick:ve,isInsideModal:g});case uo.Language:return pt.createElement(Dx,{isActive:p&&e,langCode:s,handleBackClick:ve,isInsideModal:g});case uo.About:return pt.createElement(Yy,{isActive:p&&e,handleBackClick:ve,isInsideModal:g,theme:n});case uo.Disclaimer:return pt.createElement(Tx,{isActive:p&&e,handleBackClick:ve,isInsideModal:g});case uo.NativeBiometricsTurnOn:return pt.createElement(ax,{isActive:p&&e,isInsideModal:g,handleBackClick:ve});case uo.SelectTokenList:return pt.createElement(Qx,{isActive:p&&e,isInsideModal:g,handleBackClick:ye});case uo.WalletVersion:return pt.createElement(Xx,{isActive:p&&e,currentVersion:y,handleBackClick:ve,isInsideModal:g,wallets:ee});case uo.LedgerConnectHardware:return pt.createElement("div",{className:zy.slide},pt.createElement(qb,{isActive:p&&e,isStatic:!g,className:zy.nestedTransition,onBackButtonClick:ve,onConnected:Ae,onClose:De}));case uo.LedgerSelectWallets:return pt.createElement("div",{className:zy.slide},pt.createElement(mC,{isActive:p&&e,isStatic:!g,onBackButtonClick:ve,onClose:De}));case uo.HiddenNfts:return pt.createElement(_x,{isActive:p&&e,handleBackClick:ye,isInsideModal:g})}}return rt(()=>fv(g?De:ve),[g]),rt(()=>{if(r.TF)return Fh(M.current,{onSwipeRightStart:()=>{r.bA?ve():De(),P()},onCancel:()=>{S({state:H.current}),R()}})},[P,R,H]),pt.createElement("div",{className:zy.wrapper},pt.createElement(Qh,{ref:M,name:Ab(),className:qi(g?ml.transition:zy.transitionContainer,"custom-scroll"),activeKey:F,slideClassName:qi(g&&ml.transitionSlide),withSwipeControl:!0,onStop:Cd()?re:void 0},Ue),pt.createElement(Ix,{isOpen:$,isTestnet:i,isCopyStorageEnabled:b,onShowAllWalletVersions:Pe,onClose:ce}),pt.createElement(th,{isOpen:j,onClose:Oe}),r.uh&&pt.createElement(nx,{isInsideModal:g}))}));function E_(){window.open(a.h4K,"_blank","noopener")}const k_=ut(zt(e=>({isMediaViewerOpen:Boolean(e.mediaViewer.mediaId)}))(function(e){let{children:t,isOpen:n,onClose:o,isMediaViewerOpen:i}=e;const s=qi(zy.modalDialog,!(r.cp||a.hL1)&&zy.modalDialogWeb);return pt.createElement(bl,{hasCloseButton:!0,isOpen:n&&!i,dialogClassName:s,contentClassName:zy.modalContent,nativeBottomSheetKey:"settings",forceFullNative:!0,onClose:o},t)})),C_=ut(function(e){let{isActive:t,swapType:n,toAddress:o="",tokenIn:i,tokenOut:s}=e;const{cancelSwap:c,setSwapCexAddress:l,showNotification:d,setSwapScreen:u,requestOpenQrScanner:m}=$t(),p=Ki(),{isPortrait:f}=xs(),h=lt(),[g,v]=at(r.Et),[y,w,b]=Np(),[E,k]=at(!1),[C,N]=at(n!==ro.CrosschainFromWallet),S=uy(),A=g&&""===o,I=o.length>28?qt(o,14)||"":o,T=ri(()=>{k(!1),N(!1),u({state:f?no.Initial:no.None})});lc({isActive:t,onBack:T});const B=ri(()=>{const e=h.current;requestAnimationFrame(()=>{const t=e.selectionStart;w(),requestAnimationFrame(()=>{const n=t<=17?t:Math.max(0,e.value.length-(I.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)})})}),x=ri(async e=>{if(!e.length)return k(!1),void N(!1);const t=await ee("swapCexValidateAddress",{slug:s.slug,address:e});if(!t)return k(!1),void N(!1);k(!t.result),N(t.result)}),_=ri(()=>{b()}),L=ri(e=>{l({toAddress:e.trim()})}),D=ri(async()=>{try{const{type:e,text:t}=await Dd();"text/plain"===e&&(l({toAddress:t.trim()}),await x(t.trim()))}catch(e){d({message:p("Error reading clipboard")}),v(!1)}});rt(()=>{x(o)},[o,x]);const O=ri(()=>{Td(),u({state:no.Password})}),M=ri(()=>{r.pz&&(0,r.v3)()?alert("Scanning is temporarily not available"):(m(),c())}),F=p("$swap_from_to",{from:null==i?void 0:i.symbol,icon:pt.createElement("i",{className:qi("icon-chevron-right",CS.swapArrowIcon),"aria-hidden":!0}),to:null==s?void 0:s.symbol});return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:F,onClose:c}),pt.createElement("div",{className:qi(CS.scrollContent,CS.selectBlockchainBlock,"custom-scroll")},pt.createElement(Nh,{play:t,noLoop:!1,nonInteractive:!0,tgsUrl:Qf.bill,previewUrl:Qf.billPreview,size:a.igk}),function(){if(n===ro.CrosschainFromWallet)return pt.createElement(pt.Fragment,null,pt.createElement("div",{className:CS.inputAddress},pt.createElement(Ah,{ref:h,isRequired:!0,placeholder:p("Your address on another blockchain"),value:y?o:I,onInput:L,onFocus:B,onBlur:_,wrapperClassName:CS.inputAddressWrapper},S&&pt.createElement(dl,{isSimple:!0,className:qi(CS.inputButton,A&&CS.inputButtonShifted),onClick:M,ariaLabel:p("Scan QR Code")},pt.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),A&&pt.createElement(dl,{isSimple:!0,className:CS.inputButton,onClick:D,ariaLabel:p("Paste")},pt.createElement("i",{className:"icon-paste","aria-hidden":!0})))),function(){const e=E?p("Incorrect address."):p("Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.",{blockchain:QC(null==s?void 0:s.chain)});return pt.createElement(Qh,{name:"fade",activeKey:E?0:1,slideClassName:CS.blockchainHintWrapper},pt.createElement("span",{className:qi(CS.blockchainHintText,E&&CS.blockchainHintTextError)},e))}())}(),pt.createElement("div",{className:qi(CS.blockchainButtons,ml.footerButtons)},pt.createElement(dl,{onClick:T,className:ml.buttonHalfWidth},p("Close")),pt.createElement(dl,{isPrimary:!0,isDisabled:!C,className:ml.buttonHalfWidth,onClick:O},p("Continue")))))}),N_="e8xjMuq6",S_="n91WXWIY",A_="nOPyXt4f",I_=ut(zt(e=>{var t;return{accountChains:null===(t=sn(e))||void 0===t?void 0:t.byChain,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}})(function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,playAnimation:r,firstButtonText:i,secondButtonText:s,swapType:c,toAddress:l="",accountChains:d,isSensitiveDataHidden:u,onFirstButtonClick:m,onSecondButtonClick:p,isFirstButtonDisabled:f}=e;const h=Ki(),g=Km({from:t,to:n,toAddress:l,accountChains:d}),v=st(()=>Boolean(l&&Object.values(d??{}).some(e=>{let{address:t}=e;return t===l})),[d,l]);return pt.createElement(pt.Fragment,null,function(){if(c!==ro.CrosschainFromWallet||g)return pt.createElement(Nh,{play:r,noLoop:!1,nonInteractive:!0,className:"TY_nyPoa",tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview})}(),pt.createElement(OT,{isSensitiveDataHidden:u,tokenIn:t,amountIn:a,tokenOut:n,amountOut:o}),c!==ro.OnChain&&pt.createElement("div",{className:S_},pt.createElement("span",{className:A_},h("Please note that it may take up to a few hours for tokens to appear in your wallet."))),function(){if(c!==ro.CrosschainFromWallet||v)return;const e=ua(null==n?void 0:n.chain)?n.chain:void 0;return pt.createElement("div",{className:S_},pt.createElement("span",{className:A_},h("$swap_changelly_from_ton_description",{blockchain:pt.createElement("span",{className:"bTumpDcM"},QC(null==n?void 0:n.chain))})),pt.createElement(Ck,{chain:e,address:l,copyNotification:h("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:"qcMvwyr2"}))}(),function(){if(i||s)return pt.createElement("div",{className:"JuY14PzG"},i&&pt.createElement(dl,{className:N_,onClick:m,isDisabled:f},i),s&&pt.createElement(dl,{className:N_,onClick:p},s))}())})),T_=ut(function(e){let{isActive:t,tokenIn:n,tokenOut:a,amountIn:o,amountOut:r,swapType:i,toAddress:s,onInfoClick:c,onStartSwap:l,onClose:d,isDetailsDisabled:u}=e;const m=Ki();return lc({isActive:t,onBack:d}),pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:m("Swap Placed"),onClose:d}),pt.createElement("div",{className:qi(CS.scrollContent,"custom-scroll")},pt.createElement(I_,{tokenIn:n,amountIn:o,tokenOut:a,amountOut:r,swapType:i,toAddress:s,playAnimation:t,firstButtonText:m("Details"),secondButtonText:m("Repeat"),onFirstButtonClick:c,onSecondButtonClick:l,isFirstButtonDisabled:u}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:d,isPrimary:!0},m("Close")))))}),B_=ut(function(e){let{isActive:t,isLoading:n,error:o,children:r,onSubmit:i,onBack:s}=e;const{cancelSwap:c,clearSwapError:l}=$t(),d=Ki();return lc({isActive:t,onBack:s}),pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:d("Confirm Swap"),onClose:c}),pt.createElement(ig,{isActive:t,isLoading:n,withCloseButton:a.UMQ,error:o,operationType:"swap",submitLabel:d("Swap"),cancelLabel:d("Back"),onSubmit:i,onCancel:s,onUpdate:l,skipAuthScreen:!0},r))}),x_=ut(function(e){let{isActive:t,tokenIn:n,tokenOut:o,amountIn:r,amountOut:i,payinAddress:s,payoutAddress:c,payinExtraId:l,activity:d,accountChains:u,onClose:m}=e;const p=Ki(),[f,h]=at(!1),g=st(()=>Date.now(),[]),{qrCodeRef:v,isInitialized:y}=NN({address:s,isActive:t,hiddenClassName:CS.qrCodeHidden,hideLogo:!0}),w=!l,b=Km({from:n,to:o,toAddress:c,accountChains:u});lc({isActive:t,onBack:m});const E=ri(()=>{h(!0)});return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:p(f?"Swap Expired":b?"Swapping":"Waiting for Payment"),onClose:m}),pt.createElement("div",{className:qi(CS.scrollContent,CS.selectBlockchainBlock,"custom-scroll")},pt.createElement(OT,{tokenIn:n,amountIn:r,tokenOut:o,amountOut:i}),pt.createElement(Qh,{name:"fade",activeKey:f?1:0},function(){if(f){var e;const t=d&&"cex"in d?null===(e=d.cex)||void 0===e?void 0:e.transactionId:void 0;return pt.createElement("div",{className:CS.changellyInfoBlock},pt.createElement("span",{className:CS.changellyImportantRed},p("The time for sending coins is over.")),pt.createElement("span",{className:CS.changellyDescription},p("$swap_changelly_support",{livechat:pt.createElement("a",{href:a.o$d,target:"_blank",rel:"noreferrer",className:CS.changellyDescriptionBold},p("Changelly Live Chat")),email:pt.createElement("span",{className:CS.changellyDescriptionBold},a.HWN)})),t&&pt.createElement(Ck,{text:t,copyNotification:p("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:CS.changellyTextField}))}if(b)return pt.createElement("div",{className:CS.changellyInfoBlock},pt.createElement("span",{className:CS.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")));const t=ua(null==n?void 0:n.chain)?n.chain:void 0;return pt.createElement("div",{className:CS.changellyInfoBlock},pt.createElement("span",{className:CS.changellyDescription},p("$swap_changelly_to_ton_description1",{value:pt.createElement("span",{className:CS.changellyDescriptionBold},Ii(Number(r),(null==n?void 0:n.symbol)??"",!0)),blockchain:pt.createElement("span",{className:CS.changellyDescriptionBold},QC(null==n?void 0:n.chain)),time:pt.createElement(LT,{timestamp:g,deadline:a.JWy,onCompleted:E})})),pt.createElement(Ck,{chain:t,address:s,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0,className:CS.changellyTextField}),function(){if(l)return pt.createElement("div",{className:CS.textFieldWrapperFullWidth},pt.createElement("span",{className:CS.textFieldLabel},p("Memo")),pt.createElement(Ck,{chain:"ton",address:l,copyNotification:p("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:CS.changellyTextField}))}(),w&&pt.createElement("div",{className:qi(CS.qrCode,!y&&CS.qrCodeHidden),ref:v}),pt.createElement("span",{className:CS.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")))}()),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{isPrimary:!0,onClick:m},p("Close")))))}),__=[no.Password,no.SelectTokenFrom,no.SelectTokenTo],L_=ut(zt(e=>{var t;const n=dn(e),a=sn(e),o=null==n||null===(t=n.activities)||void 0===t?void 0:t.byId;return{currentSwap:e.currentSwap,swapType:No(e),swapTokens:Eo(e),activityById:o,accountChains:null==a?void 0:a.byChain}})(function(e){let{currentSwap:{state:t,tokenInSlug:n,tokenOutSlug:a,amountIn:o="0",amountOut:r="0",isLoading:i,error:s,activityId:c,toAddress:l,payinAddress:d,payoutAddress:u,payinExtraId:m,shouldResetOnClose:p},swapType:f,swapTokens:h,activityById:g,accountChains:v}=e;const{startSwap:y,cancelSwap:w,setSwapScreen:b,submitSwap:E,showActivityInfo:k,submitSwapCex:C,addSwapToken:N,setSwapTokenIn:S,setSwapTokenOut:A}=$t(),I=Ki(),{isPortrait:T}=xs(),B=t!==no.None,{renderingKey:x,nextKey:_,updateNextKey:L}=Ib(t,B),D=st(()=>null==h?void 0:h.find(e=>e.slug===n),[n,h]),O=st(()=>null==h?void 0:h.find(e=>e.slug===a),[h,a]),[M,F]=at(f),[P,R]=at(o),[U,W]=at(r),[H,$]=at(D),[V,z]=at(O),[K,q]=at();rt(()=>{if(!B||!c||null==g||!g[c])return void q(void 0);const e=g[c];if(q(e),"swap"===e.kind&&f===ro.CrosschainToWallet){var t;const n=null===(t=e.cex)||void 0===t?void 0:t.status;"exchanging"!==n&&"confirming"!==n||b({state:no.Complete})}},[g,c,B,f]);const j=ri(e=>{R(o),W(r),$(D),z(O),F(f),f!==ro.OnChain?C({password:e}):E({password:e})}),Y=ri(()=>{t!==no.Password?(t!==no.SelectTokenTo&&t!==no.SelectTokenFrom||b({state:T?no.Initial:no.None}),t===no.Blockchain&&b({state:T?no.Initial:no.None})):f===ro.CrosschainFromWallet?b({state:no.Blockchain}):b({state:T?no.Initial:no.None})}),G=ri(()=>{c&&(w({shouldReset:!0}),k({id:c}))}),Q=ri(()=>{w({shouldReset:T||p}),L()}),X=ri(()=>{w({shouldReset:!0})}),Z=ri(e=>{N({token:e}),(x===no.SelectTokenTo?A:S)({tokenSlug:e.slug})}),J=ri(()=>{y({amountIn:P,tokenInSlug:null==H?void 0:H.slug,tokenOutSlug:null==V?void 0:V.slug})});function ee(e,t,n){switch(n){case no.Initial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:I("$swap_action"),onClose:w}),pt.createElement(HS,{isActive:e}));case no.Blockchain:return pt.createElement(C_,{isActive:e,toAddress:l,tokenIn:D,tokenOut:O,swapType:f});case no.WaitTokens:return pt.createElement(x_,{isActive:e,tokenIn:H,tokenOut:V,amountIn:P,amountOut:U,payinAddress:d,payoutAddress:u,payinExtraId:m,accountChains:v,activity:K,onClose:X});case no.Password:return pt.createElement(B_,{isActive:e,isLoading:i,error:s,onSubmit:j,onBack:Y},function(){if(D&&O&&o&&r)return pt.createElement(wC,{tokenIn:D,withChainIcon:!0,tokenOut:O,text:Ii(o,D.symbol??"",!0),secondText:Ii(r,O.symbol??"",!0),className:Cd()?void 0:CS.transactionBanner})}());case no.Complete:return pt.createElement(T_,{isActive:e,tokenIn:H,tokenOut:V,amountIn:P,amountOut:U,swapType:M,toAddress:l,onClose:X,onInfoClick:G,onStartSwap:J,isDetailsDisabled:!c});case no.SelectTokenFrom:case no.SelectTokenTo:return pt.createElement(tN,{isActive:e,shouldUseSwapTokens:!0,shouldFilter:n===no.SelectTokenTo,onTokenSelect:Z,onBack:Y,onClose:X})}}const te=__.includes(x)||x===no.Complete&&M!==ro.OnChain;return pt.createElement(bl,{isOpen:B,onClose:w,noBackdropClose:!0,dialogClassName:CS.modalDialog,nativeBottomSheetKey:"swap",forceFullNative:te,hasCloseButton:!0,onCloseAnimationEnd:Q},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:x,nextKey:_,onStop:L},ee))})),D_=ut(function(e){let{isActive:t,amount:n,symbol:a,txId:o,tokenSlug:r,toAddress:i,comment:s,decimals:c,nfts:l,onInfoClick:d,onClose:u}=e;const{startTransfer:m}=$t(),p=Ki(),{isPortrait:f}=xs(),h=Boolean(null==l?void 0:l.length);lc({isActive:t,onBack:u}),rt(()=>t?rs({onEnter:u}):void 0,[t,u]);const g=ri(()=>{m({isPortrait:f,tokenSlug:r,toAddress:i,amount:n,comment:s})});return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:p(h?"NFT has been sent!":"Coins have been sent!"),onClose:u}),pt.createElement("div",{className:ml.transitionContent},h?pt.createElement(pt.Fragment,null,pt.createElement(Nh,{play:t,noLoop:!1,nonInteractive:!0,className:BE.sticker,tgsUrl:Qf.thumbUp,previewUrl:Qf.thumbUpPreview}),1===l.length?pt.createElement(fk,{nft:l[0]}):pt.createElement(VC,{nfts:l}),Boolean(o)&&pt.createElement("div",{className:qi(BE.buttons,BE.buttonsAfterNft)},pt.createElement(dl,{className:BE.button,onClick:d},p("Details")))):pt.createElement(xN,{playAnimation:t,amount:n?-n:void 0,tokenSymbol:a,firstButtonText:o?p("Details"):void 0,secondButtonText:p("Repeat"),onFirstButtonClick:d,onSecondButtonClick:g,decimals:c}),pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:u,isPrimary:!0},p("Close")))))}),O_=ut(function(e){let{amount:t,label:n,currency:a="",symbol:o,fractionDigits:r,feeText:i,className:s,labelClassName:c}=e;const l=Ki();return pt.createElement(pt.Fragment,null,pt.createElement("div",{className:qi("vEby849g",c)},n),pt.createElement("div",{className:qi("ghrNkOZk",s)},Ii(t,a,!0,r),o&&pt.createElement("span",{className:"LPchTYAT"},o),Boolean(i)&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:"XPUDvAqg"},l("Fee")),pt.createElement("span",{className:"SkacqSTU"},i))))}),M_=ut(zt(e=>({currentAccountId:e.currentAccountId,currentTransfer:e.currentTransfer,accounts:on(e)}))(function(e){let{currentTransfer:{tokenSlug:t,amount:n,toAddress:o,resolvedAddress:r,fee:i,realFee:s,comment:c,shouldEncrypt:l,promiseId:d,isLoading:u,toAddressName:m,isToNewAddress:p,isScam:f,binPayload:h,nfts:g,isGaslessWithStars:v,diesel:y,stateInit:w},token:b,currentAccountId:E,accounts:k,isActive:C,savedAddresses:N,onBack:S,onClose:A}=e;const{submitTransferConfirm:I}=$t(),T=Ki(),B=Boolean(null==g?void 0:g.length);B&&(t=a.Tu9.slug);const x=wa(t),_=st(()=>ek({address:o,chain:x,currentAccountId:E,accounts:k,savedAddresses:N}),[k,x,E,N,o])||m,L=r===a.pV9,D=r===a.WVU[0],O=Io({fee:i,realFee:s,diesel:y,tokenSlug:t});lc({isActive:C,onBack:S});const M=ri(()=>{Td(),I()}),F=null!=g&&g.length?Math.ceil(g.length/a.gR8)*a.WHY/60:void 0,P=T(L||D?B?"Burn NFT":"Burn":v?"Pay fee with %stars_symbol%":"Confirm",v?{stars_symbol:a.xFF}:void 0);return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:T("Is it all ok?"),onClose:A}),pt.createElement("div",{className:ml.transitionContent},B?1===g.length?pt.createElement(fk,{nft:g[0],withMediaViewer:!0}):pt.createElement(VC,{nfts:g}):pt.createElement(Nh,{size:a.jzp,play:C,noLoop:!1,nonInteractive:!0,className:qi("ZDG5rllO","ol7Kgi48"),tgsUrl:Qf.bill,previewUrl:Qf.billPreview}),pt.createElement("div",{className:bC},T("Receiving Address")," ",p&&pt.createElement(Xb,{emoji:"⚠️",size:"small",message:T("This address is new and never received transfers before."),tooltipClassName:"lcmy9IMt"})),pt.createElement(Ck,{chain:x,address:r,addressName:_,isScam:f,copyNotification:T("Address was copied!"),className:kC}),function(){if(!O.realFee||!b)return;const e=pt.createElement(_k,{terms:O.realFee.terms,precision:O.realFee.precision,token:b,symbolClassName:"aNzt5kkC"});return B?pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},T("Fee")),pt.createElement("div",{className:CC},e)):pt.createElement(O_,{label:T("Amount"),amount:(0,zn.nI)(n??0n,null==b?void 0:b.decimals),symbol:(null==b?void 0:b.symbol)??"",feeText:e,fractionDigits:null==b?void 0:b.decimals})}(),h||w?pt.createElement(pt.Fragment,null,h&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},T("Signing Data")),pt.createElement(Ck,{text:h,copyNotification:T("Data was copied!"),className:kC})),w&&pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},T("Contract Initialization Data")),pt.createElement(Ck,{text:w,copyNotification:T("Data was copied!"),className:kC})),pt.createElement("div",{className:AC},bi(T("$signature_warning")))):c?pt.createElement(pt.Fragment,null,pt.createElement("div",{className:bC},T(l?"Encrypted Message":"Comment or Memo")),pt.createElement("div",{className:qi(CC,"NH87E1kW",NC)},c)):void 0,g&&(L||D&&(null==g?void 0:g.length)>1)&&pt.createElement("div",{className:"CWZdgy5e"},1===(null==g?void 0:g.length)?bi(T("Are you sure you want to burn this NFT? It will be lost forever.")):[bi(T("$multi_burn_nft_warning",{amount:g.length}))," ",bi(T("$multi_send_nft_warning",{duration:F}))]),pt.createElement("div",{className:qi(ml.buttons,ml.buttonsInsideContentWithScroll)},pt.createElement(dl,{className:ml.button,onClick:d?A:S},T(d?"Cancel":"Edit")),pt.createElement(dl,{isPrimary:!0,isLoading:u,isDestructive:L||f,className:ml.button,onClick:M},P))))})),F_=ut(function(e){let{nfts:t,sentNftsCount:n=0,toAddress:o,onClose:r}=e;const i=Ki(),s=n<t.length,c=o===a.pV9,l=o===a.WVU[0],d=s?i((c||l?"Burning":"Sending")+": %n% of %m% NFTs...",{n,m:t.length}):i("Sent"),u=Math.ceil(t.length/a.gR8)*a.WHY/60;return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:d}),pt.createElement("div",{className:ml.transitionContent},s&&pt.createElement(pt.Fragment,null,pt.createElement(kb,{className:"gigiDFmZ"}),pt.createElement("div",{className:"vKJsXVsk"},i("$multi_send_nft_warning",{duration:u}))),1===t.length?pt.createElement(fk,{nft:t[0]}):pt.createElement(VC,{nfts:t}),!s&&pt.createElement("div",{className:ml.buttons},pt.createElement(dl,{onClick:r,isPrimary:!0},i("Close")))))}),P_=ut(function(e){let{isActive:t,isLoading:n,isBurning:o,error:r,children:i,onSubmit:s,onCancel:c,isGaslessWithStars:l}=e;const{cancelTransfer:d,clearTransferError:u}=$t(),m=Ki();lc({isActive:t,onBack:c});const p=o?"Confirm Burning":"Confirm Sending",f=l?m("Pay fee with %stars_symbol%",{stars_symbol:a.xFF}):m("Confirm");return pt.createElement(pt.Fragment,null,!Cd()&&pt.createElement(Cv,{title:m(p),onClose:d}),pt.createElement(ig,{isActive:t,isLoading:n,withCloseButton:Boolean(i),operationType:"transfer",error:r,submitLabel:f,cancelLabel:m("Back"),onSubmit:s,onCancel:c,onUpdate:u},i))}),R_=ut(zt(e=>{const t=dn(e);return{currentTransfer:e.currentTransfer,tokens:jn(e),savedAddresses:null==t?void 0:t.savedAddresses,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isMultichainAccount:Cn(e,e.currentAccountId)}})(function(e){let{currentTransfer:{state:t,amount:n,toAddress:o,comment:r,error:i,isLoading:s,txId:c,tokenSlug:l,nfts:d,sentNftsCount:u,diesel:m},tokens:p,savedAddresses:f,isMediaViewerOpen:h,isMultichainAccount:g}=e;const{submitTransferConfirm:v,submitTransfer:y,setTransferScreen:w,cancelTransfer:b,showActivityInfo:E}=$t(),k=Ki(),{isPortrait:C}=xs(),N=t!==Xa.None,{screenHeight:S}=xp(),A=st(()=>null==p?void 0:p.find(e=>e.slug===l),[l,p]),I=null==A?void 0:A.decimals,T=vt(n,!0),B=(null==A?void 0:A.symbol)||"",x=Boolean(null==d?void 0:d.length),_=o===a.pV9,{renderingKey:L,nextKey:D,updateNextKey:O}=Ib(t,N);rt(()=>t===Xa.Confirm?rs({onEnter:()=>v()}):void 0,[t,v]);const M=ri(e=>{y({password:e})}),F=ri(()=>{t===Xa.Confirm&&w({state:Xa.Initial}),t===Xa.Password&&w({state:Xa.Confirm})}),P=ri(()=>{b({shouldReset:!0}),E({id:c})}),R=ri(()=>{b({shouldReset:C}),O()}),U=ri(()=>{b({shouldReset:!0})}),W=ri(()=>{y()});function H(e,t,p){var h,v;switch(p){case Xa.Initial:return pt.createElement(pt.Fragment,null,pt.createElement(Cv,{title:k(x?"Send NFT":"Send"),onClose:U}),pt.createElement(QS,null));case Xa.Confirm:return pt.createElement(M_,{isActive:e,token:A,savedAddresses:f,onBack:C?F:R,onClose:U});case Xa.Password:return pt.createElement(P_,{isActive:e,isLoading:s,isBurning:_,error:i,onSubmit:M,onCancel:U,isGaslessWithStars:"stars-fee"===(null==m?void 0:m.status)},pt.createElement(wC,{tokenIn:A,imageUrl:null==d||null===(h=d[0])||void 0===h?void 0:h.thumbnail,withChainIcon:g,text:x?d.length>1?k("%amount% NFTs",{amount:d.length}):(null===(v=d[0])||void 0===v?void 0:v.name)||"NFT":Ai((0,zn.nI)(n,I),B),className:Cd()?void 0:"Pxmu6Hot",secondText:qt(o)}));case Xa.ConnectHardware:return pt.createElement(qb,{isActive:e,onConnected:W,onClose:U});case Xa.ConfirmHardware:return pt.createElement(Db,{text:k("Please confirm transaction on your Ledger"),error:i,onClose:U,onTryAgain:W});case Xa.Complete:return((null==d?void 0:d.length)||0)<=a.gR8?pt.createElement(D_,{isActive:e,nfts:d,amount:T,symbol:B,txId:c,tokenSlug:l,toAddress:o,comment:r,onInfoClick:P,onClose:U,decimals:I}):pt.createElement(F_,{nfts:d,sentNftsCount:u,toAddress:o,onClose:U})}}return pt.createElement(bl,{isOpen:N&&!h,noBackdropClose:!0,dialogClassName:"NvbEOoOC",nativeBottomSheetKey:"transfer",forceFullNative:S<=762||L===Xa.Password,onClose:U,onCloseAnimationEnd:R},pt.createElement(Qh,{name:Ab(),className:qi(ml.transition,"custom-scroll"),slideClassName:ml.transitionSlide,activeKey:L,nextKey:D,onStop:O},H))})),U_=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"],W_=ut(zt(e=>({lastRequestedAt:e.confettiRequestedAt}))(function(e){let{lastRequestedAt:t}=e;const n=lt(),a=lt([]),o=lt(!1),r=xp(),i=ft(),{isPortrait:s}=xs(),c=s?50:100,l=ri((e,t)=>{!function(e,t,n,a){for(let o=0;o<a;o++){const a=o%2,r={x:t*(a?-.1:1.1),y:.75*n},i=Math.random()*t*1.5,s={x:a?i:-1*i,y:-n/2-Math.random()*n},c=U_[Math.floor(Math.random()*U_.length)],l=10;e.current.push({pos:r,size:l,color:c,velocity:s,flicker:l,flickerFrequency:.2*Math.random(),rotation:0,lastDrawnAt:Date.now(),frameCount:0})}}(a,e,t,c)}),d=ri(()=>{if(!n.current||!o.current)return;const e=n.current,t=e.getContext("2d");if(!t)return;const{width:r,height:i}=e;t.clearRect(0,0,r,i);const s=new Set([]);a.current.forEach((e,n)=>{const{pos:o,velocity:r,size:c,color:l,flicker:d,flickerFrequency:u,rotation:m,lastDrawnAt:p,frameCount:f}=e,h=(Date.now()-p)/1e3,g={x:o.x+r.x*h,y:o.y+r.y*h},v={x:.98*r.x,y:r.y+=1e3*h},y=c*Math.abs(Math.sin(f*u)),w=5*f*u*(Math.PI/180),b=f+1,E=Date.now();g.y>i+e.size?s.add(e):(a.current[n]={...e,pos:g,velocity:v,flicker:y,rotation:w,lastDrawnAt:E,frameCount:b},t.fillStyle=l,t.beginPath(),t.ellipse(o.x,o.y,c,d,m,0,2*Math.PI),t.fill())}),a.current=a.current.filter(e=>!s.has(e)),a.current.length?(0,we.YS)(d):o.current=!1});if(yt(e=>{let n,[a]=e;return t&&a!==t&&(l(r.width,r.height),n=window.setTimeout(i,1e4),o.current||(o.current=!0,(0,we.YS)(d))),()=>{window.clearTimeout(n)}},[t,i,d]),t&&!(Date.now()-t>1e4))return pt.createElement("div",{id:"Confetti",className:"NEu40vNs"},pt.createElement("canvas",{ref:n,width:r.width,height:r.height}))})),H_=ut(zt(e=>{var t;const n=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state)||e.currentDappTransfer.state!==Xa.None;return{isOpen:e.isLoadingOverlayOpen&&!n}})(function(e){let{isOpen:t}=e;const{closeLoadingOverlay:n}=$t(),a=Ki(),[o,r,i]=Np(!1),{shouldRender:s,ref:c}=rl({isOpen:t,withShouldRender:!0});if(rt(()=>{s||i()},[s]),_v(r,s?7e3:void 0,[s]),s)return pt.createElement(ul,null,pt.createElement("div",{ref:c,className:"JqqCZr7K",onClick:()=>n()},pt.createElement(kb,{color:"white",className:"Ey6IGxkf"}),pt.createElement(dl,{shouldStopPropagation:!0,className:qi("WFfpuJBO",o&&"UDIRXOO8"),onClick:n},a("Close"))))})),$_="xYgMXl3B",V_=new Set([Ya.Main,Ya.Settings,Ya.Explore]),z_=r.cp&&!r.ig||a.VL7?5*xo.pY:void 0;let K_=0;const q_=Object.keys(Ya).length/2,j_=ut(zt(e=>{var t;return{appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,isExploreOpen:e.isExploreOpen,areSettingsOpen:e.areSettingsOpen,isQrScannerOpen:e.isQrScannerOpen,isFullscreen:Boolean(e.isFullscreen),theme:e.settings.theme,accentColorIndex:null===(t=pn(e))||void 0===t?void 0:t.accentColorIndex}})(function(e){let{appState:t,accountId:n,isBackupWalletModalOpen:o,isHardwareModalOpen:i,isQrScannerOpen:s,isExploreOpen:c,isFullscreen:l,areSettingsOpen:d,theme:u,accentColorIndex:m}=e;const{closeBackupWalletModal:p,closeHardwareWalletModal:f,closeSettings:h,cancelCaching:g,closeQrScanner:v,checkAppVersion:y}=$t(),{isPortrait:w}=xs(),b=!w,[E,k]=Np(!1),[C,N]=Np(),S=E?Ya.Inactive:d&&!b?Ya.Settings:c&&w?Ya.Explore:t,A=w&&V_.has(S),I=A?"semiFade":w?r.Ni?"slideFadeAndroid":r.pz?"slideLayers":"slideFade":"semiFade";function T(e,t,n){switch(n){case Ya.Auth:return pt.createElement(bb,null);case Ya.Main:{const t=qi($_,"BY5oYr5T","custom-scroll","app-slide-content");return pt.createElement(Qh,{name:"semiFade",activeKey:K_,shouldCleanup:!0,nextKey:S===Ya.Auth&&C?K_+1:void 0,slideClassName:t},pt.createElement(cT,{key:K_,isActive:e}))}case Ya.Explore:return pt.createElement(dC,{isActive:e});case Ya.Settings:return pt.createElement(b_,{isActive:e});case Ya.Ledger:return pt.createElement(fC,{isOpen:!0,noBackdropClose:!0,onClose:Ig.ks});case Ya.Inactive:return pt.createElement(Mv,null)}}return _v(N,S!==Ya.Auth||C?void 0:1200),xv(y,a.TI6?void 0:z_),rt(()=>{document.documentElement.classList.toggle("with-bottombar",A)},[A]),rt(()=>{cr(),av=()=>{document.title=`${a.C39} ${a.LaL}`,k(),h(),g()}},[k]),qd(()=>{ee("setIsAppFocused",!1)},()=>{ee("setIsAppFocused",!0)},r.Fe),it(()=>{document.documentElement.classList.add("is-rendered"),xl()},[]),it(()=>{document.documentElement.classList.toggle("is-fullscreen",l),requestAnimationFrame(cr)},[l]),yt(()=>{n&&(K_+=1)},[n]),Pg("body",cg(u),m),function(){const{observe:e}=Iv({throttleMs:350});Bv=e}(),pt.createElement(pt.Fragment,null,r.cp&&!r.ig&&pt.createElement(zv,{withTitle:!0}),pt.createElement(Qh,{name:I,activeKey:S,renderCount:q_,shouldCleanup:!A,className:"XDsN0suQ",slideClassName:qi($_,A&&"cumlVCAy","custom-scroll")},T),b&&pt.createElement(k_,{isOpen:d,onClose:h},pt.createElement(b_,{isActive:!!d,isInsideModal:!0})),pt.createElement(Sg,null),pt.createElement(RB,null),!E&&pt.createElement(pt.Fragment,null,pt.createElement(Sb,null),pt.createElement(fC,{isOpen:i,onClose:f}),pt.createElement(yT,{isOpen:o,onClose:p}),pt.createElement(R_,null),!a.TI6&&pt.createElement(pt.Fragment,null,pt.createElement(L_,null),pt.createElement(jB,null)),pt.createElement(xT,null),pt.createElement(KT,null),pt.createElement(HT,null),pt.createElement(CE,null),pt.createElement(_E,null),pt.createElement(Pk,null),pt.createElement(mT,null),pt.createElement(kT,null),pt.createElement(qT,null),pt.createElement(bT,null),pt.createElement(TT,{isOpen:s,onClose:v}),!r.bA&&pt.createElement(pt.Fragment,null,pt.createElement(YT,null),pt.createElement(Uk,null),pt.createElement(W_,null),a.UMQ?pt.createElement(kl,null):pt.createElement(Av,null),pt.createElement(H_,null))),A&&pt.createElement(oB,null))}));var Y_,G_,Q_;a.Oig&&console.log(">>> INIT"),a.rkj&&(0,ji.Z3)(),a.UMQ&&async function(){var e;e=t.Ii.getPlatform(),rd=e,Kr.getStatusBarHeight().then(e=>{let{statusBarHeight:t}=e;fd=t,document.documentElement.style.setProperty("--status-bar-height",`${t}px`)}),Kr.getSafeAreaInsets().then(e=>{let{insets:{bottom:t,top:n}}=e;hd=n,document.documentElement.style.setProperty("--safe-area-bottom",`${t}px`)}),r.bA?zr.hide({fadeOutDuration:0}):("ios"===id()&&setTimeout(()=>{zr.hide({fadeOutDuration:600})},500),Vr.addListener("appUrlOpen",e=>{Date.now()-gd>500?$l(e.url):(0,o.MD)("[CAPACITOR] appUrlOpen event ignored",e)}),Vr.addListener("backButton",e=>{let{canGoBack:t}=e;t?window.history.back():Vr.exitApp()}),vd(await Kr.getSafeAreaInsets()),await Kr.addListener("safeAreaChanged",e=>{vd(e)}))}(),r.cp&&(null===(Y_=window.electron)||void 0===Y_||Y_.on(Zg.DEEPLINK,e=>{let{url:t}=e;$l(t)})),a.tKX&&(gr=null===(G_=window.Telegram)||void 0===G_?void 0:G_.WebApp,gr?(Br(),gr.lockOrientation(),gr.SecondaryButton.setParams({position:"bottom"}),gr.BackButton.hide(),gr.SettingsButton.hide(),gr.expand(),(0,r.v3)()&&(gr.onEvent("safeAreaChanged",Sr),gr.onEvent("contentSafeAreaChanged",Sr)),gr.onEvent("viewportChanged",function(e){let{isStateStable:t}=e;t&&cr()}),Sr(),function(){var e;const t=null===(e=gr)||void 0===e?void 0:e.BiometricManager;t&&!vr&&(vr=!0,t.init(()=>{const{isBiometricAvailable:e,biometricType:n,isAccessGranted:a,isAccessRequested:o}=t;yr=e&&(a||!o),"ios"===gr.platform&&(wr="face"===n,br="finger"===n)}))}(),gr.ready()):(0,o.SJ)("[telegram] Can't initialize Telegram Mini-App")),r.KI?Xd({noPubGlobal:!0}):r.bA&&Xd(),a.UMQ?(Q_=()=>{Jg.install(),ev()},ir.push(Q_),i.e(408).then(i.bind(i,408)).then(e=>{let{Keyboard:t}=e;t.addListener("keyboardWillHide",Jg.uninstall)})):(r.pz||r.Ni)&&window.visualViewport&&function(){const{visualViewport:e}=window;let t=e.height;function n(){const n=e.height,a=document.activeElement;n<t&&a&&function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||e.hasAttribute("contenteditable")}(a)?(Jg.install(),ev()):n>t&&Jg.uninstall(),t=n}e.addEventListener("resize",r.pz&&a.tKX?function(){(0,we.RK)(()=>{(0,we.YS)(n)})}:n)}(),(async e=>{r.ZH&&await async function(){await g();const e=Boolean(window.localStorage.getItem(a.pge)),t=Boolean(await v("accounts"));e&&!t&&window.localStorage.clear(),!e&&t&&await b()}(),await(null===(e=window.electron)||void 0===e?void 0:e.restoreStorage()),$t().init(),r.Fe?(0,o.MD)("API was not initialized because it was connected from a detached tab"):$t().initApi(),a.UMQ&&await async function(){var e;const t=null===(e=await Vr.getLaunchUrl())||void 0===e?void 0:e.url;t&&$l(t),gd=Date.now()}(),a.Oig&&console.log(">>> START INITIAL RENDER"),(0,we.RK)(()=>{Zc(pt.createElement(j_,null),document.getElementById("root")),function(){const e=document.createElement("div");e.textContent="₽",e.classList.add("visually-hidden"),document.body.appendChild(e),(0,we.RK)(()=>{document.body.removeChild(e)})}(),function(){if(!r.pz)return;let e,t=Date.now();function n(){e||Qg||(e=window.setInterval(Xg,5e3))}window.addEventListener("focus",()=>{const e=Date.now();e-t<100||(t=e,n(),Xg())}),window.addEventListener("blur",()=>{clearInterval(e),e=void 0}),document.hasFocus()&&(n(),Xg())}()}),a.Oig&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",()=>{console.warn("GLOBAL STATE",Wt())}),window.top===window&&(0,o.ef)()})()})()})();
//# sourceMappingURL=main.8b2eb6c65bce97f99914.js.map