{"version":3,"file":"524.49a54938cb061d0c8c8d.js","mappings":"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","sources":["webpack://mytonwallet/webpack/runtime/chunk loaded","webpack://mytonwallet/webpack/runtime/startup chunk dependencies","webpack://mytonwallet/./src/util/compression.ts","webpack://mytonwallet/./src/util/stream.ts","webpack://mytonwallet/./src/config.ts","webpack://mytonwallet/./src/lib/big.js/index.js","webpack://mytonwallet/./src/util/extensionMessageSerializer.ts","webpack://mytonwallet/./src/util/decimals.ts","webpack://mytonwallet/./src/util/assert.ts","webpack://mytonwallet/./src/util/logs.ts","webpack://mytonwallet/./src/util/createPostMessageInterface.ts","webpack://mytonwallet/./src/api/errors.ts","webpack://mytonwallet/./src/lib/rlottie/rlottie.worker.ts","webpack://mytonwallet/./src/util/fetch.ts","webpack://mytonwallet/./src/util/accentColor/constants.ts","webpack://mytonwallet/./src/lib/offscreen-canvas/offscreen-canvas.worker.ts","webpack://mytonwallet/./src/util/getCachedImageUrl.ts","webpack://mytonwallet/./src/util/colors.ts","webpack://mytonwallet/./src/lib/quantize.js","webpack://mytonwallet/webpack/bootstrap","webpack://mytonwallet/webpack/runtime/compat get default export","webpack://mytonwallet/webpack/runtime/define property getters","webpack://mytonwallet/webpack/runtime/ensure chunk","webpack://mytonwallet/webpack/runtime/get javascript chunk filename","webpack://mytonwallet/webpack/runtime/get mini-css chunk filename","webpack://mytonwallet/webpack/runtime/global","webpack://mytonwallet/webpack/runtime/hasOwnProperty shorthand","webpack://mytonwallet/webpack/runtime/publicPath","webpack://mytonwallet/webpack/runtime/importScripts chunk loading","webpack://mytonwallet/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(840).then(next);\n};","import { transformBytesByStream } from './stream';\r\n\r\nexport async function ungzip(input: BufferSource): Promise<Uint8Array> {\r\n  const decompressionStream = tryCreateDecompressionStream('gzip');\r\n  if (decompressionStream) {\r\n    return transformBytesByStream(input, decompressionStream);\r\n  }\r\n\r\n  // Fflate is a polyfill, so we load it only if necessary.\r\n  // Note: it's import `gunzipSync` exactly this way, otherwise the tree-shaking won't work.\r\n  const { gunzipSync } = await import('fflate');\r\n  return gunzipSync(bufferSourceToBytes(input));\r\n}\r\n\r\nfunction tryCreateDecompressionStream(format: CompressionFormat) {\r\n  try {\r\n    // If the format or `DecompressionStream` is not supported by the browser, this expression throws\r\n    return new DecompressionStream(format);\r\n  } catch {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nfunction bufferSourceToBytes(source: BufferSource): Uint8Array {\r\n  if (source instanceof ArrayBuffer) {\r\n    return new Uint8Array(source);\r\n  }\r\n  return new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\r\n}\r\n","export function transformBytesByStream(input: BufferSource, stream: GenericTransformStream): Promise<Uint8Array> {\r\n  const writer = stream.writable.getWriter();\r\n  void writer.write(input);\r\n  void writer.close();\r\n\r\n  return readBytesFromStream(stream.readable);\r\n}\r\n\r\n/**\r\n * Reads the whole readable binary stream into a Uint8Array\r\n */\r\nasync function readBytesFromStream(stream: ReadableStream): Promise<Uint8Array> {\r\n  const reader = stream.getReader();\r\n  const output: Uint8Array[] = [];\r\n  let totalSize = 0;\r\n  for (;;) {\r\n    const { value, done } = await reader.read();\r\n    if (done) {\r\n      break;\r\n    }\r\n    output.push(value);\r\n    totalSize += value.byteLength;\r\n  }\r\n\r\n  if (output.length === 1) {\r\n    return output[0];\r\n  }\r\n\r\n  const concatenated = new Uint8Array(totalSize);\r\n  let offset = 0;\r\n  for (const array of output) {\r\n    concatenated.set(array, offset);\r\n    offset += array.byteLength;\r\n  }\r\n  return concatenated;\r\n}\r\n","import type { ApiTonWalletVersion } from './api/chains/ton/types';\r\nimport type {\r\n  ApiBaseCurrency,\r\n  ApiChain,\r\n  ApiCurrencyRates,\r\n  ApiLiquidStakingState,\r\n  ApiNftMarketplace,\r\n  ApiNominatorsStakingState,\r\n  ApiSwapAsset,\r\n  ApiSwapDexLabel,\r\n  ApiTokenWithPrice,\r\n} from './api/types';\r\nimport type { AutolockValueType, LangCode, LangItem, TokenPeriod } from './global/types';\r\n\r\nexport const APP_ENV = process.env.APP_ENV;\r\n\r\nexport const IS_CORE_WALLET = false; // core wallet disable\r\n\r\nexport const APP_NAME = 'Dps Wallet'; // single name constant\r\n\r\nexport const APP_VERSION = process.env.APP_VERSION!;\r\nexport const APP_COMMIT_HASH = process.env.APP_COMMIT_HASH!;\r\nexport const APP_ENV_MARKER = APP_ENV === 'staging' ? 'Beta' : APP_ENV === 'development' ? 'Dev' : undefined;\r\nexport const EXTENSION_NAME = IS_CORE_WALLET ? 'TON Wallet' : 'MyTonWallet · My Wallet';\r\nexport const EXTENSION_DESCRIPTION = IS_CORE_WALLET\r\n  ? 'Set up your own multiple Wallet account on The Open Network'\r\n  : // eslint-disable-next-line @stylistic/max-len\r\n    'The most feature-rich TON+TRON wallet: multi-accounts, multi-send, Telegram Gifts and other collectibles, TON DNS+Proxy, and more.';\r\n\r\nexport const DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';\r\nexport const DEBUG_MORE = false;\r\nexport const DEBUG_API = false;\r\nexport const DEBUG_VIEW_ACCOUNTS = false;\r\n\r\nexport const IS_PRODUCTION = APP_ENV === 'production';\r\nexport const IS_TEST = APP_ENV === 'test';\r\nexport const IS_PERF = APP_ENV === 'perf';\r\nexport const IS_EXTENSION = process.env.IS_EXTENSION === '1';\r\nexport const IS_FIREFOX_EXTENSION = process.env.IS_FIREFOX_EXTENSION === '1';\r\nexport const IS_OPERA_EXTENSION = process.env.IS_OPERA_EXTENSION === '1';\r\nexport const IS_PACKAGED_ELECTRON = process.env.IS_PACKAGED_ELECTRON === '1';\r\nexport const IS_CAPACITOR = process.env.IS_CAPACITOR === '1';\r\nexport const IS_ANDROID_DIRECT = process.env.IS_ANDROID_DIRECT === '1';\r\nexport const IS_AIR_APP = process.env.IS_AIR_APP === '1';\r\nexport const IS_TELEGRAM_APP = process.env.IS_TELEGRAM_APP === '1';\r\n\r\nexport const ELECTRON_HOST_URL = 'https://dumb-host';\r\nexport const INACTIVE_MARKER = '[Inactive]';\r\nexport const PRODUCTION_URL = 'https://walletdps.netlify.app';\r\nexport const BETA_URL = IS_CORE_WALLET ? 'https://beta.wallet.ton.org' : 'https://beta.mytonwallet.app';\r\nexport const APP_INSTALL_URL = 'https://walletdps.netlify.app';\r\nexport const APP_REPO_URL = 'https://github.com/mytonwallet-org';\r\nexport const BASE_URL = process.env.BASE_URL;\r\nexport const BOT_USERNAME = process.env.BOT_USERNAME || 'DPStoken_bot';\r\n\r\nexport const SWAP_FEE_ADDRESS = process.env.SWAP_FEE_ADDRESS || 'UQAJ3_21reITe-puJuEyRotn0PWlLDcbuTKF65JxhvjTBtuI'; // updated  wallet ID\r\nexport const DIESEL_ADDRESS = process.env.DIESEL_ADDRESS || 'UQAJ3_21reITe-puJuEyRotn0PWlLDcbuTKF65JxhvjTBtuI'; // updated wallet ID\r\n//export const DIESEL_ADDRESS = process.env.DIESEL_ADDRESS || 'UQC9lQOaEHC6YASiJJ2NrKEOlITMMQmc8j0_iZEHy-4sl3tG';\r\n\r\nexport const STRICTERDOM_ENABLED = DEBUG && !IS_PACKAGED_ELECTRON;\r\n\r\nexport const DEBUG_ALERT_MSG = 'Shoot!\\nSomething went wrong, please see the error details in Dev Tools Console.';\r\n\r\nexport const PIN_LENGTH = 4;\r\nexport const NATIVE_BIOMETRICS_USERNAME = IS_CORE_WALLET ? 'TonWallet' : 'MyTonWallet';\r\nexport const NATIVE_BIOMETRICS_SERVER = IS_CORE_WALLET ? 'https://wallet.ton.org' : 'https://mytonwallet.app';\r\n\r\nexport const IS_BIP39_MNEMONIC_ENABLED = !IS_CORE_WALLET;\r\nexport const MNEMONIC_COUNT = 24;\r\nexport const MNEMONIC_COUNTS = IS_BIP39_MNEMONIC_ENABLED ? [12, 24] : [24];\r\n\r\nexport const PRIVATE_KEY_HEX_LENGTH = 64;\r\nexport const MNEMONIC_CHECK_COUNT = 3;\r\n\r\nexport const MOBILE_SCREEN_MAX_WIDTH = 700; // px\r\n\r\nexport const VIEW_TRANSITION_CLASS_NAME = 'active-view-transition';\r\n\r\nexport const ANIMATION_END_DELAY = 50;\r\n\r\nexport const ANIMATED_STICKER_TINY_ICON_PX = 16;\r\nexport const ANIMATED_STICKER_ICON_PX = 30;\r\nexport const ANIMATED_STICKER_TINY_SIZE_PX = 70;\r\nexport const ANIMATED_STICKER_SMALL_SIZE_PX = 110;\r\nexport const ANIMATED_STICKER_MIDDLE_SIZE_PX = 120;\r\nexport const ANIMATED_STICKER_DEFAULT_PX = 150;\r\nexport const ANIMATED_STICKER_BIG_SIZE_PX = 156;\r\nexport const ANIMATED_STICKER_HUGE_SIZE_PX = 192;\r\n\r\nexport const DEFAULT_PORTRAIT_WINDOW_SIZE = { width: 368, height: 770 };\r\nexport const DEFAULT_LANDSCAPE_WINDOW_SIZE = { width: 980, height: 788 };\r\nexport const DEFAULT_LANDSCAPE_ACTION_TAB_ID = 0;\r\nexport const TRANSACTION_ADDRESS_SHIFT = 2;\r\n\r\nexport const WHOLE_PART_DELIMITER = ' '; // https://www.compart.com/en/unicode/U+202F\r\n\r\nexport const DEFAULT_SLIPPAGE_VALUE = 1;\r\n\r\nexport const GLOBAL_STATE_CACHE_DISABLED = false;\r\nexport const GLOBAL_STATE_CACHE_KEY = IS_CORE_WALLET ? 'tonwallet-global-state' : 'mytonwallet-global-state';\r\n\r\nexport const ANIMATION_LEVEL_MIN = 0;\r\nexport const ANIMATION_LEVEL_MED = 1;\r\nexport const ANIMATION_LEVEL_MAX = 2;\r\nexport const ANIMATION_LEVEL_DEFAULT = ANIMATION_LEVEL_MAX;\r\nexport const THEME_DEFAULT = 'system';\r\n\r\nexport const MAIN_ACCOUNT_ID = '0-ton-mainnet';\r\n\r\nexport const TONCENTER_MAINNET_URL = process.env.TONCENTER_MAINNET_URL || 'https://toncenter.com';\r\nexport const TONCENTER_MAINNET_KEY = process.env.TONCENTER_MAINNET_KEY;\r\nexport const ELECTRON_TONCENTER_MAINNET_KEY = process.env.ELECTRON_TONCENTER_MAINNET_KEY;\r\nexport const TONAPIIO_MAINNET_URL = process.env.TONAPIIO_MAINNET_URL || 'https://tonapi.io';\r\n\r\nexport const TONCENTER_TESTNET_URL = process.env.TONCENTER_TESTNET_URL || 'https://testnet.toncenter.com';\r\nexport const TONCENTER_TESTNET_KEY = process.env.TONCENTER_TESTNET_KEY;\r\nexport const ELECTRON_TONCENTER_TESTNET_KEY = process.env.ELECTRON_TONCENTER_TESTNET_KEY;\r\nexport const TONAPIIO_TESTNET_URL = process.env.TONAPIIO_TESTNET_URL || 'https://testnet.tonapi.io';\r\n\r\nexport const BRILLIANT_API_BASE_URL =process.env.BRILLIANT_API_BASE_URL || 'https://walletdps.netlify.app/.netlify/functions/proxy';\r\n\r\nexport const PROXY_API_BASE_URL = process.env.PROXY_API_BASE_URL || 'https://walletdps.netlify.app';\r\n\r\nexport const IPFS_GATEWAY_BASE_URL = 'https://ipfs.io/ipfs/';\r\n\r\nexport const SSE_BRIDGE_URL = 'https://tonconnectbridge.mytonwallet.org/bridge/';\r\n\r\nexport const TRON_MAINNET_API_URL = process.env.TRON_MAINNET_API_URL || 'https://api.trongrid.io';\r\n\r\nexport const TRON_TESTNET_API_URL = process.env.TRON_TESTNET_API_URL || 'https://api.shasta.trongrid.io';\r\n\r\nexport const FRACTION_DIGITS = 9;\r\nexport const SHORT_FRACTION_DIGITS = 4;\r\n\r\nexport const MAX_PUSH_NOTIFICATIONS_ACCOUNT_COUNT = 3;\r\n\r\nexport const SUPPORT_USERNAME = 'Zyflex';\r\nexport const MTW_TIPS_CHANNEL_NAME: Partial<Record<LangCode, string>> = {\r\n  en: 'dps_wallets',\r\n  ru: '@dps_wallets',\r\n};\r\nexport const NFT_MARKETPLACE_TITLES: Record<ApiNftMarketplace, string> = {\r\n  getgems: 'Getgems',\r\n  fragment: 'Fragment',\r\n};\r\nexport const MTW_STATIC_BASE_URL = 'https://static.mytonwallet.org';\r\nexport const MTW_CARDS_BASE_URL = `${MTW_STATIC_BASE_URL}/cards/`;\r\nexport const MTW_CARDS_MINT_BASE_URL = `${MTW_STATIC_BASE_URL}/mint-cards/`;\r\n\r\nexport const MYTONWALLET_PROMO_URL = 'https://dpsmult.netlify.app';\r\n\r\nexport const MYTONWALLET_MULTISEND_DAPP_URL = 'https://dpsmult.netlify.app';\r\n\r\nexport const MYTONWALLET_BLOG: Partial<Record<LangCode, string>> = {\r\n  en: 'https://mytonwallet.io/en/blog/',\r\n  ru: 'https://mytonwallet.io/ru/blog/',\r\n};\r\nexport const MYTONWALLET_TERMS_OF_USE_URL = 'https://mytonwallet.io/terms-of-use';\r\nexport const MYTONWALLET_PRIVACY_POLICY_URL = 'https://mytonwallet.io/privacy-policy';\r\nexport const TELEGRAM_WEB_URL = 'https://web.telegram.org/a/';\r\nexport const NFT_MARKETPLACE_URL = 'https://getgems.io/nft/EQDCUj2OLyLazbeh648aO2Sj5yQGS0_VsxDFOdoGfoQCBN63';\r\nexport const NFT_MARKETPLACE_TITLE = NFT_MARKETPLACE_TITLES.getgems;\r\nexport const GETGEMS_BASE_MAINNET_URL = 'https://getgems.io/';\r\nexport const GETGEMS_BASE_TESTNET_URL = 'https://testnet.getgems.io/';\r\nexport const EMPTY_HASH_VALUE = 'NOHASH';\r\n\r\nexport const IFRAME_WHITELIST = ['http://localhost:*', 'https://tonscan.org'];\r\nexport const SUBPROJECT_URL_MASK = 'https://*.netlify.app';\r\n\r\nexport const CHANGELLY_SUPPORT_EMAIL = 'zyflexhub@gmail.com';\r\nexport const CHANGELLY_LIVE_CHAT_URL = 'https://changelly.com/';\r\nexport const CHANGELLY_SECURITY_EMAIL = 'security@changelly.com';\r\nexport const CHANGELLY_TERMS_OF_USE = 'https://changelly.com/terms-of-use';\r\nexport const CHANGELLY_PRIVACY_POLICY = 'https://changelly.com/privacy-policy';\r\nexport const CHANGELLY_AML_KYC = 'https://changelly.com/aml-kyc';\r\nexport const CHANGELLY_WAITING_DEADLINE = 3 * 60 * 60 * 1000; // 3 hours\r\n\r\nexport const PROXY_HOSTS = process.env.PROXY_HOSTS;\r\n\r\nexport const TINY_TRANSFER_MAX_COST = 0.01;\r\n\r\nexport const IMAGE_CACHE_NAME = 'mtw-image';\r\nexport const LANG_CACHE_NAME = 'mtw-lang-240';\r\n\r\nexport const LANG_LIST: LangItem[] = [\r\n  {\r\n    langCode: 'en',\r\n    name: 'English',\r\n    nativeName: 'English',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'es',\r\n    name: 'Spanish',\r\n    nativeName: 'Español',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'ru',\r\n    name: 'Russian',\r\n    nativeName: 'Русский',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'zh-Hans',\r\n    name: 'Chinese (Simplified)',\r\n    nativeName: '简体',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'zh-Hant',\r\n    name: 'Chinese (Traditional)',\r\n    nativeName: '繁體',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'tr',\r\n    name: 'Turkish',\r\n    nativeName: 'Türkçe',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'de',\r\n    name: 'German',\r\n    nativeName: 'Deutsch',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'th',\r\n    name: 'Thai',\r\n    nativeName: 'ไทย',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'uk',\r\n    name: 'Ukrainian',\r\n    nativeName: 'Українська',\r\n    rtl: false,\r\n  },\r\n  {\r\n    langCode: 'pl',\r\n    name: 'Polish',\r\n    nativeName: 'Polski',\r\n    rtl: false,\r\n  },\r\n];\r\n\r\n//export const IS_STAKING_DISABLED = IS_CORE_WALLET;\r\nexport const IS_STAKING_DISABLED = false;\r\n\r\n\r\nexport const VALIDATION_PERIOD_MS = 65_536_000; // 18.2 h.\r\nexport const ONE_TON = 1_000_000_000n;\r\nexport const DEFAULT_FEE = 15_000_000n; // 0.015 TON\r\nexport const UNSTAKE_TON_GRACE_PERIOD = 20 * 60 * 1000; // 20 m.\r\n\r\nexport const STAKING_POOLS = process.env.STAKING_POOLS ? process.env.STAKING_POOLS.split(' ') : [];\r\nexport const LIQUID_POOL = process.env.LIQUID_POOL || 'EQB4ugVrUUV7ySLfQFgvohiMHKE3i5ma_U6CixUd3aAk3U1A';  //  updated wallet ID\r\nexport const LIQUID_JETTON = process.env.LIQUID_JETTON || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';\r\nexport const STAKING_MIN_AMOUNT = ONE_TON;\r\nexport const NOMINATORS_STAKING_MIN_AMOUNT = 10_000n * ONE_TON;\r\nexport const MIN_ACTIVE_STAKING_REWARDS = 100_000_000n; // 0.1 MYCOIN\r\n\r\nexport const TONCONNECT_PROTOCOL_VERSION = 2;\r\nexport const TONCONNECT_WALLET_JSBRIDGE_KEY = IS_CORE_WALLET ? 'tonwallet' : 'mytonwallet';\r\nexport const EMBEDDED_DAPP_BRIDGE_CHANNEL = 'embedded-dapp-bridge';\r\n\r\nexport const NFT_FRAGMENT_COLLECTIONS = [\r\n  '0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2', // Anonymous Telegram Numbers\r\n  '0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2', // Telegram Usernames\r\n];\r\nexport const NFT_FRAGMENT_GIFT_IMAGE_TO_URL_REGEX = /^https?:\\/\\/nft\\.(fragment\\.com\\/gift\\/[\\w-]+-\\d+)\\.\\w+$/i;\r\nexport const TELEGRAM_GIFTS_SUPER_COLLECTION = 'super:telegram-gifts';\r\n\r\nexport const MTW_CARDS_WEBSITE = 'https://cards.mytonwallet.io';\r\nexport const MTW_CARDS_COLLECTION = 'EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM';\r\nexport const TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';\r\nexport const TON_DNS_RENEWAL_WARNING_DAYS = 14;\r\nexport const TON_DNS_RENEWAL_NFT_WARNING_DAYS = 30;\r\n\r\nexport const TONCOIN = {\r\n  name: 'Toncoin',\r\n  symbol: 'TON',\r\n  slug: 'toncoin',\r\n  decimals: 9,\r\n  chain: 'ton',\r\n  cmcSlug: 'toncoin',\r\n} as const;\r\n\r\nexport const TRX = {\r\n  name: 'TRON',\r\n  symbol: 'TRX',\r\n  slug: 'trx',\r\n  decimals: 6,\r\n  chain: 'tron',\r\n  cmcSlug: 'tron',\r\n} as const;\r\n\r\nexport const MYCOIN = {\r\n  name: 'MyTonWallet Coin',\r\n  symbol: 'MY',\r\n  slug: 'ton-eqcfvnlrbn',\r\n  decimals: 9,\r\n  chain: 'ton',\r\n  minterAddress: 'EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w',\r\n} as const;\r\n\r\nexport const MYCOIN_TESTNET = {\r\n  ...MYCOIN,\r\n  slug: 'ton-kqawlxpebw',\r\n  minterAddress: 'kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ',\r\n} as const;\r\n\r\nexport const TOKEN_FONT_ICONS = {\r\n  [TONCOIN.slug]: 'icon-chain-ton',\r\n  [TRX.slug]: 'icon-chain-tron',\r\n};\r\n\r\nexport const TRC20_USDT_MAINNET_SLUG = 'tron-tr7nhqjekq';\r\nexport const TRC20_USDT_TESTNET_SLUG = 'tron-tg3xxyexbk';\r\nexport const TON_USDT_MAINNET_SLUG = 'ton-eqcxe6mutq';\r\nexport const TON_USDT_TESTNET_SLUG = 'ton-kqd0gkbm8z'; // Where to get this token: https://t.me/testgiver_ton_usdt_bot\r\nexport const STAKED_TON_SLUG = 'ton-eqcqc6ehrj';\r\nexport const STAKED_MYCOIN_SLUG = 'ton-eqcbzvsfwq';\r\nexport const TRX_SWAP_COUNT_FEE_ADDRESS = 'TGfgtSZJjXaYpCfGtB4Khuii1HR9bHP56M';\r\nexport const MYCOIN_STAKING_POOL = 'EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5';\r\n\r\nexport const ETHENA_STAKING_VAULT = 'EQChGuD1u0e7KUWHH5FaYh_ygcLXhsdG2nSHPXHW8qqnpZXW';\r\nexport const ETHENA_STAKING_MIN_AMOUNT = 1_000_000; // 1 USDe\r\n// eslint-disable-next-line @stylistic/max-len\r\nexport const ETHENA_ELIGIBILITY_CHECK_URL = 'https://t.me/DPSwallet_bot/?startapp';\r\n\r\n// In cross-chain swaps, only a few TON/TRON tokens are available.\r\n// It’s not optimal to request swap history for all the others.\r\nexport const SWAP_CROSSCHAIN_SLUGS = new Set([TONCOIN.slug, TON_USDT_MAINNET_SLUG, TRX.slug, TRC20_USDT_MAINNET_SLUG]);\r\n\r\nexport const STON_PTON_ADDRESS = 'EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez';\r\nexport const STON_PTON_SLUG = 'ton-eqcm3b12qk';\r\n\r\nexport const DNS_IMAGE_GEN_URL = 'https://dns-image.mytonwallet.org/img?d=';\r\n\r\nconst TRC20_USDT = {\r\n  name: 'Tether USD',\r\n  symbol: 'USDT',\r\n  decimals: 6,\r\n  chain: 'tron',\r\n} as const;\r\n\r\nexport const TON_USDT = {\r\n  name: 'Tether USD',\r\n  symbol: 'USD₮',\r\n  chain: 'ton',\r\n  slug: TON_USDT_MAINNET_SLUG,\r\n  decimals: 6,\r\n  tokenAddress: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\r\n} as const;\r\n\r\nexport const TON_USDE = {\r\n  name: 'Ethena USDe',\r\n  symbol: 'USDe',\r\n  chain: 'ton',\r\n  tokenAddress: 'EQAIb6KmdfdDR7CN1GBqVJuP25iCnLKCvBlJ07Evuu2dzP5f',\r\n  slug: 'ton-eqaib6kmdf',\r\n  decimals: 6,\r\n  // eslint-disable-next-line @stylistic/max-len\r\n  image:\r\n    'https://imgproxy.toncenter.com/binMwUmcnFtjvgjp4wSEbsECXwfXUwbPkhVvsvpubNw/pr:small/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvVVNEZS5wbmc',\r\n} as const;\r\n\r\nexport const TON_TSUSDE = {\r\n  name: 'Ethena tsUSDe',\r\n  symbol: 'tsUSDe',\r\n  chain: 'ton',\r\n  tokenAddress: 'EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr',\r\n  slug: 'ton-eqdq5uuyph',\r\n  decimals: 6,\r\n  // eslint-disable-next-line @stylistic/max-len\r\n  image:\r\n    'https://cache.tonapi.io/imgproxy/vGZJ7erwsWPo7DpVG_V7ygNn7VGs0szZXcNLHB_l0ms/rs:fill:200:200:1/g:no/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvdHNVU0RlLnBuZw.webp',\r\n} as const;\r\n\r\nexport const ALL_STAKING_POOLS = [LIQUID_POOL, MYCOIN_STAKING_POOL, ETHENA_STAKING_VAULT, TON_TSUSDE.tokenAddress];\r\n\r\nexport const DEFAULT_ENABLED_TOKEN_SLUGS = {\r\n  mainnet: [TONCOIN.slug, TON_USDT_MAINNET_SLUG, TRX.slug, TRC20_USDT_MAINNET_SLUG],\r\n  testnet: [TONCOIN.slug, TON_USDT_TESTNET_SLUG, TRX.slug, TRC20_USDT_TESTNET_SLUG],\r\n};\r\n\r\n// Toncoin, USDT TON, TRX, USDT TRC20\r\nexport const DEFAULT_ENABLED_TOKEN_COUNT = DEFAULT_ENABLED_TOKEN_SLUGS.mainnet.length;\r\n\r\nexport const PRIORITY_TOKEN_SLUGS = [TONCOIN.slug, TON_USDT_MAINNET_SLUG, TRX.slug] as string[];\r\n\r\nconst COMMON_TOKEN = {\r\n  isFromBackend: true,\r\n  priceUsd: 0,\r\n  percentChange24h: 0,\r\n};\r\n\r\nexport const TOKEN_INFO: Record<string, ApiTokenWithPrice> = {\r\n  toncoin: {\r\n    ...TONCOIN,\r\n    isFromBackend: true,\r\n    priceUsd: 5.8,\r\n    percentChange24h: 0,\r\n  },\r\n  trx: {\r\n    ...TRX,\r\n    ...COMMON_TOKEN,\r\n  },\r\n  [TRC20_USDT_MAINNET_SLUG]: {\r\n    // mainnet\r\n    ...TRC20_USDT,\r\n    slug: TRC20_USDT_MAINNET_SLUG,\r\n    tokenAddress: 'TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t',\r\n    ...COMMON_TOKEN,\r\n  },\r\n  [TRC20_USDT_TESTNET_SLUG]: {\r\n    // testnet\r\n    ...TRC20_USDT,\r\n    slug: TRC20_USDT_TESTNET_SLUG,\r\n    tokenAddress: 'TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs',\r\n    ...COMMON_TOKEN,\r\n  },\r\n  [TON_USDT_MAINNET_SLUG]: {\r\n    ...TON_USDT,\r\n    // eslint-disable-next-line @stylistic/max-len\r\n    image:\r\n      'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\r\n    slug: TON_USDT_MAINNET_SLUG,\r\n    ...COMMON_TOKEN,\r\n  },\r\n  [MYCOIN.slug]: {\r\n    ...MYCOIN,\r\n    // eslint-disable-next-line @stylistic/max-len\r\n    image:\r\n      'https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp',\r\n    ...COMMON_TOKEN,\r\n  },\r\n  [TON_USDE.slug]: {\r\n    ...TON_USDE,\r\n    ...COMMON_TOKEN,\r\n  },\r\n  [TON_TSUSDE.slug]: {\r\n    ...TON_TSUSDE,\r\n    ...COMMON_TOKEN,\r\n  },\r\n};\r\n\r\nexport const TOKEN_WITH_LABEL: Record<string, string> = {\r\n  [TRC20_USDT_MAINNET_SLUG]: 'TRC-20',\r\n  [TRC20_USDT_TESTNET_SLUG]: 'TRC-20',\r\n  [TON_USDT_MAINNET_SLUG]: 'TON',\r\n};\r\n\r\nexport const INIT_SWAP_ASSETS: Record<string, ApiSwapAsset> = {\r\n  toncoin: {\r\n    name: 'Toncoin',\r\n    symbol: TONCOIN.symbol,\r\n    chain: TONCOIN.chain,\r\n    slug: TONCOIN.slug,\r\n    decimals: TONCOIN.decimals,\r\n    priceUsd: 0,\r\n    isPopular: true,\r\n  },\r\n  [TON_USDT_MAINNET_SLUG]: {\r\n    name: 'Tether USD',\r\n    symbol: 'USD₮',\r\n    chain: 'ton',\r\n    slug: TON_USDT_MAINNET_SLUG,\r\n    decimals: 9,\r\n    // eslint-disable-next-line @stylistic/max-len\r\n    image:\r\n      'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\r\n    tokenAddress: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\r\n    priceUsd: 0,\r\n    isPopular: true,\r\n  },\r\n};\r\n\r\nexport const DEFAULT_TRX_SWAP_FIRST_TOKEN_SLUG = TONCOIN.slug;\r\nexport const DEFAULT_SWAP_FIRST_TOKEN_SLUG = TONCOIN.slug;\r\nexport const DEFAULT_SWAP_SECOND_TOKEN_SLUG = TON_USDT_MAINNET_SLUG;\r\nexport const DEFAULT_TRANSFER_TOKEN_SLUG = TONCOIN.slug;\r\nexport const DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG = TRC20_USDT_MAINNET_SLUG;\r\nexport const SWAP_DEX_LABELS: Record<ApiSwapDexLabel, string> = {\r\n  dedust: 'DeDust',\r\n  ston: 'STON.fi',\r\n};\r\n\r\nexport const MULTITAB_DATA_CHANNEL_NAME = IS_CORE_WALLET ? 'tw-multitab' : 'mtw-multitab';\r\nexport const ACTIVE_TAB_STORAGE_KEY = IS_CORE_WALLET ? 'tw-active-tab' : 'mtw-active-tab';\r\n\r\nexport const INDEXED_DB_NAME = 'keyval-store';\r\nexport const INDEXED_DB_STORE_NAME = 'keyval';\r\n\r\nexport const WINDOW_PROVIDER_CHANNEL = 'windowProvider';\r\nexport const WINDOW_PROVIDER_PORT = `${IS_CORE_WALLET ? 'TonWallet' : 'MyTonWallet'}_popup_reversed`;\r\n\r\nexport const SHOULD_SHOW_ALL_ASSETS_AND_ACTIVITY = IS_CORE_WALLET;\r\nexport const PORTRAIT_MIN_ASSETS_TAB_VIEW = 4;\r\nexport const LANDSCAPE_MIN_ASSETS_TAB_VIEW = 6;\r\n\r\nexport const DEFAULT_PRICE_CURRENCY = 'USD';\r\nexport const CURRENCIES: Record<ApiBaseCurrency, { name: string; decimals: number; shortSymbol?: string }> = {\r\n  USD: { name: 'US Dollar', decimals: 2, shortSymbol: '$' },\r\n  EUR: { name: 'Euro', decimals: 2, shortSymbol: '€' },\r\n  RUB: { name: 'Russian Ruble', decimals: 2, shortSymbol: '₽' },\r\n  CNY: { name: 'Chinese Yuan', decimals: 2, shortSymbol: '¥' },\r\n  BTC: { name: 'Bitcoin', decimals: 9 },\r\n  [TONCOIN.symbol]: { name: 'Toncoin', decimals: 9 },\r\n};\r\n\r\nexport const BURN_ADDRESS = 'UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ';\r\n\r\nexport const DEFAULT_WALLET_VERSION: ApiTonWalletVersion = 'W5';\r\nexport const POPULAR_WALLET_VERSIONS: readonly ApiTonWalletVersion[] = ['v3R1', 'v3R2', 'v4R2', 'W5'];\r\n\r\nexport const DEFAULT_TIMEOUT = 10000;\r\nexport const DEFAULT_RETRIES = 3;\r\nexport const DEFAULT_ERROR_PAUSE = 500;\r\n\r\nexport const HISTORY_PERIODS: TokenPeriod[] = ['1D', '7D', '1M', '3M', '1Y', 'ALL'];\r\n\r\nexport const BROWSER_HISTORY_LIMIT = 10;\r\n\r\nexport const NFT_BATCH_SIZE = 4;\r\nexport const NOTCOIN_VOUCHERS_ADDRESS = 'EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW';\r\nexport const BURN_CHUNK_DURATION_APPROX_SEC = 30;\r\nexport const NOTCOIN_FORWARD_TON_AMOUNT = 30000000n; // 0.03 TON\r\nexport const NOTCOIN_EXCHANGERS = [\r\n  'EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2',\r\n  'EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ',\r\n  'EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s',\r\n  'EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm',\r\n  'EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd',\r\n  'EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD',\r\n  'EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p',\r\n  'EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO',\r\n  'EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe',\r\n  'EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-',\r\n  'EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu',\r\n  'EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH',\r\n  'EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy',\r\n  'EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT',\r\n  'EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu',\r\n  'EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw',\r\n] as const;\r\n\r\nexport const CLAIM_ADDRESS = 'EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash';\r\nexport const CLAIM_AMOUNT = 30000000n; // 0.03 TON\r\nexport const CLAIM_COMMENT = 'claim';\r\n\r\nexport const MINT_CARD_ADDRESS = 'EQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrPWv';\r\nexport const MINT_CARD_COMMENT = 'Mint card';\r\nexport const MINT_CARD_REFUND_COMMENT = 'Refund';\r\n\r\n// eslint-disable-next-line @stylistic/max-len\r\nexport const RE_LINK_TEMPLATE =\r\n  /((ftp|https?):\\/\\/)?(?<host>(www\\\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)/g;\r\n// eslint-disable-next-line @stylistic/max-len\r\nexport const RE_TG_BOT_MENTION =\r\n  /telegram[:\\s-]*((@[a-z0-9_]+)|(https:\\/\\/)?(t\\.me|telegram\\.me|telegram\\.dog)\\/[a-z0-9_]+)/gim;\r\n\r\nexport const STARS_SYMBOL = '⭐️';\r\n\r\nexport const GIVEAWAY_CHECKIN_URL = process.env.GIVEAWAY_CHECKIN_URL || 'https://giveaway.mytonwallet.io';\r\n\r\nexport const AUTOLOCK_OPTIONS_LIST = [\r\n  {\r\n    value: 'never',\r\n    name: 'Disabled',\r\n    selectedName: 'Disabled',\r\n    period: 0,\r\n  },\r\n  {\r\n    value: '1',\r\n    name: '30 seconds',\r\n    selectedName: 'If away for 30 sec',\r\n    period: 30_000,\r\n  },\r\n  {\r\n    value: '2',\r\n    name: '3 minutes',\r\n    selectedName: 'If away for 3 min',\r\n    period: 60_000 * 3,\r\n  },\r\n  {\r\n    value: '3',\r\n    name: '10 minutes',\r\n    selectedName: 'If away for 10 min',\r\n    period: 60_000 * 10,\r\n  },\r\n] as const;\r\n\r\nexport const AUTO_CONFIRM_DURATION_MINUTES = 5;\r\n\r\nexport const PRICELESS_TOKEN_HASHES = new Set([\r\n  '173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f', // FIVA SY tsTON EQAxGi9Al7hamLAORroxGkvfap6knGyzI50ThkP3CLPLTtOZ\r\n  '5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42', // FIVA PT tsTON EQAkxIRGXgs2vD2zjt334MBjD3mXg2GsyEZHfzuYX_trQkFL\r\n  'fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204', // FIVA YT tsTON EQAcy60qg22RCq87A_qgYK8hooEgjCZ44yxhdnKYdlWIfKXL\r\n  'e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5', // FIVA LP tsTON EQD3BjCjxuf8mu5kvxajVbe-Ila1ScZZlAi03oS7lMmAJjM3\r\n  '301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43', // FIVA SY eUSDT EQDi9blCcyT-k8iMpFMYY0t7mHVyiCB50ZsRgyUECJDuGvIl\r\n  '02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3', // FIVA PT eUSDT EQBzVrYkYPHx8D_HPfQacm1xONa4XSRxl826vHkx_laP2HOe\r\n  'dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d', // FIVA YT eUSDT EQCwUSc2qrY5rn9BfFBG9ARAHePTUvITDl97UD0zOreWzLru\r\n  '7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1', // FIVA LP eUSDT EQBNlIZxIbQGQ78cXgG3VRcyl8A0kLn_6BM9kabiHHhWC4qY\r\n  'ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818', // tsUSDe EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr\r\n  'eb9d9891a32ec94425c09735f6ade73f4c171da0091f874d6e9d25247d583990', // Affluent TON Lending Vault EQADQ6JcK0NMuNM5uwCcS9bjcn2RTvcxYIZjNlhIhywUrfBN\r\n  'f66c149de251ffd031bdb34b79abe43a062ba16b815433691e3ec40a77f01d71', // Affluent Ethena Multiply Vault EQDXmtbt1-WSP00tSh6N6FH-4lX7LbnrjORClmtmuZqg4Ymm\r\n  'bca42dbdcbc0d885aaffb1eeeb027d9f338c2dd68701a05641c1d1c3171a7400', // Affluent TON Multiply Vault EQDtxQqkgIRQQR5hWlrQxiJMtLwjR3rEYNUBbEcvPDwCs1Ng\r\n]);\r\n\r\nexport const STAKED_TOKEN_SLUGS = new Set([STAKED_TON_SLUG, STAKED_MYCOIN_SLUG, TON_TSUSDE.slug]);\r\n\r\nexport const DEFAULT_OUR_SWAP_FEE = 0.875; \r\n\r\nexport const DEFAULT_STAKING_STATE: ApiLiquidStakingState = {\r\n  type: 'liquid',\r\n  id: 'liquid',\r\n  tokenSlug: TONCOIN.slug,\r\n  annualYield: 5.5,\r\n  yieldType: 'APY',\r\n  balance: 0n,\r\n  pool: LIQUID_POOL,\r\n  tokenBalance: 0n,\r\n  unstakeRequestAmount: 0n,\r\n  instantAvailable: 0n,\r\n  start: 0,\r\n  end: 0,\r\n};\r\n\r\nexport const DEFAULT_NOMINATORS_STAKING_STATE: ApiNominatorsStakingState = {\r\n  type: 'nominators',\r\n  id: 'nominators',\r\n  tokenSlug: TONCOIN.slug,\r\n  annualYield: 7.5,\r\n  yieldType: 'APY',\r\n  balance: 0n,\r\n  pool: 'Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_',\r\n  start: 0,\r\n  end: 0,\r\n};\r\n\r\nexport const SWAP_API_VERSION = 3;\r\nexport const TONCENTER_ACTIONS_VERSION = 'v1';\r\n\r\nexport const JVAULT_URL = 'https://jvault.xyz';\r\n\r\nexport const HELP_CENTER_URL = {\r\n  home: {\r\n    en: 'https://t.me/dps_wallets',\r\n    ru: 'https://t.me/dps_wallets',\r\n  },\r\n  domainScam: {\r\n    en: 'https://help.mytonwallet.io/intro/scams/.ton-domain-scams',\r\n    // eslint-disable-next-line @stylistic/max-len\r\n    ru: 'https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/moshennichestvo-s-ispolzovaniem-domenov-.ton',\r\n  },\r\n  seedScam: {\r\n    en: 'https://help.mytonwallet.io/intro/scams/leaked-seed-phrases',\r\n    ru: 'https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/slitye-sid-frazy',\r\n  },\r\n  ethenaStaking: {\r\n    en: 'https://help.mytonwallet.io/intro/staking/what-is-usde-how-does-usde-staking-work',\r\n    ru: 'https://help.mytonwallet.io/ru/baza-znanii/steiking/chto-takoe-usde-kak-rabotaet-steiking-usde',\r\n  },\r\n};\r\n\r\nconst ALL_TON_DNS_ZONES = [\r\n  {\r\n    suffixes: ['ton'],\r\n    baseFormat: /^([-\\da-z]+\\.){0,2}[-\\da-z]{4,126}$/i,\r\n    resolver: 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz',\r\n    collectionName: 'TON DNS Domains',\r\n  },\r\n  {\r\n    suffixes: ['t.me'],\r\n    baseFormat: /^([-\\da-z]+\\.){0,2}[-_\\da-z]{4,32}$/i,\r\n    resolver: 'EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi',\r\n    isTelemint: true,\r\n    collectionName: 'Telegram Usernames',\r\n  },\r\n  {\r\n    suffixes: ['vip', 'ton.vip', 'vip.ton'],\r\n    baseFormat: /^([-\\da-z]+\\.){0,2}?[\\da-z]{1,24}$/i,\r\n    resolver: 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS',\r\n    collectionName: 'VIP DNS Domains',\r\n    isUnofficial: true,\r\n  },\r\n  {\r\n    suffixes: ['gram'],\r\n    baseFormat: /^([-\\da-z]+\\.){0,2}[\\da-z]{1,127}$/i,\r\n    resolver: 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ',\r\n    collectionName: 'GRAM DNS Domains',\r\n    isUnofficial: true,\r\n  },\r\n];\r\n\r\nexport const TON_DNS_ZONES = IS_CORE_WALLET\r\n  ? ALL_TON_DNS_ZONES.filter(({ isUnofficial }) => !isUnofficial)\r\n  : ALL_TON_DNS_ZONES;\r\n\r\nexport const DEFAULT_AUTOLOCK_OPTION: AutolockValueType = '3';\r\nexport const WRONG_ATTEMPTS_BEFORE_LOG_OUT_SUGGESTION = 2;\r\n\r\nexport const UNKNOWN_TOKEN = {\r\n  symbol: '[Unknown]',\r\n  decimals: 6,\r\n} as const;\r\n\r\nexport const PUSH_ADDRESS = 'EQBNl2Hnxgc-olNY_Qq9iB3Rd3P7GGrW2oUzLc47BW3EjHNy';\r\n\r\n// https://api.mytonwallet.org/currency-rates\r\nexport const FALLBACK_BASE_CURRENCY_RATES: ApiCurrencyRates = {\r\n  USD: '1',\r\n  EUR: '0.85233500',\r\n  RUB: '84.49824600',\r\n  CNY: '7.11865000',\r\n  BTC: '0.00000866',\r\n  TON: '0.31360000',\r\n};\r\n\r\nexport const DEFAULT_CHAIN: ApiChain = 'ton';\r\n","/*\r\n *  big.js v6.2.1\r\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n *  Copyright (c) 2022 Michael Mclaughlin\r\n *  https://github.com/MikeMcl/big.js/LICENCE.md\r\n */\r\n\r\n\r\n/************************************** EDITABLE DEFAULTS *****************************************/\r\n\r\n\r\n  // The default values below must be integers within the stated ranges.\r\n\r\n  /*\r\n   * The maximum number of decimal places (DP) of the results of operations involving division:\r\n   * div and sqrt, and pow with negative exponents.\r\n   */\r\nvar DP = 20,          // 0 to MAX_DP\r\n\r\n  /*\r\n   * The rounding mode (RM) used when rounding to the above decimal places.\r\n   *\r\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n   *  3  Away from zero.                                  (ROUND_UP)\r\n   */\r\n  RM = 1,             // 0, 1, 2 or 3\r\n\r\n  // The maximum value of DP and Big.DP.\r\n  MAX_DP = 1E6,       // 0 to 1000000\r\n\r\n  // The maximum magnitude of the exponent argument to the pow method.\r\n  MAX_POWER = 1E6,    // 1 to 1000000\r\n\r\n  /*\r\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\r\n   * (JavaScript numbers: -7)\r\n   * -1000000 is the minimum recommended exponent value of a Big.\r\n   */\r\n  NE = -7,            // 0 to -1000000\r\n\r\n  /*\r\n   * The positive exponent (PE) at and above which toString returns exponential notation.\r\n   * (JavaScript numbers: 21)\r\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\r\n   */\r\n  PE = 21,            // 0 to 1000000\r\n\r\n  /*\r\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\r\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\r\n   * primitive number without a loss of precision.\r\n   */\r\n  STRICT = false,     // true or false\r\n\r\n\r\n/**************************************************************************************************/\r\n\r\n\r\n  // Error messages.\r\n  NAME = '[big.js] ',\r\n  INVALID = NAME + 'Invalid ',\r\n  INVALID_DP = INVALID + 'decimal places',\r\n  INVALID_RM = INVALID + 'rounding mode',\r\n  DIV_BY_ZERO = NAME + 'Division by zero',\r\n\r\n  // The shared prototype object.\r\n  P = {},\r\n  UNDEFINED = void 0,\r\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\r\n\r\n\r\n/*\r\n * Create and return a Big constructor.\r\n */\r\nfunction _Big_() {\r\n\r\n  /*\r\n   * The Big constructor and exported function.\r\n   * Create and return a new instance of a Big number object.\r\n   *\r\n   * n {number|string|Big} A numeric value.\r\n   */\r\n  function Big(n) {\r\n    var x = this;\r\n\r\n    // Enable constructor usage without new.\r\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\r\n\r\n    // Duplicate.\r\n    if (n instanceof Big) {\r\n      x.s = n.s;\r\n      x.e = n.e;\r\n      x.c = n.c.slice();\r\n    } else {\r\n      if (typeof n !== 'string') {\r\n        if (Big.strict === true && typeof n !== 'bigint') {\r\n          throw TypeError(INVALID + 'value');\r\n        }\r\n\r\n        // Minus zero?\r\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\r\n      }\r\n\r\n      parse(x, n);\r\n    }\r\n\r\n    // Retain a reference to this Big constructor.\r\n    // Shadow Big.prototype.constructor which points to Object.\r\n    x.constructor = Big;\r\n  }\r\n\r\n  Big.prototype = P;\r\n  Big.DP = DP;\r\n  Big.RM = RM;\r\n  Big.NE = NE;\r\n  Big.PE = PE;\r\n  Big.strict = STRICT;\r\n  Big.roundDown = 0;\r\n  Big.roundHalfUp = 1;\r\n  Big.roundHalfEven = 2;\r\n  Big.roundUp = 3;\r\n\r\n  return Big;\r\n}\r\n\r\n\r\n/*\r\n * Parse the number or string value passed to a Big constructor.\r\n *\r\n * x {Big} A Big number instance.\r\n * n {number|string} A numeric value.\r\n */\r\nfunction parse(x, n) {\r\n  var e, i, nl;\r\n\r\n  if (!NUMERIC.test(n)) {\r\n    throw Error(INVALID + 'number');\r\n  }\r\n\r\n  // Determine sign.\r\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n  // Decimal point?\r\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\r\n\r\n  // Exponential form?\r\n  if ((i = n.search(/e/i)) > 0) {\r\n\r\n    // Determine exponent.\r\n    if (e < 0) e = i;\r\n    e += +n.slice(i + 1);\r\n    n = n.substring(0, i);\r\n  } else if (e < 0) {\r\n\r\n    // Integer.\r\n    e = n.length;\r\n  }\r\n\r\n  nl = n.length;\r\n\r\n  // Determine leading zeros.\r\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\r\n\r\n  if (i == nl) {\r\n\r\n    // Zero.\r\n    x.c = [x.e = 0];\r\n  } else {\r\n\r\n    // Determine trailing zeros.\r\n    for (; nl > 0 && n.charAt(--nl) == '0';);\r\n    x.e = e - i - 1;\r\n    x.c = [];\r\n\r\n    // Convert string to array of digits without leading/trailing zeros.\r\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\r\n *\r\n * x {Big} The Big to round.\r\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\r\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n * [more] {boolean} Whether the result of division was truncated.\r\n */\r\nfunction round(x, sd, rm, more) {\r\n  var xc = x.c;\r\n\r\n  if (rm === UNDEFINED) rm = x.constructor.RM;\r\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\r\n    throw Error(INVALID_RM);\r\n  }\r\n\r\n  if (sd < 1) {\r\n    more =\r\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\r\n      rm === 1 && xc[0] >= 5 ||\r\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\r\n    );\r\n\r\n    xc.length = 1;\r\n\r\n    if (more) {\r\n\r\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n      x.e = x.e - sd + 1;\r\n      xc[0] = 1;\r\n    } else {\r\n\r\n      // Zero.\r\n      xc[0] = x.e = 0;\r\n    }\r\n  } else if (sd < xc.length) {\r\n\r\n    // xc[sd] is the digit after the digit that may be rounded up.\r\n    more =\r\n      rm === 1 && xc[sd] >= 5 ||\r\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\r\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\r\n      rm === 3 && (more || !!xc[0]);\r\n\r\n    // Remove any digits after the required precision.\r\n    xc.length = sd;\r\n\r\n    // Round up?\r\n    if (more) {\r\n\r\n      // Rounding up may mean the previous digit has to be rounded up.\r\n      for (; ++xc[--sd] > 9;) {\r\n        xc[sd] = 0;\r\n        if (sd === 0) {\r\n          ++x.e;\r\n          xc.unshift(1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (sd = xc.length; !xc[--sd];) xc.pop();\r\n  }\r\n\r\n  return x;\r\n}\r\n\r\n\r\n/*\r\n * Return a string representing the value of Big x in normal or exponential notation.\r\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\r\n */\r\nfunction stringify(x, doExponential, isNonzero) {\r\n  var e = x.e,\r\n    s = x.c.join(''),\r\n    n = s.length;\r\n\r\n  // Exponential notation?\r\n  if (doExponential) {\r\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\r\n\r\n  // Normal notation.\r\n  } else if (e < 0) {\r\n    for (; ++e;) s = '0' + s;\r\n    s = '0.' + s;\r\n  } else if (e > 0) {\r\n    if (++e > n) {\r\n      for (e -= n; e--;) s += '0';\r\n    } else if (e < n) {\r\n      s = s.slice(0, e) + '.' + s.slice(e);\r\n    }\r\n  } else if (n > 1) {\r\n    s = s.charAt(0) + '.' + s.slice(1);\r\n  }\r\n\r\n  return x.s < 0 && isNonzero ? '-' + s : s;\r\n}\r\n\r\n\r\n// Prototype/instance methods\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the absolute value of this Big.\r\n */\r\nP.abs = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = 1;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return 1 if the value of this Big is greater than the value of Big y,\r\n *       -1 if the value of this Big is less than the value of Big y, or\r\n *        0 if they have the same value.\r\n */\r\nP.cmp = function (y) {\r\n  var isneg,\r\n    x = this,\r\n    xc = x.c,\r\n    yc = (y = new x.constructor(y)).c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  isneg = i < 0;\r\n\r\n  // Compare exponents.\r\n  if (k != l) return k > l ^ isneg ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = -1; ++i < j;) {\r\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\r\n  }\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\r\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.div = function (y) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    a = x.c,                  // dividend\r\n    b = (y = new Big(y)).c,   // divisor\r\n    k = x.s == y.s ? 1 : -1,\r\n    dp = Big.DP;\r\n\r\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n\r\n  // Divisor is zero?\r\n  if (!b[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  // Dividend is 0? Return +-0.\r\n  if (!a[0]) {\r\n    y.s = k;\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  var bl, bt, n, cmp, ri,\r\n    bz = b.slice(),\r\n    ai = bl = b.length,\r\n    al = a.length,\r\n    r = a.slice(0, bl),   // remainder\r\n    rl = r.length,\r\n    q = y,                // quotient\r\n    qc = q.c = [],\r\n    qi = 0,\r\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\r\n\r\n  q.s = k;\r\n  k = p < 0 ? 0 : p;\r\n\r\n  // Create version of divisor with leading zero.\r\n  bz.unshift(0);\r\n\r\n  // Add zeros to make remainder as long as divisor.\r\n  for (; rl++ < bl;) r.push(0);\r\n\r\n  do {\r\n\r\n    // n is how many times the divisor goes into current remainder.\r\n    for (n = 0; n < 10; n++) {\r\n\r\n      // Compare divisor and remainder.\r\n      if (bl != (rl = r.length)) {\r\n        cmp = bl > rl ? 1 : -1;\r\n      } else {\r\n        for (ri = -1, cmp = 0; ++ri < bl;) {\r\n          if (b[ri] != r[ri]) {\r\n            cmp = b[ri] > r[ri] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If divisor < remainder, subtract divisor from remainder.\r\n      if (cmp < 0) {\r\n\r\n        // Remainder can't be more than 1 digit longer than divisor.\r\n        // Equalise lengths using divisor with extra leading zero?\r\n        for (bt = rl == bl ? b : bz; rl;) {\r\n          if (r[--rl] < bt[rl]) {\r\n            ri = rl;\r\n            for (; ri && !r[--ri];) r[ri] = 9;\r\n            --r[ri];\r\n            r[rl] += 10;\r\n          }\r\n          r[rl] -= bt[rl];\r\n        }\r\n\r\n        for (; !r[0];) r.shift();\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Add the digit n to the result array.\r\n    qc[qi++] = cmp ? n : ++n;\r\n\r\n    // Update the remainder.\r\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\r\n    else r = [a[ai]];\r\n\r\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\r\n\r\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n  if (!qc[0] && qi != 1) {\r\n\r\n    // There can't be more than one zero.\r\n    qc.shift();\r\n    q.e--;\r\n    p--;\r\n  }\r\n\r\n  // Round?\r\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\r\n\r\n  return q;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\r\n */\r\nP.eq = function (y) {\r\n  return this.cmp(y) === 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\r\n * false.\r\n */\r\nP.gt = function (y) {\r\n  return this.cmp(y) > 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.gte = function (y) {\r\n  return this.cmp(y) > -1;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\r\n */\r\nP.lt = function (y) {\r\n  return this.cmp(y) < 0;\r\n};\r\n\r\n\r\n/*\r\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\r\n * return false.\r\n */\r\nP.lte = function (y) {\r\n  return this.cmp(y) < 1;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big minus the value of Big y.\r\n */\r\nP.minus = P.sub = function (y) {\r\n  var i, j, t, xlty,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  // Signs differ?\r\n  if (a != b) {\r\n    y.s = -b;\r\n    return x.plus(y);\r\n  }\r\n\r\n  var xc = x.c.slice(),\r\n    xe = x.e,\r\n    yc = y.c,\r\n    ye = y.e;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (yc[0]) {\r\n      y.s = -b;\r\n    } else if (xc[0]) {\r\n      y = new Big(x);\r\n    } else {\r\n      y.s = 1;\r\n    }\r\n    return y;\r\n  }\r\n\r\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\r\n  if (a = xe - ye) {\r\n\r\n    if (xlty = a < 0) {\r\n      a = -a;\r\n      t = xc;\r\n    } else {\r\n      ye = xe;\r\n      t = yc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (b = a; b--;) t.push(0);\r\n    t.reverse();\r\n  } else {\r\n\r\n    // Exponents equal. Check digit by digit.\r\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\r\n\r\n    for (a = b = 0; b < j; b++) {\r\n      if (xc[b] != yc[b]) {\r\n        xlty = xc[b] < yc[b];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // x < y? Point xc to the array of the bigger number.\r\n  if (xlty) {\r\n    t = xc;\r\n    xc = yc;\r\n    yc = t;\r\n    y.s = -y.s;\r\n  }\r\n\r\n  /*\r\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\r\n   * needs to start at yc.length.\r\n   */\r\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\r\n\r\n  // Subtract yc from xc.\r\n  for (b = i; j > a;) {\r\n    if (xc[--j] < yc[j]) {\r\n      for (i = j; i && !xc[--i];) xc[i] = 9;\r\n      --xc[i];\r\n      xc[j] += 10;\r\n    }\r\n\r\n    xc[j] -= yc[j];\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (; xc[--b] === 0;) xc.pop();\r\n\r\n  // Remove leading zeros and adjust exponent accordingly.\r\n  for (; xc[0] === 0;) {\r\n    xc.shift();\r\n    --ye;\r\n  }\r\n\r\n  if (!xc[0]) {\r\n\r\n    // n - n = +0\r\n    y.s = 1;\r\n\r\n    // Result must be zero.\r\n    xc = [ye = 0];\r\n  }\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\r\n */\r\nP.mod = function (y) {\r\n  var ygtx,\r\n    x = this,\r\n    Big = x.constructor,\r\n    a = x.s,\r\n    b = (y = new Big(y)).s;\r\n\r\n  if (!y.c[0]) {\r\n    throw Error(DIV_BY_ZERO);\r\n  }\r\n\r\n  x.s = y.s = 1;\r\n  ygtx = y.cmp(x) == 1;\r\n  x.s = a;\r\n  y.s = b;\r\n\r\n  if (ygtx) return new Big(x);\r\n\r\n  a = Big.DP;\r\n  b = Big.RM;\r\n  Big.DP = Big.RM = 0;\r\n  x = x.div(y);\r\n  Big.DP = a;\r\n  Big.RM = b;\r\n\r\n  return this.minus(x.times(y));\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big negated.\r\n */\r\nP.neg = function () {\r\n  var x = new this.constructor(this);\r\n  x.s = -x.s;\r\n  return x;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big plus the value of Big y.\r\n */\r\nP.plus = P.add = function (y) {\r\n  var e, k, t,\r\n    x = this,\r\n    Big = x.constructor;\r\n\r\n  y = new Big(y);\r\n\r\n  // Signs differ?\r\n  if (x.s != y.s) {\r\n    y.s = -y.s;\r\n    return x.minus(y);\r\n  }\r\n\r\n  var xe = x.e,\r\n    xc = x.c,\r\n    ye = y.e,\r\n    yc = y.c;\r\n\r\n  // Either zero?\r\n  if (!xc[0] || !yc[0]) {\r\n    if (!yc[0]) {\r\n      if (xc[0]) {\r\n        y = new Big(x);\r\n      } else {\r\n        y.s = x.s;\r\n      }\r\n    }\r\n    return y;\r\n  }\r\n\r\n  xc = xc.slice();\r\n\r\n  // Prepend zeros to equalise exponents.\r\n  // Note: reverse faster than unshifts.\r\n  if (e = xe - ye) {\r\n    if (e > 0) {\r\n      ye = xe;\r\n      t = yc;\r\n    } else {\r\n      e = -e;\r\n      t = xc;\r\n    }\r\n\r\n    t.reverse();\r\n    for (; e--;) t.push(0);\r\n    t.reverse();\r\n  }\r\n\r\n  // Point xc to the longer array.\r\n  if (xc.length - yc.length < 0) {\r\n    t = yc;\r\n    yc = xc;\r\n    xc = t;\r\n  }\r\n\r\n  e = yc.length;\r\n\r\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\r\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\r\n\r\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n  if (k) {\r\n    xc.unshift(k);\r\n    ++ye;\r\n  }\r\n\r\n  // Remove trailing zeros.\r\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\r\n\r\n  y.c = xc;\r\n  y.e = ye;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a Big whose value is the value of this Big raised to the power n.\r\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\r\n * mode Big.RM.\r\n *\r\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n */\r\nP.pow = function (n) {\r\n  var x = this,\r\n    one = new x.constructor('1'),\r\n    y = one,\r\n    isneg = n < 0;\r\n\r\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\r\n    throw Error(INVALID + 'exponent');\r\n  }\r\n\r\n  if (isneg) n = -n;\r\n\r\n  for (;;) {\r\n    if (n & 1) y = y.times(x);\r\n    n >>= 1;\r\n    if (!n) break;\r\n    x = x.times(x);\r\n  }\r\n\r\n  return isneg ? one.div(y) : y;\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\r\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.prec = function (sd, rm) {\r\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n    throw Error(INVALID + 'precision');\r\n  }\r\n  return round(new this.constructor(this), sd, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\r\n * using rounding mode rm, or Big.RM if rm is not specified.\r\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\r\n * If dp is not specified, round to 0 decimal places.\r\n *\r\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.round = function (dp, rm) {\r\n  if (dp === UNDEFINED) dp = 0;\r\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\r\n    throw Error(INVALID_DP);\r\n  }\r\n  return round(new this.constructor(this), dp + this.e + 1, rm);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\r\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n */\r\nP.sqrt = function () {\r\n  var r, c, t,\r\n    x = this,\r\n    Big = x.constructor,\r\n    s = x.s,\r\n    e = x.e,\r\n    half = new Big('0.5');\r\n\r\n  // Zero?\r\n  if (!x.c[0]) return new Big(x);\r\n\r\n  // Negative?\r\n  if (s < 0) {\r\n    throw Error(NAME + 'No square root');\r\n  }\r\n\r\n  // Estimate.\r\n  s = Math.sqrt(x + '');\r\n\r\n  // Math.sqrt underflow/overflow?\r\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\r\n  if (s === 0 || s === 1 / 0) {\r\n    c = x.c.join('');\r\n    if (!(c.length + e & 1)) c += '0';\r\n    s = Math.sqrt(c);\r\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\r\n  } else {\r\n    r = new Big(s + '');\r\n  }\r\n\r\n  e = r.e + (Big.DP += 4);\r\n\r\n  // Newton-Raphson iteration.\r\n  do {\r\n    t = r;\r\n    r = half.times(t.plus(x.div(t)));\r\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\r\n\r\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\r\n};\r\n\r\n\r\n/*\r\n * Return a new Big whose value is the value of this Big times the value of Big y.\r\n */\r\nP.times = P.mul = function (y) {\r\n  var c,\r\n    x = this,\r\n    Big = x.constructor,\r\n    xc = x.c,\r\n    yc = (y = new Big(y)).c,\r\n    a = xc.length,\r\n    b = yc.length,\r\n    i = x.e,\r\n    j = y.e;\r\n\r\n  // Determine sign of result.\r\n  y.s = x.s == y.s ? 1 : -1;\r\n\r\n  // Return signed 0 if either 0.\r\n  if (!xc[0] || !yc[0]) {\r\n    y.c = [y.e = 0];\r\n    return y;\r\n  }\r\n\r\n  // Initialise exponent of result as x.e + y.e.\r\n  y.e = i + j;\r\n\r\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n  if (a < b) {\r\n    c = xc;\r\n    xc = yc;\r\n    yc = c;\r\n    j = a;\r\n    a = b;\r\n    b = j;\r\n  }\r\n\r\n  // Initialise coefficient array of result with zeros.\r\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\r\n\r\n  // Multiply.\r\n\r\n  // i is initially xc.length.\r\n  for (i = b; i--;) {\r\n    b = 0;\r\n\r\n    // a is yc.length.\r\n    for (j = a + i; j > i;) {\r\n\r\n      // Current sum of products at this digit position, plus carry.\r\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n      c[j--] = b % 10;\r\n\r\n      // carry\r\n      b = b / 10 | 0;\r\n    }\r\n\r\n    c[j] = b;\r\n  }\r\n\r\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\r\n  if (b) ++y.e;\r\n  else c.shift();\r\n\r\n  // Remove trailing zeros.\r\n  for (i = c.length; !c[--i];) c.pop();\r\n  y.c = c;\r\n\r\n  return y;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toExponential = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), ++dp, rm);\r\n    for (; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, true, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\r\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\r\n *\r\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n *\r\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n */\r\nP.toFixed = function (dp, rm) {\r\n  var x = this,\r\n    n = x.c[0];\r\n\r\n  if (dp !== UNDEFINED) {\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\r\n      throw Error(INVALID_DP);\r\n    }\r\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\r\n\r\n    // x.e may have changed if the value is rounded up.\r\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, false, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Omit the sign for negative zero.\r\n */\r\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\r\n};\r\n\r\n\r\n/*\r\n * Return the value of this Big as a primitve number.\r\n */\r\nP.toNumber = function () {\r\n  var n = Number(stringify(this, true, true));\r\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\r\n    throw Error(NAME + 'Imprecise conversion');\r\n  }\r\n  return n;\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big rounded to sd significant digits using\r\n * rounding mode rm, or Big.RM if rm is not specified.\r\n * Use exponential notation if sd is less than the number of digits necessary to represent\r\n * the integer part of the value in normal notation.\r\n *\r\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\r\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\r\n */\r\nP.toPrecision = function (sd, rm) {\r\n  var x = this,\r\n    Big = x.constructor,\r\n    n = x.c[0];\r\n\r\n  if (sd !== UNDEFINED) {\r\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\r\n      throw Error(INVALID + 'precision');\r\n    }\r\n    x = round(new Big(x), sd, rm);\r\n    for (; x.c.length < sd;) x.c.push(0);\r\n  }\r\n\r\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\r\n};\r\n\r\n\r\n/*\r\n * Return a string representing the value of this Big.\r\n * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n * Include the sign for negative zero.\r\n */\r\nP.valueOf = function () {\r\n  var x = this,\r\n    Big = x.constructor;\r\n  if (Big.strict === true) {\r\n    throw Error(NAME + 'valueOf disallowed');\r\n  }\r\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\r\n};\r\n\r\n\r\n// Export\r\n\r\n\r\nexport var Big = _Big_();\r\n\r\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\r\nexport default Big;\r\n","import type { OriginMessageData, WorkerMessageData, WorkerMessageError } from './PostMessageConnector';\r\n\r\nimport { BIGINT_PREFIX } from './bigint';\r\n\r\nexport const UNDEFINED_PREFIX = 'undefined:';\r\n\r\nfunction extensionMessageReplacer(this: any, key: string, value: any) {\r\n  if (value === undefined) {\r\n    return `${UNDEFINED_PREFIX}marker`;\r\n  }\r\n\r\n  // Bigint is replaced by patching `toJSON` method\r\n\r\n  return value;\r\n}\r\n\r\nfunction extensionMessageReviver(this: any, key: string, value: any) {\r\n  // Handle bigint values\r\n  if (typeof value === 'string' && value.startsWith(BIGINT_PREFIX)) {\r\n    return BigInt(value.slice(BIGINT_PREFIX.length));\r\n  }\r\n\r\n  // Handle undefined values\r\n  if (typeof value === 'string' && value.startsWith(UNDEFINED_PREFIX)) {\r\n    return undefined;\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\nexport function encodeExtensionMessage(data: OriginMessageData | WorkerMessageData) {\r\n  return JSON.stringify(data, extensionMessageReplacer);\r\n}\r\n\r\nexport function decodeExtensionMessage<T extends OriginMessageData | WorkerMessageData>(data: string | T): T {\r\n  if (typeof data === 'string') {\r\n    return JSON.parse(data, extensionMessageReviver);\r\n  }\r\n  return data;\r\n}\r\n\r\nexport function encodeError(error: Error): WorkerMessageError {\r\n  if (error instanceof Error) {\r\n    return {\r\n      name: error.name,\r\n      message: error.message,\r\n      stack: error.stack,\r\n    };\r\n  }\r\n\r\n  // Just in case\r\n  return {\r\n    name: 'Error',\r\n    message: String(error),\r\n  };\r\n}\r\n\r\nexport function decodeError({ name, message, stack }: WorkerMessageError): Error {\r\n  const error = new Error(message);\r\n  error.name = name;\r\n  if (stack) {\r\n    error.stack = stack;\r\n  }\r\n  return error;\r\n}\r\n","import { TONCOIN } from '../config';\r\nimport { Big } from '../lib/big.js';\r\n\r\nBig.RM = 0; // RoundDown\r\nBig.NE = -100000; // Disable exponential form\r\nBig.PE = 100000; // Disable exponential form\r\n\r\nconst ten = Big(10);\r\n\r\nexport function fromDecimal(value: string | number, decimals?: number) {\r\n  return BigInt(Big(value).mul(ten.pow(decimals ?? TONCOIN.decimals)).round().toString());\r\n}\r\n\r\nexport function toDecimal(value: bigint | number, decimals?: number, noFloor = false) {\r\n  return toBig(value, decimals ?? TONCOIN.decimals, noFloor).toString();\r\n}\r\n\r\nexport function toBig(value: bigint | number, decimals: number = TONCOIN.decimals, noFloor = false) {\r\n  return Big(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? Big.roundHalfUp : undefined);\r\n}\r\n\r\nexport function roundDecimal(value: string, decimals: number) {\r\n  return Big(value).round(decimals).toString();\r\n}\r\n","export class AssertionError extends Error {\r\n  constructor(\r\n    message: string,\r\n    // Any additional information for the error to help debug it. Don't put sensitive information here.\r\n    public metadata?: unknown,\r\n  ) {\r\n    super(message);\r\n  }\r\n}\r\n\r\nexport function assert(condition: boolean, message: string, metadata?: unknown) {\r\n  if (!condition) {\r\n    throw new AssertionError(message, metadata);\r\n  }\r\n}\r\n","import { DEBUG, DEBUG_API } from '../config';\r\nimport { AssertionError } from './assert';\r\n\r\nexport interface Log {\r\n  message: string;\r\n  args: any[];\r\n  time: number; // Passing data from the worker to the application as a date object is not supported\r\n  level: 'debug' | 'debugError';\r\n}\r\n\r\nconst MAX_LOG_LENGTH = 999;\r\nconst logs: Log[] = [];\r\n\r\nexport function errorReplacer(_: string, value: any) {\r\n  if (value instanceof Error) {\r\n    return {\r\n      name: value.name,\r\n      message: value.message,\r\n      stack: value.stack,\r\n      metadata: value instanceof AssertionError ? value.metadata : undefined,\r\n    };\r\n  }\r\n  return value;\r\n}\r\n\r\nexport function addLog(log: Omit<Log, 'time'>) {\r\n  if (logs.length > MAX_LOG_LENGTH) {\r\n    logs.shift();\r\n  }\r\n\r\n  logs.push({\r\n    ...log,\r\n    args: log.args.map((arg) => JSON.stringify(arg, errorReplacer)),\r\n    time: Date.now(),\r\n  });\r\n}\r\n\r\nexport function getLogs() {\r\n  return logs;\r\n}\r\n\r\nexport function logDebugError(message: string, ...args: any[]) {\r\n  addLog({ message, level: 'debugError', args });\r\n  if (DEBUG) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(`[DEBUG][${message}]`, ...args);\r\n  }\r\n}\r\n\r\nexport function logDebug(message: any, ...args: any[]) {\r\n  addLog({ message, level: 'debug', args });\r\n  if (DEBUG) {\r\n    // eslint-disable-next-line no-console\r\n    console.log(`[DEBUG] ${message}`, ...args);\r\n  }\r\n}\r\n\r\nexport function logDebugApi(message: any, obj1: any, obj2?: any) {\r\n  if (DEBUG_API) {\r\n    // eslint-disable-next-line no-console\r\n    console.debug(`[DEBUG] ${message}`);\r\n    // eslint-disable-next-line no-console\r\n    if (obj1) console.dir(obj1);\r\n    // eslint-disable-next-line no-console\r\n    if (obj2) console.dir(obj2);\r\n  }\r\n}\r\n\r\nexport function logSelfXssWarnings() {\r\n  const selfXssWarnings: AnyLiteral = {\r\n    en: 'WARNING! This console can be a way for bad people to take over your crypto wallet through something called '\r\n      + 'a Self-XSS attack. So, don\\'t put in or paste code you don\\'t understand. Stay safe!',\r\n    ru: 'ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так '\r\n      + 'называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!',\r\n    es: '¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su '\r\n      + 'billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, '\r\n      + 'no introduzca ni pegue código que no comprenda. ¡Cuídese!',\r\n    zh: '警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！',\r\n  };\r\n\r\n  const langCode = navigator.language.split('-')[0];\r\n  const text = selfXssWarnings[langCode] || selfXssWarnings.en;\r\n\r\n  // eslint-disable-next-line no-console\r\n  console.log('%c%s', 'color: red; background: yellow; font-size: 18px;', text);\r\n}\r\n","import type InAppBrowserPostMessageAdapter from './embeddedDappBridge/provider/InAppBrowserPostMessageAdapter';\r\nimport type {\r\n  ApiUpdate,\r\n  CancellableCallback,\r\n  OriginMessageData,\r\n  OriginMessageEvent,\r\n  WorkerMessageData,\r\n} from './PostMessageConnector';\r\n\r\nimport { decodeExtensionMessage, encodeError, encodeExtensionMessage } from './extensionMessageSerializer';\r\nimport { logDebugError } from './logs';\r\n\r\ndeclare const self: WorkerGlobalScope;\r\n\r\nconst callbackState = new Map<string, CancellableCallback>();\r\n\r\ntype ApiConfig =\r\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\r\n  ((name: string, ...args: any[]) => any | [any, ArrayBuffer[]])\r\n  | Record<string, AnyFunction>;\r\ntype SendToOrigin = (data: WorkerMessageData, transferables?: Transferable[]) => void;\r\n\r\n/**\r\n * Provides functions, defined in this messenger (a window, a worker), to another messenger.\r\n * The other messenger can call the functions using `createConnector`.\r\n */\r\nexport function createPostMessageInterface(\r\n  api: ApiConfig,\r\n  channel?: string,\r\n  target: DedicatedWorkerGlobalScope | Worker | InAppBrowserPostMessageAdapter = self as DedicatedWorkerGlobalScope,\r\n  shouldIgnoreErrors?: boolean,\r\n) {\r\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\r\n    data.channel = channel;\r\n\r\n    if (transferables) {\r\n      target.postMessage(data, transferables);\r\n    } else {\r\n      target.postMessage(data);\r\n    }\r\n  }\r\n\r\n  if (!shouldIgnoreErrors) {\r\n    handleErrors(sendToOrigin);\r\n  }\r\n\r\n  function handleMessage(e: OriginMessageEvent) {\r\n    if (e.data?.channel === channel) {\r\n      void onMessage(api, e.data, sendToOrigin);\r\n    }\r\n  }\r\n\r\n  // Correct for any target, but TypeScript weirdly complains\r\n  (target as DedicatedWorkerGlobalScope).addEventListener('message', handleMessage);\r\n\r\n  return () => {\r\n    (target as DedicatedWorkerGlobalScope).removeEventListener('message', handleMessage);\r\n  };\r\n}\r\n\r\n/**\r\n * Provides functions, defined in the main window, to an IFrame.\r\n */\r\nexport function createReverseIFrameInterface(\r\n  api: ApiConfig,\r\n  targetOrigin: string,\r\n  target: Window,\r\n  channel?: string,\r\n) {\r\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\r\n    data.channel = channel;\r\n\r\n    if (transferables) {\r\n      throw new Error('Cannot send `Transferable` to `Window`');\r\n    } else {\r\n      target.postMessage(data, targetOrigin);\r\n    }\r\n  }\r\n\r\n  function handleMessage(e: OriginMessageEvent) {\r\n    if (targetOrigin && e.origin !== targetOrigin) return;\r\n\r\n    if (e.data?.channel === channel) {\r\n      void onMessage(api, e.data, sendToOrigin);\r\n    }\r\n  }\r\n\r\n  window.addEventListener('message', handleMessage);\r\n\r\n  return () => {\r\n    window.removeEventListener('message', handleMessage);\r\n  };\r\n}\r\n\r\n/**\r\n * Provides functions, defined in this extension service worker, to a window.\r\n * The window can call the functions using `createExtensionConnector`.\r\n */\r\nexport function createExtensionInterface(\r\n  portName: string,\r\n  api: ApiConfig,\r\n  channel?: string,\r\n  cleanUpdater?: (onUpdate: (update: ApiUpdate) => void) => void,\r\n  withAutoInit = false,\r\n) {\r\n  chrome.runtime.onConnect.addListener((port) => {\r\n    if (port.name !== portName) {\r\n      return;\r\n    }\r\n\r\n    const url = port.sender?.url;\r\n    const origin = url ? new URL(url).origin : undefined;\r\n\r\n    const dAppUpdater = (update: ApiUpdate) => {\r\n      sendToOrigin({\r\n        type: 'update',\r\n        update,\r\n      });\r\n    };\r\n\r\n    function sendToOrigin(data: WorkerMessageData) {\r\n      data.channel = channel;\r\n      port.postMessage(encodeExtensionMessage(data));\r\n    }\r\n\r\n    handleErrors(sendToOrigin);\r\n\r\n    port.onMessage.addListener((data: OriginMessageData | string) => {\r\n      data = decodeExtensionMessage(data);\r\n      if (data.channel === channel) {\r\n        void onMessage(api, data, sendToOrigin, dAppUpdater, origin);\r\n      }\r\n    });\r\n\r\n    port.onDisconnect.addListener(() => {\r\n      cleanUpdater?.(dAppUpdater);\r\n    });\r\n\r\n    if (withAutoInit) {\r\n      void onMessage(api, { type: 'init', args: [] }, sendToOrigin, dAppUpdater);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Provides functions, defined in this window, to the extension service worker.\r\n * The service worker can call the functions using `createReverseExtensionConnector`.\r\n */\r\nexport function createReverseExtensionInterface(\r\n  portName: string,\r\n  api: ApiConfig,\r\n) {\r\n  let port: chrome.runtime.Port;\r\n\r\n  function sendToServiceWorker(data: WorkerMessageData) {\r\n    port.postMessage(encodeExtensionMessage(data));\r\n  }\r\n\r\n  function connect() {\r\n    port = chrome.runtime.connect({ name: portName });\r\n\r\n    port.onMessage.addListener((data: OriginMessageData | string) => {\r\n      data = decodeExtensionMessage(data);\r\n      void onMessage(api, data, sendToServiceWorker);\r\n    });\r\n\r\n    // For some reason port can suddenly get disconnected\r\n    port.onDisconnect.addListener(() => {\r\n      connect();\r\n    });\r\n  }\r\n\r\n  connect();\r\n}\r\n\r\nasync function onMessage(\r\n  api: ApiConfig,\r\n  data: OriginMessageData,\r\n  sendToOrigin: SendToOrigin,\r\n  onUpdate?: (update: ApiUpdate) => void,\r\n  origin?: string,\r\n) {\r\n  if (!onUpdate) {\r\n    onUpdate = (update: ApiUpdate) => {\r\n      sendToOrigin({\r\n        type: 'update',\r\n        update,\r\n      });\r\n    };\r\n  }\r\n\r\n  switch (data.type) {\r\n    case 'init': {\r\n      const { args } = data;\r\n      const promise = typeof api === 'function'\r\n        ? api('init', origin, onUpdate, ...args)\r\n        : api.init?.(onUpdate, ...args);\r\n      await promise;\r\n\r\n      break;\r\n    }\r\n    case 'callMethod': {\r\n      const {\r\n        messageId, name, args, withCallback,\r\n      } = data;\r\n      try {\r\n        // This method is probably from another worker\r\n        if (typeof api !== 'function' && !api[name]) return;\r\n\r\n        if (messageId && withCallback) {\r\n          const callback = (...callbackArgs: any[]) => {\r\n            const lastArg = callbackArgs[callbackArgs.length - 1];\r\n\r\n            sendToOrigin({\r\n              type: 'methodCallback',\r\n              messageId,\r\n              callbackArgs,\r\n            }, isTransferable(lastArg) ? [lastArg] : undefined);\r\n          };\r\n\r\n          callbackState.set(messageId, callback);\r\n\r\n          args.push(callback as never);\r\n        }\r\n\r\n        const response = typeof api === 'function'\r\n          ? await api(name, origin, ...args)\r\n          : await api[name](...args);\r\n        const { arrayBuffer } = (typeof response === 'object' && response && 'arrayBuffer' in response) || {};\r\n\r\n        if (messageId) {\r\n          sendToOrigin(\r\n            {\r\n              type: 'methodResponse',\r\n              messageId,\r\n              response,\r\n            },\r\n            arrayBuffer ? [arrayBuffer] : undefined,\r\n          );\r\n        }\r\n      } catch (err: any) {\r\n        logDebugError(name, err);\r\n\r\n        if (messageId) {\r\n          sendToOrigin({\r\n            type: 'methodResponse',\r\n            messageId,\r\n            error: encodeError(err),\r\n          });\r\n        }\r\n      }\r\n\r\n      if (messageId) {\r\n        callbackState.delete(messageId);\r\n      }\r\n\r\n      break;\r\n    }\r\n    case 'cancelProgress': {\r\n      const callback = callbackState.get(data.messageId);\r\n      if (callback) {\r\n        callback.isCanceled = true;\r\n      }\r\n\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction isTransferable(obj: any) {\r\n  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;\r\n}\r\n\r\nfunction handleErrors(sendToOrigin: SendToOrigin) {\r\n  self.addEventListener('error', (e) => {\r\n    const error = e.error || { name: 'Error', message: 'Uncaught exception in worker' };\r\n    logDebugError(error.message, e.error);\r\n\r\n    sendToOrigin({\r\n      type: 'unhandledError',\r\n      error: encodeError(error),\r\n    });\r\n  });\r\n\r\n  self.addEventListener('unhandledrejection', (e) => {\r\n    const error = e.reason || { name: 'Error', message: 'Unhandled rejection in worker' };\r\n    logDebugError(error.message, e.reason);\r\n\r\n    sendToOrigin({\r\n      type: 'unhandledError',\r\n      error: encodeError(error),\r\n    });\r\n  });\r\n}\r\n","import type { ApiAnyDisplayError } from './types';\r\nimport { ApiCommonError } from './types';\r\n\r\nexport class ApiBaseError extends Error {\r\n  constructor(message?: string, public displayError?: ApiAnyDisplayError) {\r\n    super(message);\r\n    this.name = this.constructor.name;\r\n  }\r\n}\r\n\r\nexport class ApiUserRejectsError extends ApiBaseError {\r\n  constructor(message: string = 'Canceled by the user') {\r\n    super(message);\r\n  }\r\n}\r\n\r\nexport class ApiServerError extends ApiBaseError {\r\n  constructor(message: string, public statusCode?: number) {\r\n    super(message, ApiCommonError.ServerError);\r\n  }\r\n}\r\n\r\nexport class AbortOperationError extends ApiBaseError {\r\n  constructor(message: string = 'Abort operation') {\r\n    super(message);\r\n  }\r\n}\r\n\r\nexport class NotImplemented extends ApiBaseError {\r\n  constructor(message: string = 'Not implemented') {\r\n    super(message);\r\n  }\r\n}\r\n\r\nexport function maybeApiErrors(fn: AnyAsyncFunction) {\r\n  return async (...args: any) => {\r\n    try {\r\n      return await fn(...args);\r\n    } catch (err) {\r\n      return handleServerError(err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function handleServerError(err: any) {\r\n  if (err instanceof ApiServerError) {\r\n    return { error: err.displayError! };\r\n  }\r\n  throw err;\r\n}\r\n","import type { CancellableCallback } from '../../util/PostMessageConnector';\r\n\r\nimport { ungzip } from '../../util/compression';\r\nimport { createPostMessageInterface } from '../../util/createPostMessageInterface';\r\nimport { fetchWithTimeout } from '../../util/fetch';\r\nimport { logDebugError } from '../../util/logs';\r\n\r\ndeclare const Module: any;\r\n\r\ndeclare function allocate(...args: any[]): string;\r\n\r\ndeclare function intArrayFromString(str: string): string;\r\n\r\ndeclare const self: WorkerGlobalScope;\r\n\r\ntry {\r\n  self.importScripts('rlottie-wasm.js');\r\n} catch (err) {\r\n  throw new Error('Failed to import rlottie-wasm.js');\r\n}\r\n\r\nlet rLottieApi: Record<string, AnyFunction>;\r\nconst rLottieApiPromise = new Promise<void>((resolve) => {\r\n  Module.onRuntimeInitialized = () => {\r\n    rLottieApi = {\r\n      init: Module.cwrap('lottie_init', '', []),\r\n      destroy: Module.cwrap('lottie_destroy', '', ['number']),\r\n      resize: Module.cwrap('lottie_resize', '', ['number', 'number', 'number']),\r\n      buffer: Module.cwrap('lottie_buffer', 'number', ['number']),\r\n      render: Module.cwrap('lottie_render', '', ['number', 'number']),\r\n      loadFromData: Module.cwrap('lottie_load_from_data', 'number', ['number', 'number']),\r\n    };\r\n\r\n    resolve();\r\n  };\r\n});\r\n\r\nconst HIGH_PRIORITY_MAX_FPS = 60;\r\nconst LOW_PRIORITY_MAX_FPS = 30;\r\nconst DESTROY_REPEAT_DELAY = 1000;\r\nconst LOTTIE_JSON_STUB = '{\"tgs\":1,\"w\":16,\"h\":16,\"layers\":[]}';\r\n\r\nconst renderers = new Map<string, {\r\n  imgSize: number;\r\n  reduceFactor: number;\r\n  handle: any;\r\n  imageData: ImageData;\r\n  customColor?: [number, number, number];\r\n}>();\r\n\r\nasync function init(\r\n  key: string,\r\n  tgsUrl: string,\r\n  imgSize: number,\r\n  isLowPriority: boolean,\r\n  customColor: [number, number, number] | undefined,\r\n  onInit: CancellableCallback,\r\n) {\r\n  if (!rLottieApi) {\r\n    await rLottieApiPromise;\r\n  }\r\n\r\n  const json = await extractJson(tgsUrl);\r\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\r\n  const handle = rLottieApi.init();\r\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\r\n  rLottieApi.resize(handle, imgSize, imgSize);\r\n\r\n  const imageData = new ImageData(imgSize, imgSize);\r\n\r\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\r\n\r\n  renderers.set(key, {\r\n    imgSize, reduceFactor, handle, imageData, customColor,\r\n  });\r\n\r\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\r\n}\r\n\r\nasync function changeData(\r\n  key: string,\r\n  tgsUrl: string,\r\n  isLowPriority: boolean,\r\n  onInit: CancellableCallback,\r\n) {\r\n  if (!rLottieApi) {\r\n    await rLottieApiPromise;\r\n  }\r\n\r\n  const json = await extractJson(tgsUrl);\r\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\r\n  const { handle } = renderers.get(key)!;\r\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\r\n\r\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\r\n\r\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\r\n}\r\n\r\nasync function extractJson(tgsUrl: string) {\r\n  const response = await fetchWithTimeout(tgsUrl);\r\n\r\n  if (!response.ok) {\r\n    return LOTTIE_JSON_STUB;\r\n  }\r\n\r\n  const contentType = response.headers.get('Content-Type')?.split(';')[0];\r\n  if (contentType === 'application/json') {\r\n    return response.text();\r\n  }\r\n\r\n  try {\r\n    const arrayBuffer = await response.arrayBuffer();\r\n    const inflated = await ungzip(arrayBuffer);\r\n    return new TextDecoder().decode(inflated);\r\n  } catch (err: any) {\r\n    logDebugError('[extractJson] decompression error:', err?.message, err);\r\n\r\n    return LOTTIE_JSON_STUB;\r\n  }\r\n}\r\n\r\nfunction calcParams(json: string, isLowPriority: boolean, framesCount: number) {\r\n  const animationData = JSON.parse(json);\r\n  const maxFps = isLowPriority ? LOW_PRIORITY_MAX_FPS : HIGH_PRIORITY_MAX_FPS;\r\n  const sourceFps = animationData.fr || maxFps;\r\n  const reduceFactor = sourceFps % maxFps === 0 ? sourceFps / maxFps : 1;\r\n\r\n  return {\r\n    reduceFactor,\r\n    msPerFrame: 1000 / (sourceFps / reduceFactor),\r\n    reducedFramesCount: Math.ceil(framesCount / reduceFactor),\r\n  };\r\n}\r\n\r\nasync function renderFrames(\r\n  key: string, frameIndex: number, onProgress: CancellableCallback,\r\n) {\r\n  if (!rLottieApi) {\r\n    await rLottieApiPromise;\r\n  }\r\n\r\n  const {\r\n    imgSize, reduceFactor, handle, imageData, customColor,\r\n  } = renderers.get(key)!;\r\n\r\n  const realIndex = frameIndex * reduceFactor;\r\n\r\n  rLottieApi.render(handle, realIndex);\r\n  const bufferPointer = rLottieApi.buffer(handle);\r\n  const data = Module.HEAPU8.subarray(bufferPointer, bufferPointer + (imgSize * imgSize * 4));\r\n\r\n  if (customColor) {\r\n    const arr = new Uint8ClampedArray(data);\r\n    applyColor(arr, customColor);\r\n    imageData.data.set(arr);\r\n  } else {\r\n    imageData.data.set(data);\r\n  }\r\n\r\n  const imageBitmap = await createImageBitmap(imageData);\r\n\r\n  onProgress(frameIndex, imageBitmap);\r\n}\r\n\r\nfunction applyColor(arr: Uint8ClampedArray, color: [number, number, number]) {\r\n  for (let i = 0; i < arr.length; i += 4) {\r\n    arr[i] = color[0];\r\n    arr[i + 1] = color[1];\r\n    arr[i + 2] = color[2];\r\n  }\r\n}\r\n\r\nfunction destroy(key: string, isRepeated = false) {\r\n  try {\r\n    const renderer = renderers.get(key)!;\r\n    rLottieApi.destroy(renderer.handle);\r\n    renderers.delete(key);\r\n  } catch (err) {\r\n    // `destroy` sometimes can be called before the initialization is finished\r\n    if (!isRepeated) {\r\n      setTimeout(() => destroy(key, true), DESTROY_REPEAT_DELAY);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = {\r\n  'rlottie:init': init,\r\n  'rlottie:changeData': changeData,\r\n  'rlottie:renderFrames': renderFrames,\r\n  'rlottie:destroy': destroy,\r\n};\r\n\r\ncreatePostMessageInterface(api);\r\n\r\nexport type RLottieApi = typeof api;\r\n","import {\r\n  DEFAULT_ERROR_PAUSE,\r\n  DEFAULT_RETRIES,\r\n  DEFAULT_TIMEOUT,\r\n  IPFS_GATEWAY_BASE_URL,\r\n  PROXY_API_BASE_URL,\r\n} from '../config';\r\nimport { ApiServerError } from '../api/errors';\r\nimport { logDebug } from './logs';\r\nimport { pause } from './schedulers';\r\n\r\ntype QueryParams = Record<string, string | number | boolean | string[]>;\r\n\r\nconst MAX_TIMEOUT = 30000; // 30 sec\r\n\r\nexport function fetchJsonWithProxy(url: string | URL, data?: QueryParams, init?: RequestInit) {\r\n  return fetchJson(getProxiedJsonUrl(url.toString()), data, init);\r\n}\r\n\r\nexport async function fetchJson(url: string | URL, data?: QueryParams, init?: RequestInit) {\r\n  const urlObject = new URL(url);\r\n  if (data) {\r\n    Object.entries(data).forEach(([key, value]) => {\r\n      if (value === undefined) {\r\n        return;\r\n      }\r\n\r\n      if (Array.isArray(value)) {\r\n        value.forEach((item) => {\r\n          urlObject.searchParams.append(key, item.toString());\r\n        });\r\n      } else {\r\n        urlObject.searchParams.set(key, value.toString());\r\n      }\r\n    });\r\n  }\r\n\r\n  const response = await fetchWithRetry(urlObject, init);\r\n\r\n  return response.json();\r\n}\r\n\r\nexport async function fetchWithRetry(url: string | URL, init?: RequestInit, options?: {\r\n  retries?: number;\r\n  timeouts?: number | number[];\r\n  shouldSkipRetryFn?: (message?: string, statusCode?: number) => boolean;\r\n}) {\r\n  const {\r\n    retries = DEFAULT_RETRIES,\r\n    timeouts = DEFAULT_TIMEOUT,\r\n    shouldSkipRetryFn = isNotTemporaryError,\r\n  } = options ?? {};\r\n\r\n  let message = 'Unknown error.';\r\n  let statusCode: number | undefined;\r\n\r\n  for (let i = 1; i <= retries; i++) {\r\n    try {\r\n      if (i > 1) {\r\n        logDebug(`Retry request #${i}:`, url.toString(), statusCode);\r\n      }\r\n\r\n      const timeout = Array.isArray(timeouts)\r\n        ? timeouts[i - 1] ?? timeouts[timeouts.length - 1]\r\n        : Math.min(timeouts * i, MAX_TIMEOUT);\r\n      const response = await fetchWithTimeout(url, init, timeout);\r\n      statusCode = response.status;\r\n\r\n      if (statusCode >= 400) {\r\n        const { error } = await response.json().catch(() => {});\r\n        throw new Error(error ?? `HTTP Error ${statusCode}`);\r\n      }\r\n\r\n      return response;\r\n    } catch (err: any) {\r\n      message = typeof err === 'string' ? err : err.message ?? message;\r\n\r\n      const shouldSkipRetry = shouldSkipRetryFn(message, statusCode);\r\n\r\n      if (shouldSkipRetry) {\r\n        throw new ApiServerError(message, statusCode);\r\n      }\r\n\r\n      if (i < retries) {\r\n        await pause(DEFAULT_ERROR_PAUSE * i);\r\n      }\r\n    }\r\n  }\r\n\r\n  throw new ApiServerError(message);\r\n}\r\n\r\nexport async function fetchWithTimeout(url: string | URL, init?: RequestInit, timeout = DEFAULT_TIMEOUT) {\r\n  const controller = new AbortController();\r\n  const id = setTimeout(() => {\r\n    controller.abort();\r\n  }, timeout);\r\n\r\n  try {\r\n    return await fetch(url, {\r\n      ...init,\r\n      signal: controller.signal,\r\n    });\r\n  } finally {\r\n    clearTimeout(id);\r\n  }\r\n}\r\n\r\nexport async function handleFetchErrors(response: Response, ignoreHttpCodes?: number[]) {\r\n  if (!response.ok && (!ignoreHttpCodes?.includes(response.status))) {\r\n    // eslint-disable-next-line prefer-const\r\n    let { error, errors } = await response.json().catch(() => undefined);\r\n    if (!error && errors && errors.length) {\r\n      error = errors[0]?.msg;\r\n    }\r\n\r\n    throw new ApiServerError(error ?? `HTTP Error ${response.status}`, response.status);\r\n  }\r\n  return response;\r\n}\r\n\r\nfunction isNotTemporaryError(message?: string, statusCode?: number) {\r\n  return statusCode && [400, 404].includes(statusCode);\r\n}\r\n\r\nexport function getProxiedJsonUrl(url: string) {\r\n  return `${PROXY_API_BASE_URL}/download-json?url=${encodeURIComponent(url)}`;\r\n}\r\n\r\nexport function getProxiedLottieUrl(url: string) {\r\n  return `${PROXY_API_BASE_URL}/download-lottie?url=${encodeURIComponent(url)}`;\r\n}\r\n\r\nexport function fixIpfsUrl(url: string) {\r\n  return url.replace('ipfs://', IPFS_GATEWAY_BASE_URL);\r\n}\r\n","export const COLOR_COUNT = 2;\r\nexport const QUALITY = 1;\r\n\r\nexport const ACCENT_COLORS = {\r\n  light: [\r\n    '#31AFC7', '#35C759', '#FF9500', '#FF2C55',\r\n    '#AF52DE', '#5856D7', '#73AAED', '#FFB07A',\r\n    '#B76C78', '#9689D1', '#E572CC', '#6BA07A',\r\n    '#338FCC', '#1FC863', '#929395', '#E4B102',\r\n    '#000000',\r\n  ],\r\n  dark: [\r\n    '#3AB5CC', '#32D74B', '#FF9F0B', '#FF325A',\r\n    '#BF5AF2', '#7977FF', '#73AAED', '#FFB07A',\r\n    '#B76C78', '#9689D1', '#E572CC', '#6BA07A',\r\n    '#338FCC', '#2CD36F', '#C3C5C6', '#DDBA00',\r\n    '#FFFFFF',\r\n  ],\r\n} as const;\r\nexport const ACCENT_RADIOACTIVE_INDEX = 13;\r\nexport const ACCENT_SILVER_INDEX = 14;\r\nexport const ACCENT_GOLD_INDEX = 15;\r\nexport const ACCENT_BNW_INDEX = 16;\r\n\r\nconst excludedIndices = new Set([\r\n  ACCENT_RADIOACTIVE_INDEX,\r\n  ACCENT_SILVER_INDEX,\r\n  ACCENT_GOLD_INDEX,\r\n  ACCENT_BNW_INDEX,\r\n]);\r\n\r\nexport const COLORS_TO_DETECT = ACCENT_COLORS.light\r\n  .map((color, index) => ({ color, index }))\r\n  .filter(({ index }) => !excludedIndices.has(index));\r\n","import { COLORS_TO_DETECT } from '../../util/accentColor/constants';\r\nimport { euclideanDistance, hex2rgb } from '../../util/colors';\r\nimport { createPostMessageInterface } from '../../util/createPostMessageInterface';\r\nimport { getCachedImageUrl } from '../../util/getCachedImageUrl';\r\nimport { logDebugError } from '../../util/logs';\r\nimport quantize from '../quantize';\r\n\r\nfunction extractImageData(img: ImageBitmap) {\r\n  const canvas = new OffscreenCanvas(img.width, img.height);\r\n  const ctx = canvas.getContext('2d')!;\r\n  ctx.drawImage(img, 0, 0);\r\n  return ctx.getImageData(0, 0, canvas.width, canvas.height).data;\r\n}\r\n\r\nfunction createPixelArray(imgData: Uint8ClampedArray, pixelCount: number, quality: number) {\r\n  const pixels = imgData;\r\n  const pixelArray = [];\r\n\r\n  for (let i = 0, offset, r, g, b, a; i < pixelCount; i += quality) {\r\n    offset = i * 4;\r\n    r = pixels[offset + 0];\r\n    g = pixels[offset + 1];\r\n    b = pixels[offset + 2];\r\n    a = pixels[offset + 3];\r\n\r\n    // If pixel is mostly opaque and not white\r\n    if (typeof a === 'undefined' || a >= 125) {\r\n      if (!(r > 250 && g > 250 && b > 250)) {\r\n        pixelArray.push([r, g, b]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return pixelArray;\r\n}\r\n\r\nfunction extractPaletteFromImage(img: ImageBitmap, quality: number, colorCount: number) {\r\n  const imageData = extractImageData(img);\r\n  const pixelArray = createPixelArray(imageData, img.width * img.height, quality);\r\n  const cmap = quantize(pixelArray, colorCount);\r\n  return cmap ? cmap.palette() as [number, number, number][] : undefined;\r\n}\r\n\r\nasync function processNftImage(url: string, quality: number, colorCount: number) {\r\n  let bitmap: ImageBitmap | undefined;\r\n\r\n  try {\r\n    const cachedBlobUrl = await getCachedImageUrl(url);\r\n    const response = await fetch(cachedBlobUrl);\r\n    const blob = await response.blob();\r\n    bitmap = await createImageBitmap(blob);\r\n\r\n    const palette = extractPaletteFromImage(bitmap, quality, colorCount);\r\n    if (!palette || palette.length === 0) {\r\n      return undefined;\r\n    }\r\n\r\n    const dominantRgb = palette[0];\r\n\r\n    const distances = COLORS_TO_DETECT.map(({ color }) => euclideanDistance(dominantRgb, hex2rgb(color)));\r\n    const minDistance = Math.min(...distances);\r\n    const minDistanceIndex = distances.indexOf(minDistance);\r\n\r\n    return COLORS_TO_DETECT[minDistanceIndex].index;\r\n  } catch (error) {\r\n    logDebugError('[Worker] Error processing NFT image:', error);\r\n    return undefined;\r\n  } finally {\r\n    if (bitmap) {\r\n      bitmap.close();\r\n    }\r\n  }\r\n}\r\n\r\nconst api = {\r\n  'offscreen-canvas:processNftImage': processNftImage,\r\n  'offscreen-canvas:extractPaletteFromImage': extractPaletteFromImage,\r\n};\r\n\r\ncreatePostMessageInterface(api);\r\n\r\nexport type OffscreenCanvasApi = typeof api;\r\n","import { IMAGE_CACHE_NAME } from '../config';\r\n\r\nexport async function getCachedImageUrl(url: string) {\r\n  const cache = await caches.open(IMAGE_CACHE_NAME);\r\n\r\n  const cachedResponse = await cache.match(url);\r\n  if (cachedResponse) {\r\n    const blob = await cachedResponse.blob();\r\n\r\n    return URL.createObjectURL(blob);\r\n  }\r\n\r\n  const response = await fetch(url);\r\n  if (!response.ok) {\r\n    throw new Error(`Image loading error: ${response.statusText}. URL: ${url}`);\r\n  }\r\n\r\n  await cache.put(url, response.clone());\r\n  const blob = await response.blob();\r\n\r\n  return URL.createObjectURL(blob);\r\n}\r\n","export type RGBColor = [number, number, number];\r\n\r\nexport function hex2rgb(param: string): RGBColor {\r\n  const hex = param.replace('#', '');\r\n  return [\r\n    parseInt(hex.substring(0, 2), 16),\r\n    parseInt(hex.substring(2, 4), 16),\r\n    parseInt(hex.substring(4, 6), 16),\r\n  ];\r\n}\r\n\r\nexport default function rgbToHex(rgb: [number, number, number]) {\r\n  return `#${rgb.map((x) => {\r\n    const hex = x.toString(16);\r\n    return hex.length === 1 ? `0${hex}` : hex;\r\n  }).join('')}`;\r\n}\r\n\r\nexport function euclideanDistance(color1: RGBColor, color2: RGBColor): number {\r\n  const r = 0.3 * ((color1[0] - color2[0]) ** 2);\r\n  const g = 0.59 * ((color1[1] - color2[1]) ** 2);\r\n  const b = 0.11 * ((color1[2] - color2[2]) ** 2);\r\n\r\n  return Math.sqrt(r + g + b);\r\n}\r\n\r\nfunction rgbToLab(rgb: RGBColor): RGBColor {\r\n  let [r, g, b] = rgb.map((value) => value / 255);\r\n  [r, g, b] = [r, g, b].map((value) => (value > 0.04045 ? ((value + 0.055) / 1.055) ** 2.4 : value / 12.92));\r\n\r\n  let x = r * 0.4124 + g * 0.3576 + b * 0.1805;\r\n  let y = r * 0.2126 + g * 0.7152 + b * 0.0722;\r\n  let z = r * 0.0193 + g * 0.1192 + b * 0.9505;\r\n\r\n  [x, y, z] = [x / 0.95047, y, z / 1.08883].map(\r\n    (value) => (value > 0.008856 ? value ** (1 / 3) : (7.787 * value) + 16 / 116),\r\n  );\r\n\r\n  return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)];\r\n}\r\n\r\n/**\r\n * Calculates the perceptual difference between two RGB colors.\r\n *\r\n * Delta E is a metric for understanding how the human eye perceives color difference.\r\n * The following table provides a general guideline:\r\n *\r\n * Delta E  |  Perception\r\n * ---------|-------------------------------------------\r\n * <= 1.0   | Not perceptible by human eyes.\r\n * 1 - 2    | Perceptible through close observation.\r\n * 2 - 10   | Perceptible at a glance.\r\n * 11 - 49  | Colors are more similar than opposite.\r\n * 100      | Colors are exact opposite.\r\n *\r\n * @param rgbA The first color as an RGB array.\r\n * @param rgbB The second color as an RGB array.\r\n * @returns The Delta E value representing the color difference.\r\n */\r\nexport function deltaE(rgbA: RGBColor, rgbB: RGBColor): number {\r\n  const [l1, a1, b1] = rgbToLab(rgbA);\r\n  const [l2, a2, b2] = rgbToLab(rgbB);\r\n\r\n  const c1 = Math.sqrt(a1 * a1 + b1 * b1);\r\n  const c2 = Math.sqrt(a2 * a2 + b2 * b2);\r\n  const deltaC = c1 - c2;\r\n\r\n  const deltaL = l1 - l2;\r\n  const deltaA = a1 - a2;\r\n  const deltaB = b1 - b2;\r\n\r\n  const deltaH = Math.sqrt(deltaA * deltaA + deltaB * deltaB - deltaC * deltaC);\r\n\r\n  const sl = 1.0;\r\n  const sc = 1.0 + 0.045 * c1;\r\n  const sh = 1.0 + 0.015 * c1;\r\n\r\n  const deltaLKlsl = deltaL / sl;\r\n  const deltaCkcsc = deltaC / sc;\r\n  const deltaHkhsh = deltaH / sh;\r\n\r\n  return Math.sqrt(deltaLKlsl * deltaLKlsl + deltaCkcsc * deltaCkcsc + deltaHkhsh * deltaHkhsh);\r\n}\r\n","/* eslint-disable */\r\n\r\n/*\r\n * quantize.js Copyright 2008 Nick Rabinowitz\r\n * Ported to node.js by Olivier Lesnicki\r\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\r\n */\r\n\r\n// fill out a couple protovis dependencies\r\n/*\r\n * Block below copied from Protovis: http://mbostock.github.com/protovis/\r\n * Copyright 2010 Stanford Visualization Group\r\n * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php\r\n */\r\nif (!pv) {\r\n    var pv = {\r\n        map: function(array, f) {\r\n            var o = {};\r\n            return f ? array.map(function(d, i) {\r\n                o.index = i;\r\n                return f.call(o, d);\r\n            }) : array.slice();\r\n        },\r\n        naturalOrder: function(a, b) {\r\n            return (a < b) ? -1 : ((a > b) ? 1 : 0);\r\n        },\r\n        sum: function(array, f) {\r\n            var o = {};\r\n            return array.reduce(f ? function(p, d, i) {\r\n                o.index = i;\r\n                return p + f.call(o, d);\r\n            } : function(p, d) {\r\n                return p + d;\r\n            }, 0);\r\n        },\r\n        max: function(array, f) {\r\n            return Math.max.apply(null, f ? pv.map(array, f) : array);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Basic Javascript port of the MMCQ (modified median cut quantization)\r\n * algorithm from the Leptonica library (http://www.leptonica.com/).\r\n * Returns a color map you can use to map original pixels to the reduced\r\n * palette. Still a work in progress.\r\n *\r\n * @author Nick Rabinowitz\r\n * @example\r\n\r\n// array of pixels as [R,G,B] arrays\r\nvar myPixels = [[190,197,190], [202,204,200], [207,214,210], [211,214,211], [205,207,207]\r\n                // etc\r\n                ];\r\nvar maxColors = 4;\r\n\r\nvar cmap = MMCQ.quantize(myPixels, maxColors);\r\nvar newPalette = cmap.palette();\r\nvar newPixels = myPixels.map(function(p) {\r\n    return cmap.map(p);\r\n});\r\n\r\n */\r\nvar MMCQ = (function() {\r\n    // private constants\r\n    var sigbits = 5,\r\n        rshift = 8 - sigbits,\r\n        maxIterations = 1000,\r\n        fractByPopulations = 0.75;\r\n\r\n    // get reduced-space color index for a pixel\r\n\r\n    function getColorIndex(r, g, b) {\r\n        return (r << (2 * sigbits)) + (g << sigbits) + b;\r\n    }\r\n\r\n    // Simple priority queue\r\n\r\n    function PQueue(comparator) {\r\n        var contents = [],\r\n            sorted = false;\r\n\r\n        function sort() {\r\n            contents.sort(comparator);\r\n            sorted = true;\r\n        }\r\n\r\n        return {\r\n            push: function(o) {\r\n                contents.push(o);\r\n                sorted = false;\r\n            },\r\n            peek: function(index) {\r\n                if (!sorted) sort();\r\n                if (index === undefined) index = contents.length - 1;\r\n                return contents[index];\r\n            },\r\n            pop: function() {\r\n                if (!sorted) sort();\r\n                return contents.pop();\r\n            },\r\n            size: function() {\r\n                return contents.length;\r\n            },\r\n            map: function(f) {\r\n                return contents.map(f);\r\n            },\r\n            debug: function() {\r\n                if (!sorted) sort();\r\n                return contents;\r\n            }\r\n        };\r\n    }\r\n\r\n    // 3d color space box\r\n\r\n    function VBox(r1, r2, g1, g2, b1, b2, histo) {\r\n        var vbox = this;\r\n        vbox.r1 = r1;\r\n        vbox.r2 = r2;\r\n        vbox.g1 = g1;\r\n        vbox.g2 = g2;\r\n        vbox.b1 = b1;\r\n        vbox.b2 = b2;\r\n        vbox.histo = histo;\r\n    }\r\n    VBox.prototype = {\r\n        volume: function(force) {\r\n            var vbox = this;\r\n            if (!vbox._volume || force) {\r\n                vbox._volume = ((vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1));\r\n            }\r\n            return vbox._volume;\r\n        },\r\n        count: function(force) {\r\n            var vbox = this,\r\n                histo = vbox.histo;\r\n            if (!vbox._count_set || force) {\r\n                var npix = 0,\r\n                    i, j, k, index;\r\n                for (i = vbox.r1; i <= vbox.r2; i++) {\r\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\r\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\r\n                            index = getColorIndex(i, j, k);\r\n                            npix += (histo[index] || 0);\r\n                        }\r\n                    }\r\n                }\r\n                vbox._count = npix;\r\n                vbox._count_set = true;\r\n            }\r\n            return vbox._count;\r\n        },\r\n        copy: function() {\r\n            var vbox = this;\r\n            return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);\r\n        },\r\n        avg: function(force) {\r\n            var vbox = this,\r\n                histo = vbox.histo;\r\n            if (!vbox._avg || force) {\r\n                var ntot = 0,\r\n                    mult = 1 << (8 - sigbits),\r\n                    rsum = 0,\r\n                    gsum = 0,\r\n                    bsum = 0,\r\n                    hval,\r\n                    i, j, k, histoindex;\r\n                for (i = vbox.r1; i <= vbox.r2; i++) {\r\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\r\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\r\n                            histoindex = getColorIndex(i, j, k);\r\n                            hval = histo[histoindex] || 0;\r\n                            ntot += hval;\r\n                            rsum += (hval * (i + 0.5) * mult);\r\n                            gsum += (hval * (j + 0.5) * mult);\r\n                            bsum += (hval * (k + 0.5) * mult);\r\n                        }\r\n                    }\r\n                }\r\n                if (ntot) {\r\n                    vbox._avg = [~~(rsum / ntot), ~~ (gsum / ntot), ~~ (bsum / ntot)];\r\n                } else {\r\n                    //console.log('empty box');\r\n                    vbox._avg = [~~(mult * (vbox.r1 + vbox.r2 + 1) / 2), ~~ (mult * (vbox.g1 + vbox.g2 + 1) / 2), ~~ (mult * (vbox.b1 + vbox.b2 + 1) / 2)];\r\n                }\r\n            }\r\n            return vbox._avg;\r\n        },\r\n        contains: function(pixel) {\r\n            var vbox = this,\r\n                rval = pixel[0] >> rshift;\r\n            gval = pixel[1] >> rshift;\r\n            bval = pixel[2] >> rshift;\r\n            return (rval >= vbox.r1 && rval <= vbox.r2 &&\r\n                gval >= vbox.g1 && gval <= vbox.g2 &&\r\n                bval >= vbox.b1 && bval <= vbox.b2);\r\n        }\r\n    };\r\n\r\n    // Color map\r\n\r\n    function CMap() {\r\n        this.vboxes = new PQueue(function(a, b) {\r\n            return pv.naturalOrder(\r\n                a.vbox.count() * a.vbox.volume(),\r\n                b.vbox.count() * b.vbox.volume()\r\n            )\r\n        });;\r\n    }\r\n    CMap.prototype = {\r\n        push: function(vbox) {\r\n            this.vboxes.push({\r\n                vbox: vbox,\r\n                color: vbox.avg()\r\n            });\r\n        },\r\n        palette: function() {\r\n            return this.vboxes.map(function(vb) {\r\n                return vb.color\r\n            });\r\n        },\r\n        size: function() {\r\n            return this.vboxes.size();\r\n        },\r\n        map: function(color) {\r\n            var vboxes = this.vboxes;\r\n            for (var i = 0; i < vboxes.size(); i++) {\r\n                if (vboxes.peek(i).vbox.contains(color)) {\r\n                    return vboxes.peek(i).color;\r\n                }\r\n            }\r\n            return this.nearest(color);\r\n        },\r\n        nearest: function(color) {\r\n            var vboxes = this.vboxes,\r\n                d1, d2, pColor;\r\n            for (var i = 0; i < vboxes.size(); i++) {\r\n                d2 = Math.sqrt(\r\n                    Math.pow(color[0] - vboxes.peek(i).color[0], 2) +\r\n                    Math.pow(color[1] - vboxes.peek(i).color[1], 2) +\r\n                    Math.pow(color[2] - vboxes.peek(i).color[2], 2)\r\n                );\r\n                if (d2 < d1 || d1 === undefined) {\r\n                    d1 = d2;\r\n                    pColor = vboxes.peek(i).color;\r\n                }\r\n            }\r\n            return pColor;\r\n        },\r\n        forcebw: function() {\r\n            // XXX: won't  work yet\r\n            var vboxes = this.vboxes;\r\n            vboxes.sort(function(a, b) {\r\n                return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color))\r\n            });\r\n\r\n            // force darkest color to black if everything < 5\r\n            var lowest = vboxes[0].color;\r\n            if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\r\n                vboxes[0].color = [0, 0, 0];\r\n\r\n            // force lightest color to white if everything > 251\r\n            var idx = vboxes.length - 1,\r\n                highest = vboxes[idx].color;\r\n            if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\r\n                vboxes[idx].color = [255, 255, 255];\r\n        }\r\n    };\r\n\r\n    // histo (1-d array, giving the number of pixels in\r\n    // each quantized region of color space), or null on error\r\n\r\n    function getHisto(pixels) {\r\n        var histosize = 1 << (3 * sigbits),\r\n            histo = new Array(histosize),\r\n            index, rval, gval, bval;\r\n        pixels.forEach(function(pixel) {\r\n            rval = pixel[0] >> rshift;\r\n            gval = pixel[1] >> rshift;\r\n            bval = pixel[2] >> rshift;\r\n            index = getColorIndex(rval, gval, bval);\r\n            histo[index] = (histo[index] || 0) + 1;\r\n        });\r\n        return histo;\r\n    }\r\n\r\n    function vboxFromPixels(pixels, histo) {\r\n        var rmin = 1000000,\r\n            rmax = 0,\r\n            gmin = 1000000,\r\n            gmax = 0,\r\n            bmin = 1000000,\r\n            bmax = 0,\r\n            rval, gval, bval;\r\n        // find min/max\r\n        pixels.forEach(function(pixel) {\r\n            rval = pixel[0] >> rshift;\r\n            gval = pixel[1] >> rshift;\r\n            bval = pixel[2] >> rshift;\r\n            if (rval < rmin) rmin = rval;\r\n            else if (rval > rmax) rmax = rval;\r\n            if (gval < gmin) gmin = gval;\r\n            else if (gval > gmax) gmax = gval;\r\n            if (bval < bmin) bmin = bval;\r\n            else if (bval > bmax) bmax = bval;\r\n        });\r\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\r\n    }\r\n\r\n    function medianCutApply(histo, vbox) {\r\n        if (!vbox.count()) return;\r\n\r\n        var rw = vbox.r2 - vbox.r1 + 1,\r\n            gw = vbox.g2 - vbox.g1 + 1,\r\n            bw = vbox.b2 - vbox.b1 + 1,\r\n            maxw = pv.max([rw, gw, bw]);\r\n        // only one pixel, no split\r\n        if (vbox.count() == 1) {\r\n            return [vbox.copy()]\r\n        }\r\n        /* Find the partial sum arrays along the selected axis. */\r\n        var total = 0,\r\n            partialsum = [],\r\n            lookaheadsum = [],\r\n            i, j, k, sum, index;\r\n        if (maxw == rw) {\r\n            for (i = vbox.r1; i <= vbox.r2; i++) {\r\n                sum = 0;\r\n                for (j = vbox.g1; j <= vbox.g2; j++) {\r\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\r\n                        index = getColorIndex(i, j, k);\r\n                        sum += (histo[index] || 0);\r\n                    }\r\n                }\r\n                total += sum;\r\n                partialsum[i] = total;\r\n            }\r\n        } else if (maxw == gw) {\r\n            for (i = vbox.g1; i <= vbox.g2; i++) {\r\n                sum = 0;\r\n                for (j = vbox.r1; j <= vbox.r2; j++) {\r\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\r\n                        index = getColorIndex(j, i, k);\r\n                        sum += (histo[index] || 0);\r\n                    }\r\n                }\r\n                total += sum;\r\n                partialsum[i] = total;\r\n            }\r\n        } else { /* maxw == bw */\r\n            for (i = vbox.b1; i <= vbox.b2; i++) {\r\n                sum = 0;\r\n                for (j = vbox.r1; j <= vbox.r2; j++) {\r\n                    for (k = vbox.g1; k <= vbox.g2; k++) {\r\n                        index = getColorIndex(j, k, i);\r\n                        sum += (histo[index] || 0);\r\n                    }\r\n                }\r\n                total += sum;\r\n                partialsum[i] = total;\r\n            }\r\n        }\r\n        partialsum.forEach(function(d, i) {\r\n            lookaheadsum[i] = total - d\r\n        });\r\n\r\n        function doCut(color) {\r\n            var dim1 = color + '1',\r\n                dim2 = color + '2',\r\n                left, right, vbox1, vbox2, d2, count2 = 0;\r\n            for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\r\n                if (partialsum[i] > total / 2) {\r\n                    vbox1 = vbox.copy();\r\n                    vbox2 = vbox.copy();\r\n                    left = i - vbox[dim1];\r\n                    right = vbox[dim2] - i;\r\n                    if (left <= right)\r\n                        d2 = Math.min(vbox[dim2] - 1, ~~ (i + right / 2));\r\n                    else d2 = Math.max(vbox[dim1], ~~ (i - 1 - left / 2));\r\n                    // avoid 0-count boxes\r\n                    while (!partialsum[d2]) d2++;\r\n                    count2 = lookaheadsum[d2];\r\n                    while (!count2 && partialsum[d2 - 1]) count2 = lookaheadsum[--d2];\r\n                    // set dimensions\r\n                    vbox1[dim2] = d2;\r\n                    vbox2[dim1] = vbox1[dim2] + 1;\r\n                    // console.log('vbox counts:', vbox.count(), vbox1.count(), vbox2.count());\r\n                    return [vbox1, vbox2];\r\n                }\r\n            }\r\n\r\n        }\r\n        // determine the cut planes\r\n        return maxw == rw ? doCut('r') :\r\n            maxw == gw ? doCut('g') :\r\n            doCut('b');\r\n    }\r\n\r\n    function quantize(pixels, maxcolors) {\r\n        // short-circuit\r\n        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\r\n            // console.log('wrong number of maxcolors');\r\n            return false;\r\n        }\r\n\r\n        // XXX: check color content and convert to grayscale if insufficient\r\n\r\n        var histo = getHisto(pixels),\r\n            histosize = 1 << (3 * sigbits);\r\n\r\n        // check that we aren't below maxcolors already\r\n        var nColors = 0;\r\n        histo.forEach(function() {\r\n            nColors++\r\n        });\r\n        if (nColors <= maxcolors) {\r\n            // XXX: generate the new colors from the histo and return\r\n        }\r\n\r\n        // get the beginning vbox from the colors\r\n        var vbox = vboxFromPixels(pixels, histo),\r\n            pq = new PQueue(function(a, b) {\r\n                return pv.naturalOrder(a.count(), b.count())\r\n            });\r\n        pq.push(vbox);\r\n\r\n        // inner function to do the iteration\r\n\r\n        function iter(lh, target) {\r\n            var ncolors = 1,\r\n                niters = 0,\r\n                vbox;\r\n            while (niters < maxIterations) {\r\n                vbox = lh.pop();\r\n                if (!vbox.count()) { /* just put it back */\r\n                    lh.push(vbox);\r\n                    niters++;\r\n                    continue;\r\n                }\r\n                // do the cut\r\n                var vboxes = medianCutApply(histo, vbox),\r\n                    vbox1 = vboxes[0],\r\n                    vbox2 = vboxes[1];\r\n\r\n                if (!vbox1) {\r\n                    // console.log(\"vbox1 not defined; shouldn't happen!\");\r\n                    return;\r\n                }\r\n                lh.push(vbox1);\r\n                if (vbox2) { /* vbox2 can be null */\r\n                    lh.push(vbox2);\r\n                    ncolors++;\r\n                }\r\n                if (ncolors >= target) return;\r\n                if (niters++ > maxIterations) {\r\n                    // console.log(\"infinite loop; perhaps too few pixels!\");\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // first set of colors, sorted by population\r\n        iter(pq, fractByPopulations * maxcolors);\r\n        // console.log(pq.size(), pq.debug().length, pq.debug().slice());\r\n\r\n        // Re-sort by the product of pixel occupancy times the size in color space.\r\n        var pq2 = new PQueue(function(a, b) {\r\n            return pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume())\r\n        });\r\n        while (pq.size()) {\r\n            pq2.push(pq.pop());\r\n        }\r\n\r\n        // next set - generate the median cuts using the (npix * vol) sorting.\r\n        iter(pq2, maxcolors - pq2.size());\r\n\r\n        // calculate the actual colors\r\n        var cmap = new CMap();\r\n        while (pq2.size()) {\r\n            cmap.push(pq2.pop());\r\n        }\r\n\r\n        return cmap;\r\n    }\r\n\r\n    return {\r\n        quantize: quantize\r\n    }\r\n})();\r\n\r\nmodule.exports = MMCQ.quantize\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [840], () => (__webpack_require__(16524)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"840\":\"3ef966ea6d7613f38883\",\"861\":\"a2715d07a31bcdb4c95b\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks and chunks that the entrypoint depends on\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t524: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkmytonwallet\"] = self[\"webpackChunkmytonwallet\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","async","ungzip","input","decompressionStream","DecompressionStream","tryCreateDecompressionStream","stream","writer","writable","getWriter","write","close","reader","getReader","output","totalSize","value","done","read","push","byteLength","length","concatenated","Uint8Array","offset","array","set","readBytesFromStream","readable","transformBytesByStream","gunzipSync","source","ArrayBuffer","buffer","byteOffset","env","IS_OPERA_EXTENSION","process","split","TON_USDT_MAINNET_SLUG","Set","MAX_DP","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","P","UNDEFINED","NUMERIC","round","x","sd","rm","more","xc","c","constructor","RM","Error","e","unshift","pop","stringify","doExponential","isNonzero","s","join","n","charAt","slice","abs","this","cmp","y","isneg","yc","i","j","k","l","div","Big","a","b","dp","DP","bl","bt","ri","bz","ai","al","r","rl","q","qc","qi","p","shift","eq","gt","gte","lt","lte","minus","sub","t","xlty","plus","xe","ye","reverse","mod","ygtx","times","neg","add","pow","one","prec","sqrt","half","Math","toExponential","indexOf","mul","Array","toFixed","Symbol","for","toJSON","toString","NE","PE","toNumber","Number","strict","toPrecision","valueOf","_Big_","TypeError","String","nl","test","replace","search","substring","parse","prototype","roundDown","roundHalfUp","roundHalfEven","roundUp","encodeError","error","name","message","stack","AssertionError","metadata","super","logs","errorReplacer","_","undefined","logDebugError","_len","arguments","args","_key","log","level","map","arg","JSON","time","Date","now","callbackState","Map","createPostMessageInterface","api","channel","target","self","sendToOrigin","data","transferables","postMessage","handleMessage","_e$data","onUpdate","origin","update","type","_api$init","promise","init","call","messageId","withCallback","callback","callbackArgs","lastArg","obj","ImageBitmap","response","arrayBuffer","err","delete","get","isCanceled","onMessage","addEventListener","reason","handleErrors","removeEventListener","importScripts","rLottieApi","rLottieApiPromise","Promise","resolve","Module","onRuntimeInitialized","cwrap","destroy","resize","render","loadFromData","LOTTIE_JSON_STUB","renderers","extractJson","tgsUrl","_response$headers$get","url","timeout","controller","AbortController","id","setTimeout","abort","fetch","signal","clearTimeout","fetchWithTimeout","ok","headers","text","inflated","TextDecoder","decode","calcParams","json","isLowPriority","framesCount","maxFps","sourceFps","fr","reduceFactor","msPerFrame","reducedFramesCount","ceil","key","imgSize","customColor","onInit","stringOnWasmHeap","allocate","intArrayFromString","handle","imageData","ImageData","frameIndex","onProgress","realIndex","bufferPointer","HEAPU8","subarray","arr","Uint8ClampedArray","color","applyColor","createImageBitmap","isRepeated","renderer","excludedIndices","COLORS_TO_DETECT","index","filter","_ref","has","extractPaletteFromImage","img","quality","colorCount","canvas","OffscreenCanvas","width","height","ctx","getContext","drawImage","getImageData","extractImageData","pixelArray","imgData","pixelCount","pixels","g","createPixelArray","cmap","quantize","palette","bitmap","cachedBlobUrl","cache","caches","open","cachedResponse","match","blob","URL","createObjectURL","statusText","put","clone","getCachedImageUrl","dominantRgb","distances","color1","color2","euclideanDistance","param","hex","parseInt","hex2rgb","minDistance","min","minDistanceIndex","pv","f","o","d","naturalOrder","sum","reduce","max","apply","MMCQ","getColorIndex","PQueue","comparator","contents","sorted","sort","peek","size","debug","VBox","r1","r2","g1","g2","b1","b2","histo","vbox","CMap","vboxes","count","volume","medianCutApply","rw","gw","bw","maxw","copy","total","partialsum","lookaheadsum","forEach","left","right","vbox1","vbox2","d2","dim1","dim2","count2","doCut","force","_volume","_count_set","npix","_count","avg","_avg","hval","ntot","rsum","gsum","bsum","contains","pixel","rval","gval","bval","vb","nearest","d1","pColor","forcebw","lowest","idx","highest","maxcolors","getHisto","rmin","rmax","gmin","gmax","bmin","bmax","vboxFromPixels","pq","iter","lh","ncolors","niters","pq2","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","__webpack_exports__","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","getter","__esModule","definition","defineProperty","enumerable","chunkId","all","promises","u","miniCssF","globalThis","Function","window","prop","hasOwnProperty","scriptUrl","location","document","currentScript","tagName","toUpperCase","src","scripts","getElementsByTagName","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","then"],"sourceRoot":""}